(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=o(r);fetch(r.href,f)}})();function ng(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var $u={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function e0(){if(fm)return Zl;fm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(a,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:f}}return Zl.Fragment=n,Zl.jsx=o,Zl.jsxs=o,Zl}var dm;function t0(){return dm||(dm=1,$u.exports=e0()),$u.exports}var G=t0(),Wu={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function n0(){if(pm)return ye;pm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,U={};function B(M,O,W){this.props=M,this.context=O,this.refs=U,this.updater=W||I}B.prototype.isReactComponent={},B.prototype.setState=function(M,O){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,O,"setState")},B.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function $(){}$.prototype=B.prototype;function J(M,O,W){this.props=M,this.context=O,this.refs=U,this.updater=W||I}var X=J.prototype=new $;X.constructor=J,V(X,B.prototype),X.isPureReactComponent=!0;var z=Array.isArray;function ae(){}var Q={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function oe(M,O,W){var ee=W.ref;return{$$typeof:i,type:M,key:O,ref:ee!==void 0?ee:null,props:W}}function pe(M,O){return oe(M.type,O,M.props)}function Ne(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function Ie(M){var O={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(W){return O[W]})}var Je=/\/+/g;function xe(M,O){return typeof M=="object"&&M!==null&&M.key!=null?Ie(""+M.key):O.toString(36)}function rt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ae,ae):(M.status="pending",M.then(function(O){M.status==="pending"&&(M.status="fulfilled",M.value=O)},function(O){M.status==="pending"&&(M.status="rejected",M.reason=O)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,O,W,ee,me){var Se=typeof M;(Se==="undefined"||Se==="boolean")&&(M=null);var De=!1;if(M===null)De=!0;else switch(Se){case"bigint":case"string":case"number":De=!0;break;case"object":switch(M.$$typeof){case i:case n:De=!0;break;case v:return De=M._init,H(De(M._payload),O,W,ee,me)}}if(De)return me=me(M),De=ee===""?"."+xe(M,0):ee,z(me)?(W="",De!=null&&(W=De.replace(Je,"$&/")+"/"),H(me,O,W,"",function(In){return In})):me!=null&&(Ne(me)&&(me=pe(me,W+(me.key==null||M&&M.key===me.key?"":(""+me.key).replace(Je,"$&/")+"/")+De)),O.push(me)),1;De=0;var yt=ee===""?".":ee+":";if(z(M))for(var $e=0;$e<M.length;$e++)ee=M[$e],Se=yt+xe(ee,$e),De+=H(ee,O,W,Se,me);else if($e=A(M),typeof $e=="function")for(M=$e.call(M),$e=0;!(ee=M.next()).done;)ee=ee.value,Se=yt+xe(ee,$e++),De+=H(ee,O,W,Se,me);else if(Se==="object"){if(typeof M.then=="function")return H(rt(M),O,W,ee,me);throw O=String(M),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return De}function Z(M,O,W){if(M==null)return M;var ee=[],me=0;return H(M,ee,"","",function(Se){return O.call(W,Se,me++)}),ee}function ne(M){if(M._status===-1){var O=M._result;O=O(),O.then(function(W){(M._status===0||M._status===-1)&&(M._status=1,M._result=W)},function(W){(M._status===0||M._status===-1)&&(M._status=2,M._result=W)}),M._status===-1&&(M._status=0,M._result=O)}if(M._status===1)return M._result.default;throw M._result}var be=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},we={map:Z,forEach:function(M,O,W){Z(M,function(){O.apply(this,arguments)},W)},count:function(M){var O=0;return Z(M,function(){O++}),O},toArray:function(M){return Z(M,function(O){return O})||[]},only:function(M){if(!Ne(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return ye.Activity=T,ye.Children=we,ye.Component=B,ye.Fragment=o,ye.Profiler=r,ye.PureComponent=J,ye.StrictMode=a,ye.Suspense=y,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ye.__COMPILER_RUNTIME={__proto__:null,c:function(M){return Q.H.useMemoCache(M)}},ye.cache=function(M){return function(){return M.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(M,O,W){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ee=V({},M.props),me=M.key;if(O!=null)for(Se in O.key!==void 0&&(me=""+O.key),O)!te.call(O,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&O.ref===void 0||(ee[Se]=O[Se]);var Se=arguments.length-2;if(Se===1)ee.children=W;else if(1<Se){for(var De=Array(Se),yt=0;yt<Se;yt++)De[yt]=arguments[yt+2];ee.children=De}return oe(M.type,me,ee)},ye.createContext=function(M){return M={$$typeof:p,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:f,_context:M},M},ye.createElement=function(M,O,W){var ee,me={},Se=null;if(O!=null)for(ee in O.key!==void 0&&(Se=""+O.key),O)te.call(O,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(me[ee]=O[ee]);var De=arguments.length-2;if(De===1)me.children=W;else if(1<De){for(var yt=Array(De),$e=0;$e<De;$e++)yt[$e]=arguments[$e+2];me.children=yt}if(M&&M.defaultProps)for(ee in De=M.defaultProps,De)me[ee]===void 0&&(me[ee]=De[ee]);return oe(M,Se,me)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(M){return{$$typeof:g,render:M}},ye.isValidElement=Ne,ye.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ne}},ye.memo=function(M,O){return{$$typeof:h,type:M,compare:O===void 0?null:O}},ye.startTransition=function(M){var O=Q.T,W={};Q.T=W;try{var ee=M(),me=Q.S;me!==null&&me(W,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(ae,be)}catch(Se){be(Se)}finally{O!==null&&W.types!==null&&(O.types=W.types),Q.T=O}},ye.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ye.use=function(M){return Q.H.use(M)},ye.useActionState=function(M,O,W){return Q.H.useActionState(M,O,W)},ye.useCallback=function(M,O){return Q.H.useCallback(M,O)},ye.useContext=function(M){return Q.H.useContext(M)},ye.useDebugValue=function(){},ye.useDeferredValue=function(M,O){return Q.H.useDeferredValue(M,O)},ye.useEffect=function(M,O){return Q.H.useEffect(M,O)},ye.useEffectEvent=function(M){return Q.H.useEffectEvent(M)},ye.useId=function(){return Q.H.useId()},ye.useImperativeHandle=function(M,O,W){return Q.H.useImperativeHandle(M,O,W)},ye.useInsertionEffect=function(M,O){return Q.H.useInsertionEffect(M,O)},ye.useLayoutEffect=function(M,O){return Q.H.useLayoutEffect(M,O)},ye.useMemo=function(M,O){return Q.H.useMemo(M,O)},ye.useOptimistic=function(M,O){return Q.H.useOptimistic(M,O)},ye.useReducer=function(M,O,W){return Q.H.useReducer(M,O,W)},ye.useRef=function(M){return Q.H.useRef(M)},ye.useState=function(M){return Q.H.useState(M)},ye.useSyncExternalStore=function(M,O,W){return Q.H.useSyncExternalStore(M,O,W)},ye.useTransition=function(){return Q.H.useTransition()},ye.version="19.2.4",ye}var mm;function Ec(){return mm||(mm=1,Wu.exports=n0()),Wu.exports}var K=Ec();const i0=ng(K);var ju={exports:{}},$l={},ec={exports:{}},tc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function o0(){return hm||(hm=1,(function(i){function n(H,Z){var ne=H.length;H.push(Z);e:for(;0<ne;){var be=ne-1>>>1,we=H[be];if(0<r(we,Z))H[be]=Z,H[ne]=we,ne=be;else break e}}function o(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var Z=H[0],ne=H.pop();if(ne!==Z){H[0]=ne;e:for(var be=0,we=H.length,M=we>>>1;be<M;){var O=2*(be+1)-1,W=H[O],ee=O+1,me=H[ee];if(0>r(W,ne))ee<we&&0>r(me,W)?(H[be]=me,H[ee]=ne,be=ee):(H[be]=W,H[O]=ne,be=O);else if(ee<we&&0>r(me,ne))H[be]=me,H[ee]=ne,be=ee;else break e}}return Z}function r(H,Z){var ne=H.sortIndex-Z.sortIndex;return ne!==0?ne:H.id-Z.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],h=[],v=1,T=null,E=3,A=!1,I=!1,V=!1,U=!1,B=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function X(H){for(var Z=o(h);Z!==null;){if(Z.callback===null)a(h);else if(Z.startTime<=H)a(h),Z.sortIndex=Z.expirationTime,n(y,Z);else break;Z=o(h)}}function z(H){if(V=!1,X(H),!I)if(o(y)!==null)I=!0,ae||(ae=!0,Ie());else{var Z=o(h);Z!==null&&rt(z,Z.startTime-H)}}var ae=!1,Q=-1,te=5,oe=-1;function pe(){return U?!0:!(i.unstable_now()-oe<te)}function Ne(){if(U=!1,ae){var H=i.unstable_now();oe=H;var Z=!0;try{e:{I=!1,V&&(V=!1,$(Q),Q=-1),A=!0;var ne=E;try{t:{for(X(H),T=o(y);T!==null&&!(T.expirationTime>H&&pe());){var be=T.callback;if(typeof be=="function"){T.callback=null,E=T.priorityLevel;var we=be(T.expirationTime<=H);if(H=i.unstable_now(),typeof we=="function"){T.callback=we,X(H),Z=!0;break t}T===o(y)&&a(y),X(H)}else a(y);T=o(y)}if(T!==null)Z=!0;else{var M=o(h);M!==null&&rt(z,M.startTime-H),Z=!1}}break e}finally{T=null,E=ne,A=!1}Z=void 0}}finally{Z?Ie():ae=!1}}}var Ie;if(typeof J=="function")Ie=function(){J(Ne)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,xe=Je.port2;Je.port1.onmessage=Ne,Ie=function(){xe.postMessage(null)}}else Ie=function(){B(Ne,0)};function rt(H,Z){Q=B(function(){H(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(H){switch(E){case 1:case 2:case 3:var Z=3;break;default:Z=E}var ne=E;E=Z;try{return H()}finally{E=ne}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=E;E=H;try{return Z()}finally{E=ne}},i.unstable_scheduleCallback=function(H,Z,ne){var be=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?be+ne:be):ne=be,H){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ne+we,H={id:v++,callback:Z,priorityLevel:H,startTime:ne,expirationTime:we,sortIndex:-1},ne>be?(H.sortIndex=ne,n(h,H),o(y)===null&&H===o(h)&&(V?($(Q),Q=-1):V=!0,rt(z,ne-be))):(H.sortIndex=we,n(y,H),I||A||(I=!0,ae||(ae=!0,Ie()))),H},i.unstable_shouldYield=pe,i.unstable_wrapCallback=function(H){var Z=E;return function(){var ne=E;E=Z;try{return H.apply(this,arguments)}finally{E=ne}}}})(tc)),tc}var gm;function l0(){return gm||(gm=1,ec.exports=o0()),ec.exports}var nc={exports:{}},wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function a0(){if(ym)return wt;ym=1;var i=Ec();function n(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,h,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:h,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,wt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return f(y,h,null,v)},wt.flushSync=function(y){var h=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=h,a.p=v,a.d.f()}},wt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},wt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},wt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,T=g(v,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:A}):v==="script"&&a.d.X(y,{crossOrigin:T,integrity:E,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},wt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},wt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,T=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},wt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},wt.requestFormReset=function(y){a.d.r(y)},wt.unstable_batchedUpdates=function(y,h){return y(h)},wt.useFormState=function(y,h,v){return p.H.useFormState(y,h,v)},wt.useFormStatus=function(){return p.H.useHostTransitionStatus()},wt.version="19.2.4",wt}var vm;function s0(){if(vm)return nc.exports;vm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),nc.exports=a0(),nc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function r0(){if(Sm)return $l;Sm=1;var i=l0(),n=Ec(),o=s0();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function h(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(a(188));return t!==e?null:e}for(var l=e,s=t;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){l=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return y(d),e;if(m===s)return y(d),t;m=m.sibling}throw Error(a(188))}if(l.return!==s.return)l=d,s=m;else{for(var S=!1,_=d.child;_;){if(_===l){S=!0,l=d,s=m;break}if(_===s){S=!0,s=d,l=m;break}_=_.sibling}if(!S){for(_=m.child;_;){if(_===l){S=!0,l=m,s=d;break}if(_===s){S=!0,s=m,l=d;break}_=_.sibling}if(!S)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),J=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),Ne=Symbol.iterator;function Ie(e){return e===null||typeof e!="object"?null:(e=Ne&&e[Ne]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Symbol.for("react.client.reference");function xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Je?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case B:return"Profiler";case U:return"StrictMode";case z:return"Suspense";case ae:return"SuspenseList";case oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case J:return e.displayName||"Context";case $:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:xe(e.type)||"Memo";case te:t=e._payload,e=e._init;try{return xe(e(t))}catch{}}return null}var rt=Array.isArray,H=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},be=[],we=-1;function M(e){return{current:e}}function O(e){0>we||(e.current=be[we],be[we]=null,we--)}function W(e,t){we++,be[we]=e.current,e.current=t}var ee=M(null),me=M(null),Se=M(null),De=M(null);function yt(e,t){switch(W(Se,t),W(me,e),W(ee,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Lp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Lp(t),e=Gp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(ee),W(ee,e)}function $e(){O(ee),O(me),O(Se)}function In(e){e.memoizedState!==null&&W(De,e);var t=ee.current,l=Gp(t,e.type);t!==l&&(W(me,e),W(ee,l))}function ao(e){me.current===e&&(O(ee),O(me)),De.current===e&&(O(De),Yl._currentValue=ne)}var Di,ia;function Bt(e){if(Di===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Di=t&&t[1]||"",ia=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Di+e+ia}var so=!1;function xn(e,t){if(!e||so)return"";so=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(L){var D=L}Reflect.construct(e,[],k)}else{try{k.call()}catch(L){D=L}e.call(k.prototype)}}else{try{throw Error()}catch(L){D=L}(k=e())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(L){if(L&&D&&typeof L.stack=="string")return[L.stack,D.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),S=m[0],_=m[1];if(S&&_){var C=S.split(`
`),w=_.split(`
`);for(d=s=0;s<C.length&&!C[s].includes("DetermineComponentFrameRoot");)s++;for(;d<w.length&&!w[d].includes("DetermineComponentFrameRoot");)d++;if(s===C.length||d===w.length)for(s=C.length-1,d=w.length-1;1<=s&&0<=d&&C[s]!==w[d];)d--;for(;1<=s&&0<=d;s--,d--)if(C[s]!==w[d]){if(s!==1||d!==1)do if(s--,d--,0>d||C[s]!==w[d]){var q=`
`+C[s].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=s&&0<=d);break}}}finally{so=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Bt(l):""}function oa(e,t){switch(e.tag){case 26:case 27:case 5:return Bt(e.type);case 16:return Bt("Lazy");case 13:return e.child!==t&&t!==null?Bt("Suspense Fallback"):Bt("Suspense");case 19:return Bt("SuspenseList");case 0:case 15:return xn(e.type,!1);case 11:return xn(e.type.render,!1);case 1:return xn(e.type,!0);case 31:return Bt("Activity");default:return""}}function jn(e){try{var t="",l=null;do t+=oa(e,l),l=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ui=Object.prototype.hasOwnProperty,wn=i.unstable_scheduleCallback,Li=i.unstable_cancelCallback,He=i.unstable_shouldYield,Zo=i.unstable_requestPaint,Nt=i.unstable_now,_t=i.unstable_getCurrentPriorityLevel,Gi=i.unstable_ImmediatePriority,ro=i.unstable_UserBlockingPriority,ei=i.unstable_NormalPriority,la=i.unstable_LowPriority,$o=i.unstable_IdlePriority,Js=i.log,Vi=i.unstable_setDisableYieldValue,ti=null,Ct=null;function it(e){if(typeof Js=="function"&&Vi(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(ti,e)}catch{}}var Qe=Math.clz32?Math.clz32:ni,It=Math.log,St=Math.LN2;function ni(e){return e>>>=0,e===0?32:31-(It(e)/St|0)|0}var jt=256,ii=262144,oi=4194304;function Ft(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,t,l){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~m,s!==0?d=Ft(s):(S&=_,S!==0?d=Ft(S):l||(l=_&~e,l!==0&&(d=Ft(l))))):(_=s&~m,_!==0?d=Ft(_):S!==0?d=Ft(S):l||(l=s&~e,l!==0&&(d=Ft(l)))),d===0?0:t!==0&&t!==d&&(t&m)===0&&(m=d&-d,l=t&-t,m>=l||m===32&&(l&4194048)!==0)?t:d}function Hi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ys(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aa(){var e=oi;return oi<<=1,(oi&62914560)===0&&(oi=4194304),e}function Wo(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function qi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ks(e,t,l,s,d,m){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var _=e.entanglements,C=e.expirationTimes,w=e.hiddenUpdates;for(l=S&~l;0<l;){var q=31-Qe(l),k=1<<q;_[q]=0,C[q]=-1;var D=w[q];if(D!==null)for(w[q]=null,q=0;q<D.length;q++){var L=D[q];L!==null&&(L.lane&=-536870913)}l&=~k}s!==0&&sa(e,s,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(S&~t))}function sa(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Qe(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function ra(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var s=31-Qe(l),d=1<<s;d&t|e[s]&t&&(e[s]|=t),l&=~d}}function ua(e,t){var l=t&-t;return l=(l&42)!==0?1:jo(l),(l&(e.suspendedLanes|t))!==0?0:l}function jo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function el(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tl(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:om(e.type))}function ca(e,t){var l=Z.p;try{return Z.p=e,t()}finally{Z.p=l}}var _n=Math.random().toString(36).slice(2),We="__reactFiber$"+_n,ot="__reactProps$"+_n,Dn="__reactContainer$"+_n,mn="__reactEvents$"+_n,fa="__reactListeners$"+_n,nl="__reactHandles$"+_n,il="__reactResources$"+_n,Cn="__reactMarker$"+_n;function ol(e){delete e[We],delete e[ot],delete e[mn],delete e[fa],delete e[nl]}function hn(e){var t=e[We];if(t)return t;for(var l=e.parentNode;l;){if(t=l[Dn]||l[We]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=zp(e);e!==null;){if(l=e[We])return l;e=zp(e)}return t}e=l,l=e.parentNode}return null}function Un(e){if(e=e[We]||e[Dn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ai(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function An(e){var t=e[il];return t||(t=e[il]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function je(e){e[Cn]=!0}var Pi=new Set,Oi={};function en(e,t){Jt(e,t),Jt(e+"Capture",t)}function Jt(e,t){for(Oi[e]=t,e=0;e<t.length;e++)Pi.add(t[e])}var Xs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),da={},pa={};function ma(e){return Ui.call(pa,e)?!0:Ui.call(da,e)?!1:Xs.test(e)?pa[e]=!0:(da[e]=!0,!1)}function ki(e,t,l){if(ma(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function b(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function F(e,t,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+s)}}function Y(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ce(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function he(e,t,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(S){l=""+S,m.call(this,S)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function se(e){if(!e._valueTracker){var t=ce(e)?"checked":"value";e._valueTracker=he(e,t,""+e[t])}}function fe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),s="";return e&&(s=ce(e)?e.checked?"true":"false":e.value),e=s,e!==l?(t.setValue(e),!0):!1}function ge(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ut=/[\n"\\]/g;function Ye(e){return e.replace(ut,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Fe(e,t,l,s,d,m,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),t!=null?S==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Y(t)):e.value!==""+Y(t)&&(e.value=""+Y(t)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),t!=null?et(e,S,Y(t)):l!=null?et(e,S,Y(l)):s!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Y(_):e.removeAttribute("name")}function Ce(e,t,l,s,d,m,S,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),t!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||t!=null)){se(e);return}l=l!=null?""+Y(l):"",t=t!=null?""+Y(t):l,_||t===e.value||(e.value=t),e.defaultValue=t}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),se(e)}function et(e,t,l){t==="number"&&ge(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function lt(e,t,l,s){if(e=e.options,t){t={};for(var d=0;d<l.length;d++)t["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=t.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&s&&(e[l].defaultSelected=!0)}else{for(l=""+Y(l),t=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function ct(e,t,l){if(t!=null&&(t=""+Y(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Y(l):""}function ft(e,t,l,s){if(t==null){if(s!=null){if(l!=null)throw Error(a(92));if(rt(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),t=l}l=Y(t),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),se(e)}function Ut(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var ha=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ll(e,t,l){var s=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,l):typeof l!="number"||l===0||ha.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function al(e,t,l){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in t)s=t[d],t.hasOwnProperty(d)&&l[d]!==s&&ll(e,d,s)}else for(var m in t)t.hasOwnProperty(m)&&ll(e,m,t[m])}function sl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ga=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ya=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tn(e){return ya.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xt(){}var rl=null;function Qs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uo=null,co=null;function Dc(e){var t=Un(e);if(t&&(e=t.stateNode)){var l=e[ot]||null;e:switch(e=t.stateNode,t.type){case"input":if(Fe(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ye(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var s=l[t];if(s!==e&&s.form===e.form){var d=s[ot]||null;if(!d)throw Error(a(90));Fe(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(t=0;t<l.length;t++)s=l[t],s.form===e.form&&fe(s)}break e;case"textarea":ct(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&lt(e,!!l.multiple,t,!1)}}}var Zs=!1;function Uc(e,t,l){if(Zs)return e(t,l);Zs=!0;try{var s=e(t);return s}finally{if(Zs=!1,(uo!==null||co!==null)&&(os(),uo&&(t=uo,e=co,co=uo=null,Dc(t),e)))for(t=0;t<e.length;t++)Dc(e[t])}}function ul(e,t){var l=e.stateNode;if(l===null)return null;var s=l[ot]||null;if(s===null)return null;l=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,t,typeof l));return l}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$s=!1;if(Ln)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){$s=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{$s=!1}var si=null,Ws=null,va=null;function Lc(){if(va)return va;var e,t=Ws,l=t.length,s,d="value"in si?si.value:si.textContent,m=d.length;for(e=0;e<l&&t[e]===d[e];e++);var S=l-e;for(s=1;s<=S&&t[l-s]===d[m-s];s++);return va=d.slice(e,1<s?1-s:void 0)}function Sa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ta(){return!0}function Gc(){return!1}function Ht(e){function t(l,s,d,m,S){this._reactName=l,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(l=e[_],this[_]=l?l(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ta:Gc,this.isPropagationStopped=Gc,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),t}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=Ht(zi),fl=T({},zi,{view:0,detail:0}),Wg=Ht(fl),js,er,dl,_a=T({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dl&&(dl&&e.type==="mousemove"?(js=e.screenX-dl.screenX,er=e.screenY-dl.screenY):er=js=0,dl=e),js)},movementY:function(e){return"movementY"in e?e.movementY:er}}),Vc=Ht(_a),jg=T({},_a,{dataTransfer:0}),ey=Ht(jg),ty=T({},fl,{relatedTarget:0}),tr=Ht(ty),ny=T({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),iy=Ht(ny),oy=T({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ly=Ht(oy),ay=T({},zi,{data:0}),Hc=Ht(ay),sy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ry={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uy[e])?!!t[e]:!1}function nr(){return cy}var fy=T({},fl,{key:function(e){if(e.key){var t=sy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ry[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(e){return e.type==="keypress"?Sa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dy=Ht(fy),py=T({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qc=Ht(py),my=T({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),hy=Ht(my),gy=T({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),yy=Ht(gy),vy=T({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sy=Ht(vy),Ty=T({},zi,{newState:0,oldState:0}),Ey=Ht(Ty),_y=[9,13,27,32],ir=Ln&&"CompositionEvent"in window,pl=null;Ln&&"documentMode"in document&&(pl=document.documentMode);var Cy=Ln&&"TextEvent"in window&&!pl,Pc=Ln&&(!ir||pl&&8<pl&&11>=pl),Oc=" ",kc=!1;function zc(e,t){switch(e){case"keyup":return _y.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fo=!1;function Ay(e,t){switch(e){case"compositionend":return Bc(t);case"keypress":return t.which!==32?null:(kc=!0,Oc);case"textInput":return e=t.data,e===Oc&&kc?null:e;default:return null}}function Ry(e,t){if(fo)return e==="compositionend"||!ir&&zc(e,t)?(e=Lc(),va=Ws=si=null,fo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pc&&t.locale!=="ko"?null:t.data;default:return null}}var My={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!My[e.type]:t==="textarea"}function Jc(e,t,l,s){uo?co?co.push(s):co=[s]:uo=s,t=fs(t,"onChange"),0<t.length&&(l=new Ea("onChange","change",null,l,s),e.push({event:l,listeners:t}))}var ml=null,hl=null;function by(e){Np(e,0)}function Ca(e){var t=ai(e);if(fe(t))return e}function Yc(e,t){if(e==="change")return t}var Kc=!1;if(Ln){var or;if(Ln){var lr="oninput"in document;if(!lr){var Xc=document.createElement("div");Xc.setAttribute("oninput","return;"),lr=typeof Xc.oninput=="function"}or=lr}else or=!1;Kc=or&&(!document.documentMode||9<document.documentMode)}function Qc(){ml&&(ml.detachEvent("onpropertychange",Zc),hl=ml=null)}function Zc(e){if(e.propertyName==="value"&&Ca(hl)){var t=[];Jc(t,hl,e,Qs(e)),Uc(by,t)}}function Ny(e,t,l){e==="focusin"?(Qc(),ml=t,hl=l,ml.attachEvent("onpropertychange",Zc)):e==="focusout"&&Qc()}function Iy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ca(hl)}function xy(e,t){if(e==="click")return Ca(t)}function wy(e,t){if(e==="input"||e==="change")return Ca(t)}function Dy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:Dy;function gl(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),s=Object.keys(t);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var d=l[s];if(!Ui.call(t,d)||!Yt(e[d],t[d]))return!1}return!0}function $c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wc(e,t){var l=$c(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=t&&s>=t)return{node:l,offset:t-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=$c(l)}}function jc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ef(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ge(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=ge(e.document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Uy=Ln&&"documentMode"in document&&11>=document.documentMode,po=null,sr=null,yl=null,rr=!1;function tf(e,t,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;rr||po==null||po!==ge(s)||(s=po,"selectionStart"in s&&ar(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),yl&&gl(yl,s)||(yl=s,s=fs(sr,"onSelect"),0<s.length&&(t=new Ea("onSelect","select",null,t,l),e.push({event:t,listeners:s}),t.target=po)))}function Bi(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var mo={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionrun:Bi("Transition","TransitionRun"),transitionstart:Bi("Transition","TransitionStart"),transitioncancel:Bi("Transition","TransitionCancel"),transitionend:Bi("Transition","TransitionEnd")},ur={},nf={};Ln&&(nf=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Fi(e){if(ur[e])return ur[e];if(!mo[e])return e;var t=mo[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in nf)return ur[e]=t[l];return e}var of=Fi("animationend"),lf=Fi("animationiteration"),af=Fi("animationstart"),Ly=Fi("transitionrun"),Gy=Fi("transitionstart"),Vy=Fi("transitioncancel"),sf=Fi("transitionend"),rf=new Map,cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cr.push("scrollEnd");function gn(e,t){rf.set(e,t),en(t,[e])}var Aa=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},nn=[],ho=0,fr=0;function Ra(){for(var e=ho,t=fr=ho=0;t<e;){var l=nn[t];nn[t++]=null;var s=nn[t];nn[t++]=null;var d=nn[t];nn[t++]=null;var m=nn[t];if(nn[t++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}m!==0&&uf(l,d,m)}}function Ma(e,t,l,s){nn[ho++]=e,nn[ho++]=t,nn[ho++]=l,nn[ho++]=s,fr|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function dr(e,t,l,s){return Ma(e,t,l,s),ba(e)}function Ji(e,t){return Ma(e,null,null,t),ba(e)}function uf(e,t,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var d=!1,m=e.return;m!==null;)m.childLanes|=l,s=m.alternate,s!==null&&(s.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&t!==null&&(d=31-Qe(l),e=m.hiddenUpdates,s=e[d],s===null?e[d]=[t]:s.push(t),t.lane=l|536870912),m):null}function ba(e){if(50<Pl)throw Pl=0,Eu=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var go={};function Hy(e,t,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,t,l,s){return new Hy(e,t,l,s)}function pr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gn(e,t){var l=e.alternate;return l===null?(l=Kt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function cf(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Na(e,t,l,s,d,m){var S=0;if(s=e,typeof e=="function")pr(e)&&(S=1);else if(typeof e=="string")S=zv(e,l,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case oe:return e=Kt(31,l,t,d),e.elementType=oe,e.lanes=m,e;case V:return Yi(l.children,d,m,t);case U:S=8,d|=24;break;case B:return e=Kt(12,l,t,d|2),e.elementType=B,e.lanes=m,e;case z:return e=Kt(13,l,t,d),e.elementType=z,e.lanes=m,e;case ae:return e=Kt(19,l,t,d),e.elementType=ae,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:S=10;break e;case $:S=9;break e;case X:S=11;break e;case Q:S=14;break e;case te:S=16,s=null;break e}S=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return t=Kt(S,l,t,d),t.elementType=e,t.type=s,t.lanes=m,t}function Yi(e,t,l,s){return e=Kt(7,e,s,t),e.lanes=l,e}function mr(e,t,l){return e=Kt(6,e,null,t),e.lanes=l,e}function ff(e){var t=Kt(18,null,null,0);return t.stateNode=e,t}function hr(e,t,l){return t=Kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var df=new WeakMap;function on(e,t){if(typeof e=="object"&&e!==null){var l=df.get(e);return l!==void 0?l:(t={value:e,source:t,stack:jn(t)},df.set(e,t),t)}return{value:e,source:t,stack:jn(t)}}var yo=[],vo=0,Ia=null,vl=0,ln=[],an=0,ri=null,Rn=1,Mn="";function Vn(e,t){yo[vo++]=vl,yo[vo++]=Ia,Ia=e,vl=t}function pf(e,t,l){ln[an++]=Rn,ln[an++]=Mn,ln[an++]=ri,ri=e;var s=Rn;e=Mn;var d=32-Qe(s)-1;s&=~(1<<d),l+=1;var m=32-Qe(t)+d;if(30<m){var S=d-d%5;m=(s&(1<<S)-1).toString(32),s>>=S,d-=S,Rn=1<<32-Qe(t)+d|l<<d|s,Mn=m+e}else Rn=1<<m|l<<d|s,Mn=e}function gr(e){e.return!==null&&(Vn(e,1),pf(e,1,0))}function yr(e){for(;e===Ia;)Ia=yo[--vo],yo[vo]=null,vl=yo[--vo],yo[vo]=null;for(;e===ri;)ri=ln[--an],ln[an]=null,Mn=ln[--an],ln[an]=null,Rn=ln[--an],ln[an]=null}function mf(e,t){ln[an++]=Rn,ln[an++]=Mn,ln[an++]=ri,Rn=t.id,Mn=t.overflow,ri=e}var At=null,Ke=null,Me=!1,ui=null,sn=!1,vr=Error(a(519));function ci(e){var t=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sl(on(t,e)),vr}function hf(e){var t=e.stateNode,l=e.type,s=e.memoizedProps;switch(t[We]=e,t[ot]=s,l){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)_e(kl[l],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),Ce(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),ft(t,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||s.suppressHydrationWarning===!0||Dp(t.textContent,l)?(s.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),s.onScroll!=null&&_e("scroll",t),s.onScrollEnd!=null&&_e("scrollend",t),s.onClick!=null&&(t.onclick=xt),t=!0):t=!1,t||ci(e,!0)}function gf(e){for(At=e.return;At;)switch(At.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:At=At.return}}function So(e){if(e!==At)return!1;if(!Me)return gf(e),Me=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Vu(e.type,e.memoizedProps)),l=!l),l&&Ke&&ci(e),gf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ke=kp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ke=kp(e)}else t===27?(t=Ke,Ai(e.type)?(e=ku,ku=null,Ke=e):Ke=t):Ke=At?un(e.stateNode.nextSibling):null;return!0}function Ki(){Ke=At=null,Me=!1}function Sr(){var e=ui;return e!==null&&(kt===null?kt=e:kt.push.apply(kt,e),ui=null),e}function Sl(e){ui===null?ui=[e]:ui.push(e)}var Tr=M(null),Xi=null,Hn=null;function fi(e,t,l){W(Tr,t._currentValue),t._currentValue=l}function qn(e){e._currentValue=Tr.current,O(Tr)}function Er(e,t,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===l)break;e=e.return}}function _r(e,t,l,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var S=d.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=d;for(var C=0;C<t.length;C++)if(_.context===t[C]){m.lanes|=l,_=m.alternate,_!==null&&(_.lanes|=l),Er(m.return,l,e),s||(S=null);break e}m=_.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=l,m=S.alternate,m!==null&&(m.lanes|=l),Er(S,l,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function To(e,t,l,s){e=null;for(var d=t,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var _=d.type;Yt(d.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(d===De.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Yl):e=[Yl])}d=d.return}e!==null&&_r(t,e,l,s),t.flags|=262144}function xa(e){for(e=e.firstContext;e!==null;){if(!Yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qi(e){Xi=e,Hn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Rt(e){return yf(Xi,e)}function wa(e,t){return Xi===null&&Qi(e),yf(e,t)}function yf(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Hn===null){if(e===null)throw Error(a(308));Hn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Hn=Hn.next=t;return l}var qy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Py=i.unstable_scheduleCallback,Oy=i.unstable_NormalPriority,dt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cr(){return{controller:new qy,data:new Map,refCount:0}}function Tl(e){e.refCount--,e.refCount===0&&Py(Oy,function(){e.controller.abort()})}var El=null,Ar=0,Eo=0,_o=null;function ky(e,t){if(El===null){var l=El=[];Ar=0,Eo=bu(),_o={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Ar++,t.then(vf,vf),t}function vf(){if(--Ar===0&&El!==null){_o!==null&&(_o.status="fulfilled");var e=El;El=null,Eo=0,_o=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function zy(e,t){var l=[],s={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var d=0;d<l.length;d++)(0,l[d])(t)},function(d){for(s.status="rejected",s.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),s}var Sf=H.S;H.S=function(e,t){np=Nt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ky(e,t),Sf!==null&&Sf(e,t)};var Zi=M(null);function Rr(){var e=Zi.current;return e!==null?e:Be.pooledCache}function Da(e,t){t===null?W(Zi,Zi.current):W(Zi,t.pool)}function Tf(){var e=Rr();return e===null?null:{parent:dt._currentValue,pool:e}}var Co=Error(a(460)),Mr=Error(a(474)),Ua=Error(a(542)),La={then:function(){}};function Ef(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _f(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(xt,xt),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Af(e),e;default:if(typeof t.status=="string")t.then(xt,xt);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var d=t;d.status="fulfilled",d.value=s}},function(s){if(t.status==="pending"){var d=t;d.status="rejected",d.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Af(e),e}throw Wi=t,Co}}function $i(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Wi=l,Co):l}}var Wi=null;function Cf(){if(Wi===null)throw Error(a(459));var e=Wi;return Wi=null,e}function Af(e){if(e===Co||e===Ua)throw Error(a(483))}var Ao=null,_l=0;function Ga(e){var t=_l;return _l+=1,Ao===null&&(Ao=[]),_f(Ao,e,t)}function Cl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Va(e,t){throw t.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Rf(e){function t(N,R){if(e){var x=N.deletions;x===null?(N.deletions=[R],N.flags|=16):x.push(R)}}function l(N,R){if(!e)return null;for(;R!==null;)t(N,R),R=R.sibling;return null}function s(N){for(var R=new Map;N!==null;)N.key!==null?R.set(N.key,N):R.set(N.index,N),N=N.sibling;return R}function d(N,R){return N=Gn(N,R),N.index=0,N.sibling=null,N}function m(N,R,x){return N.index=x,e?(x=N.alternate,x!==null?(x=x.index,x<R?(N.flags|=67108866,R):x):(N.flags|=67108866,R)):(N.flags|=1048576,R)}function S(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function _(N,R,x,P){return R===null||R.tag!==6?(R=mr(x,N.mode,P),R.return=N,R):(R=d(R,x),R.return=N,R)}function C(N,R,x,P){var re=x.type;return re===V?q(N,R,x.props.children,P,x.key):R!==null&&(R.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===te&&$i(re)===R.type)?(R=d(R,x.props),Cl(R,x),R.return=N,R):(R=Na(x.type,x.key,x.props,null,N.mode,P),Cl(R,x),R.return=N,R)}function w(N,R,x,P){return R===null||R.tag!==4||R.stateNode.containerInfo!==x.containerInfo||R.stateNode.implementation!==x.implementation?(R=hr(x,N.mode,P),R.return=N,R):(R=d(R,x.children||[]),R.return=N,R)}function q(N,R,x,P,re){return R===null||R.tag!==7?(R=Yi(x,N.mode,P,re),R.return=N,R):(R=d(R,x),R.return=N,R)}function k(N,R,x){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=mr(""+R,N.mode,x),R.return=N,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case A:return x=Na(R.type,R.key,R.props,null,N.mode,x),Cl(x,R),x.return=N,x;case I:return R=hr(R,N.mode,x),R.return=N,R;case te:return R=$i(R),k(N,R,x)}if(rt(R)||Ie(R))return R=Yi(R,N.mode,x,null),R.return=N,R;if(typeof R.then=="function")return k(N,Ga(R),x);if(R.$$typeof===J)return k(N,wa(N,R),x);Va(N,R)}return null}function D(N,R,x,P){var re=R!==null?R.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return re!==null?null:_(N,R,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case A:return x.key===re?C(N,R,x,P):null;case I:return x.key===re?w(N,R,x,P):null;case te:return x=$i(x),D(N,R,x,P)}if(rt(x)||Ie(x))return re!==null?null:q(N,R,x,P,null);if(typeof x.then=="function")return D(N,R,Ga(x),P);if(x.$$typeof===J)return D(N,R,wa(N,x),P);Va(N,x)}return null}function L(N,R,x,P,re){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return N=N.get(x)||null,_(R,N,""+P,re);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return N=N.get(P.key===null?x:P.key)||null,C(R,N,P,re);case I:return N=N.get(P.key===null?x:P.key)||null,w(R,N,P,re);case te:return P=$i(P),L(N,R,x,P,re)}if(rt(P)||Ie(P))return N=N.get(x)||null,q(R,N,P,re,null);if(typeof P.then=="function")return L(N,R,x,Ga(P),re);if(P.$$typeof===J)return L(N,R,x,wa(R,P),re);Va(R,P)}return null}function ie(N,R,x,P){for(var re=null,Ue=null,le=R,Te=R=0,Re=null;le!==null&&Te<x.length;Te++){le.index>Te?(Re=le,le=null):Re=le.sibling;var Le=D(N,le,x[Te],P);if(Le===null){le===null&&(le=Re);break}e&&le&&Le.alternate===null&&t(N,le),R=m(Le,R,Te),Ue===null?re=Le:Ue.sibling=Le,Ue=Le,le=Re}if(Te===x.length)return l(N,le),Me&&Vn(N,Te),re;if(le===null){for(;Te<x.length;Te++)le=k(N,x[Te],P),le!==null&&(R=m(le,R,Te),Ue===null?re=le:Ue.sibling=le,Ue=le);return Me&&Vn(N,Te),re}for(le=s(le);Te<x.length;Te++)Re=L(le,N,Te,x[Te],P),Re!==null&&(e&&Re.alternate!==null&&le.delete(Re.key===null?Te:Re.key),R=m(Re,R,Te),Ue===null?re=Re:Ue.sibling=Re,Ue=Re);return e&&le.forEach(function(Ii){return t(N,Ii)}),Me&&Vn(N,Te),re}function ue(N,R,x,P){if(x==null)throw Error(a(151));for(var re=null,Ue=null,le=R,Te=R=0,Re=null,Le=x.next();le!==null&&!Le.done;Te++,Le=x.next()){le.index>Te?(Re=le,le=null):Re=le.sibling;var Ii=D(N,le,Le.value,P);if(Ii===null){le===null&&(le=Re);break}e&&le&&Ii.alternate===null&&t(N,le),R=m(Ii,R,Te),Ue===null?re=Ii:Ue.sibling=Ii,Ue=Ii,le=Re}if(Le.done)return l(N,le),Me&&Vn(N,Te),re;if(le===null){for(;!Le.done;Te++,Le=x.next())Le=k(N,Le.value,P),Le!==null&&(R=m(Le,R,Te),Ue===null?re=Le:Ue.sibling=Le,Ue=Le);return Me&&Vn(N,Te),re}for(le=s(le);!Le.done;Te++,Le=x.next())Le=L(le,N,Te,Le.value,P),Le!==null&&(e&&Le.alternate!==null&&le.delete(Le.key===null?Te:Le.key),R=m(Le,R,Te),Ue===null?re=Le:Ue.sibling=Le,Ue=Le);return e&&le.forEach(function(jv){return t(N,jv)}),Me&&Vn(N,Te),re}function ze(N,R,x,P){if(typeof x=="object"&&x!==null&&x.type===V&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case A:e:{for(var re=x.key;R!==null;){if(R.key===re){if(re=x.type,re===V){if(R.tag===7){l(N,R.sibling),P=d(R,x.props.children),P.return=N,N=P;break e}}else if(R.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===te&&$i(re)===R.type){l(N,R.sibling),P=d(R,x.props),Cl(P,x),P.return=N,N=P;break e}l(N,R);break}else t(N,R);R=R.sibling}x.type===V?(P=Yi(x.props.children,N.mode,P,x.key),P.return=N,N=P):(P=Na(x.type,x.key,x.props,null,N.mode,P),Cl(P,x),P.return=N,N=P)}return S(N);case I:e:{for(re=x.key;R!==null;){if(R.key===re)if(R.tag===4&&R.stateNode.containerInfo===x.containerInfo&&R.stateNode.implementation===x.implementation){l(N,R.sibling),P=d(R,x.children||[]),P.return=N,N=P;break e}else{l(N,R);break}else t(N,R);R=R.sibling}P=hr(x,N.mode,P),P.return=N,N=P}return S(N);case te:return x=$i(x),ze(N,R,x,P)}if(rt(x))return ie(N,R,x,P);if(Ie(x)){if(re=Ie(x),typeof re!="function")throw Error(a(150));return x=re.call(x),ue(N,R,x,P)}if(typeof x.then=="function")return ze(N,R,Ga(x),P);if(x.$$typeof===J)return ze(N,R,wa(N,x),P);Va(N,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,R!==null&&R.tag===6?(l(N,R.sibling),P=d(R,x),P.return=N,N=P):(l(N,R),P=mr(x,N.mode,P),P.return=N,N=P),S(N)):l(N,R)}return function(N,R,x,P){try{_l=0;var re=ze(N,R,x,P);return Ao=null,re}catch(le){if(le===Co||le===Ua)throw le;var Ue=Kt(29,le,null,N.mode);return Ue.lanes=P,Ue.return=N,Ue}finally{}}}var ji=Rf(!0),Mf=Rf(!1),di=!1;function br(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function pi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function mi(e,t,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ve&2)!==0){var d=s.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),s.pending=t,t=ba(e),uf(e,null,l),t}return Ma(e,s,t,l),ba(e)}function Al(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,ra(e,l)}}function Ir(e,t){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=S:m=m.next=S,l=l.next}while(l!==null);m===null?d=m=t:m=m.next=t}else d=m=t;l={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var xr=!1;function Rl(){if(xr){var e=_o;if(e!==null)throw e}}function Ml(e,t,l,s){xr=!1;var d=e.updateQueue;di=!1;var m=d.firstBaseUpdate,S=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var C=_,w=C.next;C.next=null,S===null?m=w:S.next=w,S=C;var q=e.alternate;q!==null&&(q=q.updateQueue,_=q.lastBaseUpdate,_!==S&&(_===null?q.firstBaseUpdate=w:_.next=w,q.lastBaseUpdate=C))}if(m!==null){var k=d.baseState;S=0,q=w=C=null,_=m;do{var D=_.lane&-536870913,L=D!==_.lane;if(L?(Ae&D)===D:(s&D)===D){D!==0&&D===Eo&&(xr=!0),q!==null&&(q=q.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ie=e,ue=_;D=t;var ze=l;switch(ue.tag){case 1:if(ie=ue.payload,typeof ie=="function"){k=ie.call(ze,k,D);break e}k=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ue.payload,D=typeof ie=="function"?ie.call(ze,k,D):ie,D==null)break e;k=T({},k,D);break e;case 2:di=!0}}D=_.callback,D!==null&&(e.flags|=64,L&&(e.flags|=8192),L=d.callbacks,L===null?d.callbacks=[D]:L.push(D))}else L={lane:D,tag:_.tag,payload:_.payload,callback:_.callback,next:null},q===null?(w=q=L,C=k):q=q.next=L,S|=D;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;L=_,_=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);q===null&&(C=k),d.baseState=C,d.firstBaseUpdate=w,d.lastBaseUpdate=q,m===null&&(d.shared.lanes=0),Si|=S,e.lanes=S,e.memoizedState=k}}function bf(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function Nf(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)bf(l[e],t)}var Ro=M(null),Ha=M(0);function If(e,t){e=Kn,W(Ha,e),W(Ro,t),Kn=e|t.baseLanes}function wr(){W(Ha,Kn),W(Ro,Ro.current)}function Dr(){Kn=Ha.current,O(Ro),O(Ha)}var Xt=M(null),rn=null;function hi(e){var t=e.alternate;W(at,at.current&1),W(Xt,e),rn===null&&(t===null||Ro.current!==null||t.memoizedState!==null)&&(rn=e)}function Ur(e){W(at,at.current),W(Xt,e),rn===null&&(rn=e)}function xf(e){e.tag===22?(W(at,at.current),W(Xt,e),rn===null&&(rn=e)):gi()}function gi(){W(at,at.current),W(Xt,Xt.current)}function Qt(e){O(Xt),rn===e&&(rn=null),O(at)}var at=M(0);function qa(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Pu(l)||Ou(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pn=0,ve=null,Oe=null,pt=null,Pa=!1,Mo=!1,eo=!1,Oa=0,bl=0,bo=null,By=0;function tt(){throw Error(a(321))}function Lr(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Yt(e[l],t[l]))return!1;return!0}function Gr(e,t,l,s,d,m){return Pn=m,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H.H=e===null||e.memoizedState===null?pd:Zr,eo=!1,m=l(s,d),eo=!1,Mo&&(m=Df(t,l,s,d)),wf(e),m}function wf(e){H.H=xl;var t=Oe!==null&&Oe.next!==null;if(Pn=0,pt=Oe=ve=null,Pa=!1,bl=0,bo=null,t)throw Error(a(300));e===null||mt||(e=e.dependencies,e!==null&&xa(e)&&(mt=!0))}function Df(e,t,l,s){ve=e;var d=0;do{if(Mo&&(bo=null),bl=0,Mo=!1,25<=d)throw Error(a(301));if(d+=1,pt=Oe=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=md,m=t(l,s)}while(Mo);return m}function Fy(){var e=H.H,t=e.useState()[0];return t=typeof t.then=="function"?Nl(t):t,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(ve.flags|=1024),t}function Vr(){var e=Oa!==0;return Oa=0,e}function Hr(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function qr(e){if(Pa){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Pa=!1}Pn=0,pt=Oe=ve=null,Mo=!1,bl=Oa=0,bo=null}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?ve.memoizedState=pt=e:pt=pt.next=e,pt}function st(){if(Oe===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=pt===null?ve.memoizedState:pt.next;if(t!==null)pt=t,Oe=e;else{if(e===null)throw ve.alternate===null?Error(a(467)):Error(a(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},pt===null?ve.memoizedState=pt=e:pt=pt.next=e}return pt}function ka(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(e){var t=bl;return bl+=1,bo===null&&(bo=[]),e=_f(bo,e,t),t=ve,(pt===null?t.memoizedState:pt.next)===null&&(t=t.alternate,H.H=t===null||t.memoizedState===null?pd:Zr),e}function za(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Nl(e);if(e.$$typeof===J)return Rt(e)}throw Error(a(438,String(e)))}function Pr(e){var t=null,l=ve.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var s=ve.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(d){return d.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=ka(),ve.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),s=0;s<e;s++)l[s]=pe;return t.index++,l}function On(e,t){return typeof t=="function"?t(e):t}function Ba(e){var t=st();return Or(t,Oe,e)}function Or(e,t,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var d=e.baseQueue,m=s.pending;if(m!==null){if(d!==null){var S=d.next;d.next=m.next,m.next=S}t.baseQueue=d=m,s.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{t=d.next;var _=S=null,C=null,w=t,q=!1;do{var k=w.lane&-536870913;if(k!==w.lane?(Ae&k)===k:(Pn&k)===k){var D=w.revertLane;if(D===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),k===Eo&&(q=!0);else if((Pn&D)===D){w=w.next,D===Eo&&(q=!0);continue}else k={lane:0,revertLane:w.revertLane,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},C===null?(_=C=k,S=m):C=C.next=k,ve.lanes|=D,Si|=D;k=w.action,eo&&l(m,k),m=w.hasEagerState?w.eagerState:l(m,k)}else D={lane:k,revertLane:w.revertLane,gesture:w.gesture,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},C===null?(_=C=D,S=m):C=C.next=D,ve.lanes|=k,Si|=k;w=w.next}while(w!==null&&w!==t);if(C===null?S=m:C.next=_,!Yt(m,e.memoizedState)&&(mt=!0,q&&(l=_o,l!==null)))throw l;e.memoizedState=m,e.baseState=S,e.baseQueue=C,s.lastRenderedState=m}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function kr(e){var t=st(),l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,d=l.pending,m=t.memoizedState;if(d!==null){l.pending=null;var S=d=d.next;do m=e(m,S.action),S=S.next;while(S!==d);Yt(m,t.memoizedState)||(mt=!0),t.memoizedState=m,t.baseQueue===null&&(t.baseState=m),l.lastRenderedState=m}return[m,s]}function Uf(e,t,l){var s=ve,d=st(),m=Me;if(m){if(l===void 0)throw Error(a(407));l=l()}else l=t();var S=!Yt((Oe||d).memoizedState,l);if(S&&(d.memoizedState=l,mt=!0),d=d.queue,Fr(Vf.bind(null,s,d,e),[e]),d.getSnapshot!==t||S||pt!==null&&pt.memoizedState.tag&1){if(s.flags|=2048,No(9,{destroy:void 0},Gf.bind(null,s,d,l,t),null),Be===null)throw Error(a(349));m||(Pn&127)!==0||Lf(s,t,l)}return l}function Lf(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=ve.updateQueue,t===null?(t=ka(),ve.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function Gf(e,t,l,s){t.value=l,t.getSnapshot=s,Hf(t)&&qf(e)}function Vf(e,t,l){return l(function(){Hf(t)&&qf(e)})}function Hf(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Yt(e,l)}catch{return!0}}function qf(e){var t=Ji(e,2);t!==null&&zt(t,e,2)}function zr(e){var t=Lt();if(typeof e=="function"){var l=e;if(e=l(),eo){it(!0);try{l()}finally{it(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:e},t}function Pf(e,t,l,s){return e.baseState=l,Or(e,Oe,typeof s=="function"?s:On)}function Jy(e,t,l,s,d){if(Ya(e))throw Error(a(485));if(e=t.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};H.T!==null?l(!0):m.isTransition=!1,s(m),l=t.pending,l===null?(m.next=t.pending=m,Of(t,m)):(m.next=l.next,t.pending=l.next=m)}}function Of(e,t){var l=t.action,s=t.payload,d=e.state;if(t.isTransition){var m=H.T,S={};H.T=S;try{var _=l(d,s),C=H.S;C!==null&&C(S,_),kf(e,t,_)}catch(w){Br(e,t,w)}finally{m!==null&&S.types!==null&&(m.types=S.types),H.T=m}}else try{m=l(d,s),kf(e,t,m)}catch(w){Br(e,t,w)}}function kf(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){zf(e,t,s)},function(s){return Br(e,t,s)}):zf(e,t,l)}function zf(e,t,l){t.status="fulfilled",t.value=l,Bf(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Of(e,l)))}function Br(e,t,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=l,Bf(t),t=t.next;while(t!==s)}e.action=null}function Bf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ff(e,t){return t}function Jf(e,t){if(Me){var l=Be.formState;if(l!==null){e:{var s=ve;if(Me){if(Ke){t:{for(var d=Ke,m=sn;d.nodeType!==8;){if(!m){d=null;break t}if(d=un(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Ke=un(d.nextSibling),s=d.data==="F!";break e}}ci(s)}s=!1}s&&(t=l[0])}}return l=Lt(),l.memoizedState=l.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ff,lastRenderedState:t},l.queue=s,l=cd.bind(null,ve,s),s.dispatch=l,s=zr(!1),m=Qr.bind(null,ve,!1,s.queue),s=Lt(),d={state:t,dispatch:null,action:e,pending:null},s.queue=d,l=Jy.bind(null,ve,d,m,l),d.dispatch=l,s.memoizedState=e,[t,l,!1]}function Yf(e){var t=st();return Kf(t,Oe,e)}function Kf(e,t,l){if(t=Or(e,t,Ff)[0],e=Ba(On)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Nl(t)}catch(S){throw S===Co?Ua:S}else s=t;t=st();var d=t.queue,m=d.dispatch;return l!==t.memoizedState&&(ve.flags|=2048,No(9,{destroy:void 0},Yy.bind(null,d,l),null)),[s,m,e]}function Yy(e,t){e.action=t}function Xf(e){var t=st(),l=Oe;if(l!==null)return Kf(t,l,e);st(),t=t.memoizedState,l=st();var s=l.queue.dispatch;return l.memoizedState=e,[t,s,!1]}function No(e,t,l,s){return e={tag:e,create:l,deps:s,inst:t,next:null},t=ve.updateQueue,t===null&&(t=ka(),ve.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,t.lastEffect=e),e}function Qf(){return st().memoizedState}function Fa(e,t,l,s){var d=Lt();ve.flags|=e,d.memoizedState=No(1|t,{destroy:void 0},l,s===void 0?null:s)}function Ja(e,t,l,s){var d=st();s=s===void 0?null:s;var m=d.memoizedState.inst;Oe!==null&&s!==null&&Lr(s,Oe.memoizedState.deps)?d.memoizedState=No(t,m,l,s):(ve.flags|=e,d.memoizedState=No(1|t,m,l,s))}function Zf(e,t){Fa(8390656,8,e,t)}function Fr(e,t){Ja(2048,8,e,t)}function Ky(e){ve.flags|=4;var t=ve.updateQueue;if(t===null)t=ka(),ve.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function $f(e){var t=st().memoizedState;return Ky({ref:t,nextImpl:e}),function(){if((Ve&2)!==0)throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Wf(e,t){return Ja(4,2,e,t)}function jf(e,t){return Ja(4,4,e,t)}function ed(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function td(e,t,l){l=l!=null?l.concat([e]):null,Ja(4,4,ed.bind(null,t,e),l)}function Jr(){}function nd(e,t){var l=st();t=t===void 0?null:t;var s=l.memoizedState;return t!==null&&Lr(t,s[1])?s[0]:(l.memoizedState=[e,t],e)}function id(e,t){var l=st();t=t===void 0?null:t;var s=l.memoizedState;if(t!==null&&Lr(t,s[1]))return s[0];if(s=e(),eo){it(!0);try{e()}finally{it(!1)}}return l.memoizedState=[s,t],s}function Yr(e,t,l){return l===void 0||(Pn&1073741824)!==0&&(Ae&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=op(),ve.lanes|=e,Si|=e,l)}function od(e,t,l,s){return Yt(l,t)?l:Ro.current!==null?(e=Yr(e,l,s),Yt(e,t)||(mt=!0),e):(Pn&42)===0||(Pn&1073741824)!==0&&(Ae&261930)===0?(mt=!0,e.memoizedState=l):(e=op(),ve.lanes|=e,Si|=e,t)}function ld(e,t,l,s,d){var m=Z.p;Z.p=m!==0&&8>m?m:8;var S=H.T,_={};H.T=_,Qr(e,!1,t,l);try{var C=d(),w=H.S;if(w!==null&&w(_,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var q=zy(C,s);Il(e,t,q,Wt(e))}else Il(e,t,s,Wt(e))}catch(k){Il(e,t,{then:function(){},status:"rejected",reason:k},Wt())}finally{Z.p=m,S!==null&&_.types!==null&&(S.types=_.types),H.T=S}}function Xy(){}function Kr(e,t,l,s){if(e.tag!==5)throw Error(a(476));var d=ad(e).queue;ld(e,d,t,ne,l===null?Xy:function(){return sd(e),l(s)})}function ad(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:ne},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function sd(e){var t=ad(e);t.next===null&&(t=e.alternate.memoizedState),Il(e,t.next.queue,{},Wt())}function Xr(){return Rt(Yl)}function rd(){return st().memoizedState}function ud(){return st().memoizedState}function Qy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Wt();e=pi(l);var s=mi(t,e,l);s!==null&&(zt(s,t,l),Al(s,t,l)),t={cache:Cr()},e.payload=t;return}t=t.return}}function Zy(e,t,l){var s=Wt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ya(e)?fd(t,l):(l=dr(e,t,l,s),l!==null&&(zt(l,e,s),dd(l,t,s)))}function cd(e,t,l){var s=Wt();Il(e,t,l,s)}function Il(e,t,l,s){var d={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))fd(t,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=t.lastRenderedReducer,m!==null))try{var S=t.lastRenderedState,_=m(S,l);if(d.hasEagerState=!0,d.eagerState=_,Yt(_,S))return Ma(e,t,d,0),Be===null&&Ra(),!1}catch{}finally{}if(l=dr(e,t,d,s),l!==null)return zt(l,e,s),dd(l,t,s),!0}return!1}function Qr(e,t,l,s){if(s={lane:2,revertLane:bu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ya(e)){if(t)throw Error(a(479))}else t=dr(e,l,s,2),t!==null&&zt(t,e,2)}function Ya(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function fd(e,t){Mo=Pa=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function dd(e,t,l){if((l&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,ra(e,l)}}var xl={readContext:Rt,use:za,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};xl.useEffectEvent=tt;var pd={readContext:Rt,use:za,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:Zf,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Fa(4194308,4,ed.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Fa(4194308,4,e,t)},useInsertionEffect:function(e,t){Fa(4,2,e,t)},useMemo:function(e,t){var l=Lt();t=t===void 0?null:t;var s=e();if(eo){it(!0);try{e()}finally{it(!1)}}return l.memoizedState=[s,t],s},useReducer:function(e,t,l){var s=Lt();if(l!==void 0){var d=l(t);if(eo){it(!0);try{l(t)}finally{it(!1)}}}else d=t;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=Zy.bind(null,ve,e),[s.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:function(e){e=zr(e);var t=e.queue,l=cd.bind(null,ve,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Jr,useDeferredValue:function(e,t){var l=Lt();return Yr(l,e,t)},useTransition:function(){var e=zr(!1);return e=ld.bind(null,ve,e.queue,!0,!1),Lt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var s=ve,d=Lt();if(Me){if(l===void 0)throw Error(a(407));l=l()}else{if(l=t(),Be===null)throw Error(a(349));(Ae&127)!==0||Lf(s,t,l)}d.memoizedState=l;var m={value:l,getSnapshot:t};return d.queue=m,Zf(Vf.bind(null,s,m,e),[e]),s.flags|=2048,No(9,{destroy:void 0},Gf.bind(null,s,m,l,t),null),l},useId:function(){var e=Lt(),t=Be.identifierPrefix;if(Me){var l=Mn,s=Rn;l=(s&~(1<<32-Qe(s)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Oa++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=By++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Xr,useFormState:Jf,useActionState:Jf,useOptimistic:function(e){var t=Lt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Qr.bind(null,ve,!0,l),l.dispatch=t,[e,t]},useMemoCache:Pr,useCacheRefresh:function(){return Lt().memoizedState=Qy.bind(null,ve)},useEffectEvent:function(e){var t=Lt(),l={impl:e};return t.memoizedState=l,function(){if((Ve&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},Zr={readContext:Rt,use:za,useCallback:nd,useContext:Rt,useEffect:Fr,useImperativeHandle:td,useInsertionEffect:Wf,useLayoutEffect:jf,useMemo:id,useReducer:Ba,useRef:Qf,useState:function(){return Ba(On)},useDebugValue:Jr,useDeferredValue:function(e,t){var l=st();return od(l,Oe.memoizedState,e,t)},useTransition:function(){var e=Ba(On)[0],t=st().memoizedState;return[typeof e=="boolean"?e:Nl(e),t]},useSyncExternalStore:Uf,useId:rd,useHostTransitionStatus:Xr,useFormState:Yf,useActionState:Yf,useOptimistic:function(e,t){var l=st();return Pf(l,Oe,e,t)},useMemoCache:Pr,useCacheRefresh:ud};Zr.useEffectEvent=$f;var md={readContext:Rt,use:za,useCallback:nd,useContext:Rt,useEffect:Fr,useImperativeHandle:td,useInsertionEffect:Wf,useLayoutEffect:jf,useMemo:id,useReducer:kr,useRef:Qf,useState:function(){return kr(On)},useDebugValue:Jr,useDeferredValue:function(e,t){var l=st();return Oe===null?Yr(l,e,t):od(l,Oe.memoizedState,e,t)},useTransition:function(){var e=kr(On)[0],t=st().memoizedState;return[typeof e=="boolean"?e:Nl(e),t]},useSyncExternalStore:Uf,useId:rd,useHostTransitionStatus:Xr,useFormState:Xf,useActionState:Xf,useOptimistic:function(e,t){var l=st();return Oe!==null?Pf(l,Oe,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Pr,useCacheRefresh:ud};md.useEffectEvent=$f;function $r(e,t,l,s){t=e.memoizedState,l=l(s,t),l=l==null?t:T({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Wr={enqueueSetState:function(e,t,l){e=e._reactInternals;var s=Wt(),d=pi(s);d.payload=t,l!=null&&(d.callback=l),t=mi(e,d,s),t!==null&&(zt(t,e,s),Al(t,e,s))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var s=Wt(),d=pi(s);d.tag=1,d.payload=t,l!=null&&(d.callback=l),t=mi(e,d,s),t!==null&&(zt(t,e,s),Al(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Wt(),s=pi(l);s.tag=2,t!=null&&(s.callback=t),t=mi(e,s,l),t!==null&&(zt(t,e,l),Al(t,e,l))}};function hd(e,t,l,s,d,m,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,S):t.prototype&&t.prototype.isPureReactComponent?!gl(l,s)||!gl(d,m):!0}function gd(e,t,l,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,s),t.state!==e&&Wr.enqueueReplaceState(t,t.state,null)}function to(e,t){var l=t;if("ref"in t){l={};for(var s in t)s!=="ref"&&(l[s]=t[s])}if(e=e.defaultProps){l===t&&(l=T({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function yd(e){Aa(e)}function vd(e){console.error(e)}function Sd(e){Aa(e)}function Ka(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Td(e,t,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function jr(e,t,l){return l=pi(l),l.tag=3,l.payload={element:null},l.callback=function(){Ka(e,t)},l}function Ed(e){return e=pi(e),e.tag=3,e}function _d(e,t,l,s){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;e.payload=function(){return d(m)},e.callback=function(){Td(t,l,s)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Td(t,l,s),typeof d!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function $y(e,t,l,s,d){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=l.alternate,t!==null&&To(t,l,d,!0),l=Xt.current,l!==null){switch(l.tag){case 31:case 13:return rn===null?ls():l.alternate===null&&nt===0&&(nt=3),l.flags&=-257,l.flags|=65536,l.lanes=d,s===La?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([s]):t.add(s),Au(e,s,d)),!1;case 22:return l.flags|=65536,s===La?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([s]):l.add(s)),Au(e,s,d)),!1}throw Error(a(435,l.tag))}return Au(e,s,d),ls(),!1}if(Me)return t=Xt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=d,s!==vr&&(e=Error(a(422),{cause:s}),Sl(on(e,l)))):(s!==vr&&(t=Error(a(423),{cause:s}),Sl(on(t,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=on(s,l),d=jr(e.stateNode,s,d),Ir(e,d),nt!==4&&(nt=2)),!1;var m=Error(a(520),{cause:s});if(m=on(m,l),ql===null?ql=[m]:ql.push(m),nt!==4&&(nt=2),t===null)return!0;s=on(s,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=jr(l.stateNode,s,e),Ir(l,e),!1;case 1:if(t=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ti===null||!Ti.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=Ed(d),_d(d,e,l,s),Ir(l,d),!1}l=l.return}while(l!==null);return!1}var eu=Error(a(461)),mt=!1;function Mt(e,t,l,s){t.child=e===null?Mf(t,null,l,s):ji(t,e.child,l,s)}function Cd(e,t,l,s,d){l=l.render;var m=t.ref;if("ref"in s){var S={};for(var _ in s)_!=="ref"&&(S[_]=s[_])}else S=s;return Qi(t),s=Gr(e,t,l,S,m,d),_=Vr(),e!==null&&!mt?(Hr(e,t,d),kn(e,t,d)):(Me&&_&&gr(t),t.flags|=1,Mt(e,t,s,d),t.child)}function Ad(e,t,l,s,d){if(e===null){var m=l.type;return typeof m=="function"&&!pr(m)&&m.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=m,Rd(e,t,m,s,d)):(e=Na(l.type,null,s,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(m=e.child,!ru(e,d)){var S=m.memoizedProps;if(l=l.compare,l=l!==null?l:gl,l(S,s)&&e.ref===t.ref)return kn(e,t,d)}return t.flags|=1,e=Gn(m,s),e.ref=t.ref,e.return=t,t.child=e}function Rd(e,t,l,s,d){if(e!==null){var m=e.memoizedProps;if(gl(m,s)&&e.ref===t.ref)if(mt=!1,t.pendingProps=s=m,ru(e,d))(e.flags&131072)!==0&&(mt=!0);else return t.lanes=e.lanes,kn(e,t,d)}return tu(e,t,l,s,d)}function Md(e,t,l,s){var d=s.children,m=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(s=t.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~m}else s=0,t.child=null;return bd(e,t,m,l,s)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Da(t,m!==null?m.cachePool:null),m!==null?If(t,m):wr(),xf(t);else return s=t.lanes=536870912,bd(e,t,m!==null?m.baseLanes|l:l,l,s)}else m!==null?(Da(t,m.cachePool),If(t,m),gi(),t.memoizedState=null):(e!==null&&Da(t,null),wr(),gi());return Mt(e,t,d,l),t.child}function wl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bd(e,t,l,s,d){var m=Rr();return m=m===null?null:{parent:dt._currentValue,pool:m},t.memoizedState={baseLanes:l,cachePool:m},e!==null&&Da(t,null),wr(),xf(t),e!==null&&To(e,t,s,!0),t.childLanes=d,null}function Xa(e,t){return t=Za({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Nd(e,t,l){return ji(t,e.child,null,l),e=Xa(t,t.pendingProps),e.flags|=2,Qt(t),t.memoizedState=null,e}function Wy(e,t,l){var s=t.pendingProps,d=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Me){if(s.mode==="hidden")return e=Xa(t,s),t.lanes=536870912,wl(null,e);if(Ur(t),(e=Ke)?(e=Op(e,sn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ri!==null?{id:Rn,overflow:Mn}:null,retryLane:536870912,hydrationErrors:null},l=ff(e),l.return=t,t.child=l,At=t,Ke=null)):e=null,e===null)throw ci(t);return t.lanes=536870912,null}return Xa(t,s)}var m=e.memoizedState;if(m!==null){var S=m.dehydrated;if(Ur(t),d)if(t.flags&256)t.flags&=-257,t=Nd(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(a(558));else if(mt||To(e,t,l,!1),d=(l&e.childLanes)!==0,mt||d){if(s=Be,s!==null&&(S=ua(s,l),S!==0&&S!==m.retryLane))throw m.retryLane=S,Ji(e,S),zt(s,e,S),eu;ls(),t=Nd(e,t,l)}else e=m.treeContext,Ke=un(S.nextSibling),At=t,Me=!0,ui=null,sn=!1,e!==null&&mf(t,e),t=Xa(t,s),t.flags|=4096;return t}return e=Gn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Qa(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function tu(e,t,l,s,d){return Qi(t),l=Gr(e,t,l,s,void 0,d),s=Vr(),e!==null&&!mt?(Hr(e,t,d),kn(e,t,d)):(Me&&s&&gr(t),t.flags|=1,Mt(e,t,l,d),t.child)}function Id(e,t,l,s,d,m){return Qi(t),t.updateQueue=null,l=Df(t,s,l,d),wf(e),s=Vr(),e!==null&&!mt?(Hr(e,t,m),kn(e,t,m)):(Me&&s&&gr(t),t.flags|=1,Mt(e,t,l,m),t.child)}function xd(e,t,l,s,d){if(Qi(t),t.stateNode===null){var m=go,S=l.contextType;typeof S=="object"&&S!==null&&(m=Rt(S)),m=new l(s,m),t.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Wr,t.stateNode=m,m._reactInternals=t,m=t.stateNode,m.props=s,m.state=t.memoizedState,m.refs={},br(t),S=l.contextType,m.context=typeof S=="object"&&S!==null?Rt(S):go,m.state=t.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&($r(t,l,S,s),m.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&Wr.enqueueReplaceState(m,m.state,null),Ml(t,s,m,d),Rl(),m.state=t.memoizedState),typeof m.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){m=t.stateNode;var _=t.memoizedProps,C=to(l,_);m.props=C;var w=m.context,q=l.contextType;S=go,typeof q=="object"&&q!==null&&(S=Rt(q));var k=l.getDerivedStateFromProps;q=typeof k=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,q||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||w!==S)&&gd(t,m,s,S),di=!1;var D=t.memoizedState;m.state=D,Ml(t,s,m,d),Rl(),w=t.memoizedState,_||D!==w||di?(typeof k=="function"&&($r(t,l,k,s),w=t.memoizedState),(C=di||hd(t,l,C,s,D,w,S))?(q||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=w),m.props=s,m.state=w,m.context=S,s=C):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{m=t.stateNode,Nr(e,t),S=t.memoizedProps,q=to(l,S),m.props=q,k=t.pendingProps,D=m.context,w=l.contextType,C=go,typeof w=="object"&&w!==null&&(C=Rt(w)),_=l.getDerivedStateFromProps,(w=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==k||D!==C)&&gd(t,m,s,C),di=!1,D=t.memoizedState,m.state=D,Ml(t,s,m,d),Rl();var L=t.memoizedState;S!==k||D!==L||di||e!==null&&e.dependencies!==null&&xa(e.dependencies)?(typeof _=="function"&&($r(t,l,_,s),L=t.memoizedState),(q=di||hd(t,l,q,s,D,L,C)||e!==null&&e.dependencies!==null&&xa(e.dependencies))?(w||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,L,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,L,C)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=L),m.props=s,m.state=L,m.context=C,s=q):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),s=!1)}return m=s,Qa(e,t),s=(t.flags&128)!==0,m||s?(m=t.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:m.render(),t.flags|=1,e!==null&&s?(t.child=ji(t,e.child,null,d),t.child=ji(t,null,l,d)):Mt(e,t,l,d),t.memoizedState=m.state,e=t.child):e=kn(e,t,d),e}function wd(e,t,l,s){return Ki(),t.flags|=256,Mt(e,t,l,s),t.child}var nu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iu(e){return{baseLanes:e,cachePool:Tf()}}function ou(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=$t),e}function Dd(e,t,l){var s=t.pendingProps,d=!1,m=(t.flags&128)!==0,S;if((S=m)||(S=e!==null&&e.memoizedState===null?!1:(at.current&2)!==0),S&&(d=!0,t.flags&=-129),S=(t.flags&32)!==0,t.flags&=-33,e===null){if(Me){if(d?hi(t):gi(),(e=Ke)?(e=Op(e,sn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ri!==null?{id:Rn,overflow:Mn}:null,retryLane:536870912,hydrationErrors:null},l=ff(e),l.return=t,t.child=l,At=t,Ke=null)):e=null,e===null)throw ci(t);return Ou(e)?t.lanes=32:t.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(gi(),d=t.mode,_=Za({mode:"hidden",children:_},d),s=Yi(s,d,l,null),_.return=t,s.return=t,_.sibling=s,t.child=_,s=t.child,s.memoizedState=iu(l),s.childLanes=ou(e,S,l),t.memoizedState=nu,wl(null,s)):(hi(t),lu(t,_))}var C=e.memoizedState;if(C!==null&&(_=C.dehydrated,_!==null)){if(m)t.flags&256?(hi(t),t.flags&=-257,t=au(e,t,l)):t.memoizedState!==null?(gi(),t.child=e.child,t.flags|=128,t=null):(gi(),_=s.fallback,d=t.mode,s=Za({mode:"visible",children:s.children},d),_=Yi(_,d,l,null),_.flags|=2,s.return=t,_.return=t,s.sibling=_,t.child=s,ji(t,e.child,null,l),s=t.child,s.memoizedState=iu(l),s.childLanes=ou(e,S,l),t.memoizedState=nu,t=wl(null,s));else if(hi(t),Ou(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var w=S.dgst;S=w,s=Error(a(419)),s.stack="",s.digest=S,Sl({value:s,source:null,stack:null}),t=au(e,t,l)}else if(mt||To(e,t,l,!1),S=(l&e.childLanes)!==0,mt||S){if(S=Be,S!==null&&(s=ua(S,l),s!==0&&s!==C.retryLane))throw C.retryLane=s,Ji(e,s),zt(S,e,s),eu;Pu(_)||ls(),t=au(e,t,l)}else Pu(_)?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,Ke=un(_.nextSibling),At=t,Me=!0,ui=null,sn=!1,e!==null&&mf(t,e),t=lu(t,s.children),t.flags|=4096);return t}return d?(gi(),_=s.fallback,d=t.mode,C=e.child,w=C.sibling,s=Gn(C,{mode:"hidden",children:s.children}),s.subtreeFlags=C.subtreeFlags&65011712,w!==null?_=Gn(w,_):(_=Yi(_,d,l,null),_.flags|=2),_.return=t,s.return=t,s.sibling=_,t.child=s,wl(null,s),s=t.child,_=e.child.memoizedState,_===null?_=iu(l):(d=_.cachePool,d!==null?(C=dt._currentValue,d=d.parent!==C?{parent:C,pool:C}:d):d=Tf(),_={baseLanes:_.baseLanes|l,cachePool:d}),s.memoizedState=_,s.childLanes=ou(e,S,l),t.memoizedState=nu,wl(e.child,s)):(hi(t),l=e.child,e=l.sibling,l=Gn(l,{mode:"visible",children:s.children}),l.return=t,l.sibling=null,e!==null&&(S=t.deletions,S===null?(t.deletions=[e],t.flags|=16):S.push(e)),t.child=l,t.memoizedState=null,l)}function lu(e,t){return t=Za({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Za(e,t){return e=Kt(22,e,null,t),e.lanes=0,e}function au(e,t,l){return ji(t,e.child,null,l),e=lu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ud(e,t,l){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Er(e.return,t,l)}function su(e,t,l,s,d,m){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:d,treeForkCount:m}:(S.isBackwards=t,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=l,S.tailMode=d,S.treeForkCount=m)}function Ld(e,t,l){var s=t.pendingProps,d=s.revealOrder,m=s.tail;s=s.children;var S=at.current,_=(S&2)!==0;if(_?(S=S&1|2,t.flags|=128):S&=1,W(at,S),Mt(e,t,s,l),s=Me?vl:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ud(e,l,t);else if(e.tag===19)Ud(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=t.child,d=null;l!==null;)e=l.alternate,e!==null&&qa(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=t.child,t.child=null):(d=l.sibling,l.sibling=null),su(t,!1,d,l,m,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&qa(e)===null){t.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}su(t,!0,l,null,m,s);break;case"together":su(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function kn(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Si|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(To(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,l=Gn(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Gn(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function ru(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&xa(e)))}function jy(e,t,l){switch(t.tag){case 3:yt(t,t.stateNode.containerInfo),fi(t,dt,e.memoizedState.cache),Ki();break;case 27:case 5:In(t);break;case 4:yt(t,t.stateNode.containerInfo);break;case 10:fi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ur(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(hi(t),t.flags|=128,null):(l&t.child.childLanes)!==0?Dd(e,t,l):(hi(t),e=kn(e,t,l),e!==null?e.sibling:null);hi(t);break;case 19:var d=(e.flags&128)!==0;if(s=(l&t.childLanes)!==0,s||(To(e,t,l,!1),s=(l&t.childLanes)!==0),d){if(s)return Ld(e,t,l);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),W(at,at.current),s)break;return null;case 22:return t.lanes=0,Md(e,t,l,t.pendingProps);case 24:fi(t,dt,e.memoizedState.cache)}return kn(e,t,l)}function Gd(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)mt=!0;else{if(!ru(e,l)&&(t.flags&128)===0)return mt=!1,jy(e,t,l);mt=(e.flags&131072)!==0}else mt=!1,Me&&(t.flags&1048576)!==0&&pf(t,vl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=$i(t.elementType),t.type=e,typeof e=="function")pr(e)?(s=to(e,s),t.tag=1,t=xd(null,t,e,s,l)):(t.tag=0,t=tu(null,t,e,s,l));else{if(e!=null){var d=e.$$typeof;if(d===X){t.tag=11,t=Cd(null,t,e,s,l);break e}else if(d===Q){t.tag=14,t=Ad(null,t,e,s,l);break e}}throw t=xe(e)||e,Error(a(306,t,""))}}return t;case 0:return tu(e,t,t.type,t.pendingProps,l);case 1:return s=t.type,d=to(s,t.pendingProps),xd(e,t,s,d,l);case 3:e:{if(yt(t,t.stateNode.containerInfo),e===null)throw Error(a(387));s=t.pendingProps;var m=t.memoizedState;d=m.element,Nr(e,t),Ml(t,s,null,l);var S=t.memoizedState;if(s=S.cache,fi(t,dt,s),s!==m.cache&&_r(t,[dt],l,!0),Rl(),s=S.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:S.cache},t.updateQueue.baseState=m,t.memoizedState=m,t.flags&256){t=wd(e,t,s,l);break e}else if(s!==d){d=on(Error(a(424)),t),Sl(d),t=wd(e,t,s,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ke=un(e.firstChild),At=t,Me=!0,ui=null,sn=!0,l=Mf(t,null,s,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ki(),s===d){t=kn(e,t,l);break e}Mt(e,t,s,l)}t=t.child}return t;case 26:return Qa(e,t),e===null?(l=Yp(t.type,null,t.pendingProps,null))?t.memoizedState=l:Me||(l=t.type,e=t.pendingProps,s=ds(Se.current).createElement(l),s[We]=t,s[ot]=e,bt(s,l,e),je(s),t.stateNode=s):t.memoizedState=Yp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return In(t),e===null&&Me&&(s=t.stateNode=Bp(t.type,t.pendingProps,Se.current),At=t,sn=!0,d=Ke,Ai(t.type)?(ku=d,Ke=un(s.firstChild)):Ke=d),Mt(e,t,t.pendingProps.children,l),Qa(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Me&&((d=s=Ke)&&(s=Iv(s,t.type,t.pendingProps,sn),s!==null?(t.stateNode=s,At=t,Ke=un(s.firstChild),sn=!1,d=!0):d=!1),d||ci(t)),In(t),d=t.type,m=t.pendingProps,S=e!==null?e.memoizedProps:null,s=m.children,Vu(d,m)?s=null:S!==null&&Vu(d,S)&&(t.flags|=32),t.memoizedState!==null&&(d=Gr(e,t,Fy,null,null,l),Yl._currentValue=d),Qa(e,t),Mt(e,t,s,l),t.child;case 6:return e===null&&Me&&((e=l=Ke)&&(l=xv(l,t.pendingProps,sn),l!==null?(t.stateNode=l,At=t,Ke=null,e=!0):e=!1),e||ci(t)),null;case 13:return Dd(e,t,l);case 4:return yt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ji(t,null,s,l):Mt(e,t,s,l),t.child;case 11:return Cd(e,t,t.type,t.pendingProps,l);case 7:return Mt(e,t,t.pendingProps,l),t.child;case 8:return Mt(e,t,t.pendingProps.children,l),t.child;case 12:return Mt(e,t,t.pendingProps.children,l),t.child;case 10:return s=t.pendingProps,fi(t,t.type,s.value),Mt(e,t,s.children,l),t.child;case 9:return d=t.type._context,s=t.pendingProps.children,Qi(t),d=Rt(d),s=s(d),t.flags|=1,Mt(e,t,s,l),t.child;case 14:return Ad(e,t,t.type,t.pendingProps,l);case 15:return Rd(e,t,t.type,t.pendingProps,l);case 19:return Ld(e,t,l);case 31:return Wy(e,t,l);case 22:return Md(e,t,l,t.pendingProps);case 24:return Qi(t),s=Rt(dt),e===null?(d=Rr(),d===null&&(d=Be,m=Cr(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),t.memoizedState={parent:s,cache:d},br(t),fi(t,dt,d)):((e.lanes&l)!==0&&(Nr(e,t),Ml(t,null,null,l),Rl()),d=e.memoizedState,m=t.memoizedState,d.parent!==s?(d={parent:s,cache:s},t.memoizedState=d,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=d),fi(t,dt,s)):(s=m.cache,fi(t,dt,s),s!==d.cache&&_r(t,[dt],l,!0))),Mt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function zn(e){e.flags|=4}function uu(e,t,l,s,d){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(rp())e.flags|=8192;else throw Wi=La,Mr}else e.flags&=-16777217}function Vd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$p(t))if(rp())e.flags|=8192;else throw Wi=La,Mr}function $a(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?aa():536870912,e.lanes|=t,Do|=t)}function Dl(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(t)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=l,t}function ev(e,t,l){var s=t.pendingProps;switch(yr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return Xe(t),null;case 3:return l=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),qn(dt),$e(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(So(t)?zn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Sr())),Xe(t),null;case 26:var d=t.type,m=t.memoizedState;return e===null?(zn(t),m!==null?(Xe(t),Vd(t,m)):(Xe(t),uu(t,d,null,s,l))):m?m!==e.memoizedState?(zn(t),Xe(t),Vd(t,m)):(Xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&zn(t),Xe(t),uu(t,d,e,s,l)),null;case 27:if(ao(t),l=Se.current,d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&zn(t);else{if(!s){if(t.stateNode===null)throw Error(a(166));return Xe(t),null}e=ee.current,So(t)?hf(t):(e=Bp(d,s,l),t.stateNode=e,zn(t))}return Xe(t),null;case 5:if(ao(t),d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&zn(t);else{if(!s){if(t.stateNode===null)throw Error(a(166));return Xe(t),null}if(m=ee.current,So(t))hf(t);else{var S=ds(Se.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}m[We]=t,m[ot]=s;e:for(S=t.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===t)break e;for(;S.sibling===null;){if(S.return===null||S.return===t)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}t.stateNode=m;e:switch(bt(m,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&zn(t)}}return Xe(t),uu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&zn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(a(166));if(e=Se.current,So(t)){if(e=t.stateNode,l=t.memoizedProps,s=null,d=At,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[We]=t,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||Dp(e.nodeValue,l)),e||ci(t,!0)}else e=ds(e).createTextNode(s),e[We]=t,t.stateNode=e}return Xe(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(s=So(t),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[We]=t}else Ki(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),e=!1}else l=Sr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Qt(t),t):(Qt(t),null);if((t.flags&128)!==0)throw Error(a(558))}return Xe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=So(t),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[We]=t}else Ki(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),d=!1}else d=Sr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return t.flags&256?(Qt(t),t):(Qt(t),null)}return Qt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=t.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),$a(t,t.updateQueue),Xe(t),null);case 4:return $e(),e===null&&wu(t.stateNode.containerInfo),Xe(t),null;case 10:return qn(t.type),Xe(t),null;case 19:if(O(at),s=t.memoizedState,s===null)return Xe(t),null;if(d=(t.flags&128)!==0,m=s.rendering,m===null)if(d)Dl(s,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=qa(e),m!==null){for(t.flags|=128,Dl(s,!1),e=m.updateQueue,t.updateQueue=e,$a(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)cf(l,e),l=l.sibling;return W(at,at.current&1|2),Me&&Vn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Nt()>ns&&(t.flags|=128,d=!0,Dl(s,!1),t.lanes=4194304)}else{if(!d)if(e=qa(m),e!==null){if(t.flags|=128,d=!0,e=e.updateQueue,t.updateQueue=e,$a(t,e),Dl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!Me)return Xe(t),null}else 2*Nt()-s.renderingStartTime>ns&&l!==536870912&&(t.flags|=128,d=!0,Dl(s,!1),t.lanes=4194304);s.isBackwards?(m.sibling=t.child,t.child=m):(e=s.last,e!==null?e.sibling=m:t.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Nt(),e.sibling=null,l=at.current,W(at,d?l&1|2:l&1),Me&&Vn(t,s.treeForkCount),e):(Xe(t),null);case 22:case 23:return Qt(t),Dr(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(l&536870912)!==0&&(t.flags&128)===0&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),l=t.updateQueue,l!==null&&$a(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==l&&(t.flags|=2048),e!==null&&O(Zi),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),qn(dt),Xe(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function tv(e,t){switch(yr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qn(dt),$e(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ao(t),null;case 31:if(t.memoizedState!==null){if(Qt(t),t.alternate===null)throw Error(a(340));Ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Qt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return O(at),null;case 4:return $e(),null;case 10:return qn(t.type),null;case 22:case 23:return Qt(t),Dr(),e!==null&&O(Zi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return qn(dt),null;case 25:return null;default:return null}}function Hd(e,t){switch(yr(t),t.tag){case 3:qn(dt),$e();break;case 26:case 27:case 5:ao(t);break;case 4:$e();break;case 31:t.memoizedState!==null&&Qt(t);break;case 13:Qt(t);break;case 19:O(at);break;case 10:qn(t.type);break;case 22:case 23:Qt(t),Dr(),e!==null&&O(Zi);break;case 24:qn(dt)}}function Ul(e,t){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var d=s.next;l=d;do{if((l.tag&e)===e){s=void 0;var m=l.create,S=l.inst;s=m(),S.destroy=s}l=l.next}while(l!==d)}}catch(_){Pe(t,t.return,_)}}function yi(e,t,l){try{var s=t.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&e)===e){var S=s.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,d=t;var C=l,w=_;try{w()}catch(q){Pe(d,C,q)}}}s=s.next}while(s!==m)}}catch(q){Pe(t,t.return,q)}}function qd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Nf(t,l)}catch(s){Pe(e,e.return,s)}}}function Pd(e,t,l){l.props=to(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){Pe(e,t,s)}}function Ll(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(d){Pe(e,t,d)}}function bn(e,t){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(d){Pe(e,t,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Pe(e,t,d)}else l.current=null}function Od(e){var t=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(d){Pe(e,e.return,d)}}function cu(e,t,l){try{var s=e.stateNode;Cv(s,e.type,l,t),s[ot]=t}catch(d){Pe(e,e.return,d)}}function kd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ai(e.type)||e.tag===4}function fu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ai(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function du(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=xt));else if(s!==4&&(s===27&&Ai(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(du(e,t,l),e=e.sibling;e!==null;)du(e,t,l),e=e.sibling}function Wa(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(s!==4&&(s===27&&Ai(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Wa(e,t,l),e=e.sibling;e!==null;)Wa(e,t,l),e=e.sibling}function zd(e){var t=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,d=t.attributes;d.length;)t.removeAttributeNode(d[0]);bt(t,s,l),t[We]=e,t[ot]=l}catch(m){Pe(e,e.return,m)}}var Bn=!1,ht=!1,pu=!1,Bd=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function nv(e,t){if(e=e.containerInfo,Lu=Ss,e=ef(e),ar(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var S=0,_=-1,C=-1,w=0,q=0,k=e,D=null;t:for(;;){for(var L;k!==l||d!==0&&k.nodeType!==3||(_=S+d),k!==m||s!==0&&k.nodeType!==3||(C=S+s),k.nodeType===3&&(S+=k.nodeValue.length),(L=k.firstChild)!==null;)D=k,k=L;for(;;){if(k===e)break t;if(D===l&&++w===d&&(_=S),D===m&&++q===s&&(C=S),(L=k.nextSibling)!==null)break;k=D,D=k.parentNode}k=L}l=_===-1||C===-1?null:{start:_,end:C}}else l=null}l=l||{start:0,end:0}}else l=null;for(Gu={focusedElem:e,selectionRange:l},Ss=!1,Tt=t;Tt!==null;)if(t=Tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Tt=e;else for(;Tt!==null;){switch(t=Tt,m=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=t,d=m.memoizedProps,m=m.memoizedState,s=l.stateNode;try{var ie=to(l.type,d);e=s.getSnapshotBeforeUpdate(ie,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(ue){Pe(l,l.return,ue)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)qu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,Tt=e;break}Tt=t.return}}function Fd(e,t,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:Jn(e,l),s&4&&Ul(5,l);break;case 1:if(Jn(e,l),s&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(S){Pe(l,l.return,S)}else{var d=to(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(d,t,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Pe(l,l.return,S)}}s&64&&qd(l),s&512&&Ll(l,l.return);break;case 3:if(Jn(e,l),s&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{Nf(e,t)}catch(S){Pe(l,l.return,S)}}break;case 27:t===null&&s&4&&zd(l);case 26:case 5:Jn(e,l),t===null&&s&4&&Od(l),s&512&&Ll(l,l.return);break;case 12:Jn(e,l);break;case 31:Jn(e,l),s&4&&Kd(e,l);break;case 13:Jn(e,l),s&4&&Xd(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=fv.bind(null,l),wv(e,l))));break;case 22:if(s=l.memoizedState!==null||Bn,!s){t=t!==null&&t.memoizedState!==null||ht,d=Bn;var m=ht;Bn=s,(ht=t)&&!m?Yn(e,l,(l.subtreeFlags&8772)!==0):Jn(e,l),Bn=d,ht=m}break;case 30:break;default:Jn(e,l)}}function Jd(e){var t=e.alternate;t!==null&&(e.alternate=null,Jd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ol(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ze=null,qt=!1;function Fn(e,t,l){for(l=l.child;l!==null;)Yd(e,t,l),l=l.sibling}function Yd(e,t,l){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(ti,l)}catch{}switch(l.tag){case 26:ht||bn(l,t),Fn(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ht||bn(l,t);var s=Ze,d=qt;Ai(l.type)&&(Ze=l.stateNode,qt=!1),Fn(e,t,l),Bl(l.stateNode),Ze=s,qt=d;break;case 5:ht||bn(l,t);case 6:if(s=Ze,d=qt,Ze=null,Fn(e,t,l),Ze=s,qt=d,Ze!==null)if(qt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(l.stateNode)}catch(m){Pe(l,t,m)}else try{Ze.removeChild(l.stateNode)}catch(m){Pe(l,t,m)}break;case 18:Ze!==null&&(qt?(e=Ze,qp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Oo(e)):qp(Ze,l.stateNode));break;case 4:s=Ze,d=qt,Ze=l.stateNode.containerInfo,qt=!0,Fn(e,t,l),Ze=s,qt=d;break;case 0:case 11:case 14:case 15:yi(2,l,t),ht||yi(4,l,t),Fn(e,t,l);break;case 1:ht||(bn(l,t),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Pd(l,t,s)),Fn(e,t,l);break;case 21:Fn(e,t,l);break;case 22:ht=(s=ht)||l.memoizedState!==null,Fn(e,t,l),ht=s;break;default:Fn(e,t,l)}}function Kd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Oo(e)}catch(l){Pe(t,t.return,l)}}}function Xd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oo(e)}catch(l){Pe(t,t.return,l)}}function iv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Bd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Bd),t;default:throw Error(a(435,e.tag))}}function ja(e,t){var l=iv(e);t.forEach(function(s){if(!l.has(s)){l.add(s);var d=dv.bind(null,e,s);s.then(d,d)}})}function Pt(e,t){var l=t.deletions;if(l!==null)for(var s=0;s<l.length;s++){var d=l[s],m=e,S=t,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(Ai(_.type)){Ze=_.stateNode,qt=!1;break e}break;case 5:Ze=_.stateNode,qt=!1;break e;case 3:case 4:Ze=_.stateNode.containerInfo,qt=!0;break e}_=_.return}if(Ze===null)throw Error(a(160));Yd(m,S,d),Ze=null,qt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Qd(t,e),t=t.sibling}var yn=null;function Qd(e,t){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pt(t,e),Ot(e),s&4&&(yi(3,e,e.return),Ul(3,e),yi(5,e,e.return));break;case 1:Pt(t,e),Ot(e),s&512&&(ht||l===null||bn(l,l.return)),s&64&&Bn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var d=yn;if(Pt(t,e),Ot(e),s&512&&(ht||l===null||bn(l,l.return)),s&4){var m=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Cn]||m[We]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),bt(m,s,l),m[We]=e,je(m),s=m;break e;case"link":var S=Qp("link","href",d).get(s+(l.href||""));if(S){for(var _=0;_<S.length;_++)if(m=S[_],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(_,1);break t}}m=d.createElement(s),bt(m,s,l),d.head.appendChild(m);break;case"meta":if(S=Qp("meta","content",d).get(s+(l.content||""))){for(_=0;_<S.length;_++)if(m=S[_],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(_,1);break t}}m=d.createElement(s),bt(m,s,l),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[We]=e,je(m),s=m}e.stateNode=s}else Zp(d,e.type,e.stateNode);else e.stateNode=Xp(d,s,e.memoizedProps);else m!==s?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,s===null?Zp(d,e.type,e.stateNode):Xp(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&cu(e,e.memoizedProps,l.memoizedProps)}break;case 27:Pt(t,e),Ot(e),s&512&&(ht||l===null||bn(l,l.return)),l!==null&&s&4&&cu(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Pt(t,e),Ot(e),s&512&&(ht||l===null||bn(l,l.return)),e.flags&32){d=e.stateNode;try{Ut(d,"")}catch(ie){Pe(e,e.return,ie)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,cu(e,d,l!==null?l.memoizedProps:d)),s&1024&&(pu=!0);break;case 6:if(Pt(t,e),Ot(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(ie){Pe(e,e.return,ie)}}break;case 3:if(hs=null,d=yn,yn=ps(t.containerInfo),Pt(t,e),yn=d,Ot(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Oo(t.containerInfo)}catch(ie){Pe(e,e.return,ie)}pu&&(pu=!1,Zd(e));break;case 4:s=yn,yn=ps(e.stateNode.containerInfo),Pt(t,e),Ot(e),yn=s;break;case 12:Pt(t,e),Ot(e);break;case 31:Pt(t,e),Ot(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ja(e,s)));break;case 13:Pt(t,e),Ot(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ts=Nt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ja(e,s)));break;case 22:d=e.memoizedState!==null;var C=l!==null&&l.memoizedState!==null,w=Bn,q=ht;if(Bn=w||d,ht=q||C,Pt(t,e),ht=q,Bn=w,Ot(e),s&8192)e:for(t=e.stateNode,t._visibility=d?t._visibility&-2:t._visibility|1,d&&(l===null||C||Bn||ht||no(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){C=l=t;try{if(m=C.stateNode,d)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=C.stateNode;var k=C.memoizedProps.style,D=k!=null&&k.hasOwnProperty("display")?k.display:null;_.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(ie){Pe(C,C.return,ie)}}}else if(t.tag===6){if(l===null){C=t;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(ie){Pe(C,C.return,ie)}}}else if(t.tag===18){if(l===null){C=t;try{var L=C.stateNode;d?Pp(L,!0):Pp(C.stateNode,!1)}catch(ie){Pe(C,C.return,ie)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,ja(e,l))));break;case 19:Pt(t,e),Ot(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ja(e,s)));break;case 30:break;case 21:break;default:Pt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{for(var l,s=e.return;s!==null;){if(kd(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var d=l.stateNode,m=fu(e);Wa(e,m,d);break;case 5:var S=l.stateNode;l.flags&32&&(Ut(S,""),l.flags&=-33);var _=fu(e);Wa(e,_,S);break;case 3:case 4:var C=l.stateNode.containerInfo,w=fu(e);du(e,w,C);break;default:throw Error(a(161))}}catch(q){Pe(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Zd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Jn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Fd(e,t.alternate,t),t=t.sibling}function no(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yi(4,t,t.return),no(t);break;case 1:bn(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Pd(t,t.return,l),no(t);break;case 27:Bl(t.stateNode);case 26:case 5:bn(t,t.return),no(t);break;case 22:t.memoizedState===null&&no(t);break;case 30:no(t);break;default:no(t)}e=e.sibling}}function Yn(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,d=e,m=t,S=m.flags;switch(m.tag){case 0:case 11:case 15:Yn(d,m,l),Ul(4,m);break;case 1:if(Yn(d,m,l),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(w){Pe(s,s.return,w)}if(s=m,d=s.updateQueue,d!==null){var _=s.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)bf(C[d],_)}catch(w){Pe(s,s.return,w)}}l&&S&64&&qd(m),Ll(m,m.return);break;case 27:zd(m);case 26:case 5:Yn(d,m,l),l&&s===null&&S&4&&Od(m),Ll(m,m.return);break;case 12:Yn(d,m,l);break;case 31:Yn(d,m,l),l&&S&4&&Kd(d,m);break;case 13:Yn(d,m,l),l&&S&4&&Xd(d,m);break;case 22:m.memoizedState===null&&Yn(d,m,l),Ll(m,m.return);break;case 30:break;default:Yn(d,m,l)}t=t.sibling}}function mu(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Tl(l))}function hu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Tl(e))}function vn(e,t,l,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$d(e,t,l,s),t=t.sibling}function $d(e,t,l,s){var d=t.flags;switch(t.tag){case 0:case 11:case 15:vn(e,t,l,s),d&2048&&Ul(9,t);break;case 1:vn(e,t,l,s);break;case 3:vn(e,t,l,s),d&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Tl(e)));break;case 12:if(d&2048){vn(e,t,l,s),e=t.stateNode;try{var m=t.memoizedProps,S=m.id,_=m.onPostCommit;typeof _=="function"&&_(S,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Pe(t,t.return,C)}}else vn(e,t,l,s);break;case 31:vn(e,t,l,s);break;case 13:vn(e,t,l,s);break;case 23:break;case 22:m=t.stateNode,S=t.alternate,t.memoizedState!==null?m._visibility&2?vn(e,t,l,s):Gl(e,t):m._visibility&2?vn(e,t,l,s):(m._visibility|=2,Io(e,t,l,s,(t.subtreeFlags&10256)!==0||!1)),d&2048&&mu(S,t);break;case 24:vn(e,t,l,s),d&2048&&hu(t.alternate,t);break;default:vn(e,t,l,s)}}function Io(e,t,l,s,d){for(d=d&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var m=e,S=t,_=l,C=s,w=S.flags;switch(S.tag){case 0:case 11:case 15:Io(m,S,_,C,d),Ul(8,S);break;case 23:break;case 22:var q=S.stateNode;S.memoizedState!==null?q._visibility&2?Io(m,S,_,C,d):Gl(m,S):(q._visibility|=2,Io(m,S,_,C,d)),d&&w&2048&&mu(S.alternate,S);break;case 24:Io(m,S,_,C,d),d&&w&2048&&hu(S.alternate,S);break;default:Io(m,S,_,C,d)}t=t.sibling}}function Gl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,s=t,d=s.flags;switch(s.tag){case 22:Gl(l,s),d&2048&&mu(s.alternate,s);break;case 24:Gl(l,s),d&2048&&hu(s.alternate,s);break;default:Gl(l,s)}t=t.sibling}}var Vl=8192;function xo(e,t,l){if(e.subtreeFlags&Vl)for(e=e.child;e!==null;)Wd(e,t,l),e=e.sibling}function Wd(e,t,l){switch(e.tag){case 26:xo(e,t,l),e.flags&Vl&&e.memoizedState!==null&&Bv(l,yn,e.memoizedState,e.memoizedProps);break;case 5:xo(e,t,l);break;case 3:case 4:var s=yn;yn=ps(e.stateNode.containerInfo),xo(e,t,l),yn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Vl,Vl=16777216,xo(e,t,l),Vl=s):xo(e,t,l));break;default:xo(e,t,l)}}function jd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Hl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];Tt=s,tp(s,e)}jd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ep(e),e=e.sibling}function ep(e){switch(e.tag){case 0:case 11:case 15:Hl(e),e.flags&2048&&yi(9,e,e.return);break;case 3:Hl(e);break;case 12:Hl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,es(e)):Hl(e);break;default:Hl(e)}}function es(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];Tt=s,tp(s,e)}jd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:yi(8,t,t.return),es(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,es(t));break;default:es(t)}e=e.sibling}}function tp(e,t){for(;Tt!==null;){var l=Tt;switch(l.tag){case 0:case 11:case 15:yi(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Tl(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,Tt=s;else e:for(l=e;Tt!==null;){s=Tt;var d=s.sibling,m=s.return;if(Jd(s),s===l){Tt=null;break e}if(d!==null){d.return=m,Tt=d;break e}Tt=m}}}var ov={getCacheForType:function(e){var t=Rt(dt),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return Rt(dt).controller.signal}},lv=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Be=null,Ee=null,Ae=0,qe=0,Zt=null,vi=!1,wo=!1,gu=!1,Kn=0,nt=0,Si=0,io=0,yu=0,$t=0,Do=0,ql=null,kt=null,vu=!1,ts=0,np=0,ns=1/0,is=null,Ti=null,vt=0,Ei=null,Uo=null,Xn=0,Su=0,Tu=null,ip=null,Pl=0,Eu=null;function Wt(){return(Ve&2)!==0&&Ae!==0?Ae&-Ae:H.T!==null?bu():tl()}function op(){if($t===0)if((Ae&536870912)===0||Me){var e=ii;ii<<=1,(ii&3932160)===0&&(ii=262144),$t=e}else $t=536870912;return e=Xt.current,e!==null&&(e.flags|=32),$t}function zt(e,t,l){(e===Be&&(qe===2||qe===9)||e.cancelPendingCommit!==null)&&(Lo(e,0),_i(e,Ae,$t,!1)),qi(e,l),((Ve&2)===0||e!==Be)&&(e===Be&&((Ve&2)===0&&(io|=l),nt===4&&_i(e,Ae,$t,!1)),Nn(e))}function lp(e,t,l){if((Ve&6)!==0)throw Error(a(327));var s=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Hi(e,t),d=s?rv(e,t):Cu(e,t,!0),m=s;do{if(d===0){wo&&!s&&_i(e,t,0,!1);break}else{if(l=e.current.alternate,m&&!av(l)){d=Cu(e,t,!1),m=!1;continue}if(d===2){if(m=t,e.errorRecoveryDisabledLanes&m)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){t=S;e:{var _=e;d=ql;var C=_.current.memoizedState.isDehydrated;if(C&&(Lo(_,S).flags|=256),S=Cu(_,S,!1),S!==2){if(gu&&!C){_.errorRecoveryDisabledLanes|=m,io|=m,d=4;break e}m=kt,kt=d,m!==null&&(kt===null?kt=m:kt.push.apply(kt,m))}d=S}if(m=!1,d!==2)continue}}if(d===1){Lo(e,0),_i(e,t,0,!0);break}e:{switch(s=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:_i(s,t,$t,!vi);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(d=ts+300-Nt(),10<d)){if(_i(s,t,$t,!vi),li(s,0,!0)!==0)break e;Xn=t,s.timeoutHandle=Vp(ap.bind(null,s,l,kt,is,vu,t,$t,io,Do,vi,m,"Throttled",-0,0),d);break e}ap(s,l,kt,is,vu,t,$t,io,Do,vi,m,null,-0,0)}}break}while(!0);Nn(e)}function ap(e,t,l,s,d,m,S,_,C,w,q,k,D,L){if(e.timeoutHandle=-1,k=t.subtreeFlags,k&8192||(k&16785408)===16785408){k={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xt},Wd(t,m,k);var ie=(m&62914560)===m?ts-Nt():(m&4194048)===m?np-Nt():0;if(ie=Fv(k,ie),ie!==null){Xn=m,e.cancelPendingCommit=ie(mp.bind(null,e,t,m,l,s,d,S,_,C,q,k,null,D,L)),_i(e,m,S,!w);return}}mp(e,t,m,l,s,d,S,_,C)}function av(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var d=l[s],m=d.getSnapshot;d=d.value;try{if(!Yt(m(),d))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _i(e,t,l,s){t&=~yu,t&=~io,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var d=t;0<d;){var m=31-Qe(d),S=1<<m;s[m]=-1,d&=~S}l!==0&&sa(e,l,t)}function os(){return(Ve&6)===0?(Ol(0),!1):!0}function _u(){if(Ee!==null){if(qe===0)var e=Ee.return;else e=Ee,Hn=Xi=null,qr(e),Ao=null,_l=0,e=Ee;for(;e!==null;)Hd(e.alternate,e),e=e.return;Ee=null}}function Lo(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Mv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Xn=0,_u(),Be=e,Ee=l=Gn(e.current,null),Ae=t,qe=0,Zt=null,vi=!1,wo=Hi(e,t),gu=!1,Do=$t=yu=io=Si=nt=0,kt=ql=null,vu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var d=31-Qe(s),m=1<<d;t|=e[d],s&=~m}return Kn=t,Ra(),l}function sp(e,t){ve=null,H.H=xl,t===Co||t===Ua?(t=Cf(),qe=3):t===Mr?(t=Cf(),qe=4):qe=t===eu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Zt=t,Ee===null&&(nt=1,Ka(e,on(t,e.current)))}function rp(){var e=Xt.current;return e===null?!0:(Ae&4194048)===Ae?rn===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?e===rn:!1}function up(){var e=H.H;return H.H=xl,e===null?xl:e}function cp(){var e=H.A;return H.A=ov,e}function ls(){nt=4,vi||(Ae&4194048)!==Ae&&Xt.current!==null||(wo=!0),(Si&134217727)===0&&(io&134217727)===0||Be===null||_i(Be,Ae,$t,!1)}function Cu(e,t,l){var s=Ve;Ve|=2;var d=up(),m=cp();(Be!==e||Ae!==t)&&(is=null,Lo(e,t)),t=!1;var S=nt;e:do try{if(qe!==0&&Ee!==null){var _=Ee,C=Zt;switch(qe){case 8:_u(),S=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(t=!0);var w=qe;if(qe=0,Zt=null,Go(e,_,C,w),l&&wo){S=0;break e}break;default:w=qe,qe=0,Zt=null,Go(e,_,C,w)}}sv(),S=nt;break}catch(q){sp(e,q)}while(!0);return t&&e.shellSuspendCounter++,Hn=Xi=null,Ve=s,H.H=d,H.A=m,Ee===null&&(Be=null,Ae=0,Ra()),S}function sv(){for(;Ee!==null;)fp(Ee)}function rv(e,t){var l=Ve;Ve|=2;var s=up(),d=cp();Be!==e||Ae!==t?(is=null,ns=Nt()+500,Lo(e,t)):wo=Hi(e,t);e:do try{if(qe!==0&&Ee!==null){t=Ee;var m=Zt;t:switch(qe){case 1:qe=0,Zt=null,Go(e,t,m,1);break;case 2:case 9:if(Ef(m)){qe=0,Zt=null,dp(t);break}t=function(){qe!==2&&qe!==9||Be!==e||(qe=7),Nn(e)},m.then(t,t);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:Ef(m)?(qe=0,Zt=null,dp(t)):(qe=0,Zt=null,Go(e,t,m,7));break;case 5:var S=null;switch(Ee.tag){case 26:S=Ee.memoizedState;case 5:case 27:var _=Ee;if(S?$p(S):_.stateNode.complete){qe=0,Zt=null;var C=_.sibling;if(C!==null)Ee=C;else{var w=_.return;w!==null?(Ee=w,as(w)):Ee=null}break t}}qe=0,Zt=null,Go(e,t,m,5);break;case 6:qe=0,Zt=null,Go(e,t,m,6);break;case 8:_u(),nt=6;break e;default:throw Error(a(462))}}uv();break}catch(q){sp(e,q)}while(!0);return Hn=Xi=null,H.H=s,H.A=d,Ve=l,Ee!==null?0:(Be=null,Ae=0,Ra(),nt)}function uv(){for(;Ee!==null&&!He();)fp(Ee)}function fp(e){var t=Gd(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,t===null?as(e):Ee=t}function dp(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Id(l,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=Id(l,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:qr(t);default:Hd(l,t),t=Ee=cf(t,Kn),t=Gd(l,t,Kn)}e.memoizedProps=e.pendingProps,t===null?as(e):Ee=t}function Go(e,t,l,s){Hn=Xi=null,qr(t),Ao=null,_l=0;var d=t.return;try{if($y(e,d,t,l,Ae)){nt=1,Ka(e,on(l,e.current)),Ee=null;return}}catch(m){if(d!==null)throw Ee=d,m;nt=1,Ka(e,on(l,e.current)),Ee=null;return}t.flags&32768?(Me||s===1?e=!0:wo||(Ae&536870912)!==0?e=!1:(vi=e=!0,(s===2||s===9||s===3||s===6)&&(s=Xt.current,s!==null&&s.tag===13&&(s.flags|=16384))),pp(t,e)):as(t)}function as(e){var t=e;do{if((t.flags&32768)!==0){pp(t,vi);return}e=t.return;var l=ev(t.alternate,t,Kn);if(l!==null){Ee=l;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);nt===0&&(nt=5)}function pp(e,t){do{var l=tv(e.alternate,e);if(l!==null){l.flags&=32767,Ee=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=l}while(e!==null);nt=6,Ee=null}function mp(e,t,l,s,d,m,S,_,C){e.cancelPendingCommit=null;do ss();while(vt!==0);if((Ve&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(m=t.lanes|t.childLanes,m|=fr,Ks(e,l,m,S,_,C),e===Be&&(Ee=Be=null,Ae=0),Uo=t,Ei=e,Xn=l,Su=m,Tu=d,ip=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,pv(ei,function(){return Sp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=H.T,H.T=null,d=Z.p,Z.p=2,S=Ve,Ve|=4;try{nv(e,t,l)}finally{Ve=S,Z.p=d,H.T=s}}vt=1,hp(),gp(),yp()}}function hp(){if(vt===1){vt=0;var e=Ei,t=Uo,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var s=Z.p;Z.p=2;var d=Ve;Ve|=4;try{Qd(t,e);var m=Gu,S=ef(e.containerInfo),_=m.focusedElem,C=m.selectionRange;if(S!==_&&_&&_.ownerDocument&&jc(_.ownerDocument.documentElement,_)){if(C!==null&&ar(_)){var w=C.start,q=C.end;if(q===void 0&&(q=w),"selectionStart"in _)_.selectionStart=w,_.selectionEnd=Math.min(q,_.value.length);else{var k=_.ownerDocument||document,D=k&&k.defaultView||window;if(D.getSelection){var L=D.getSelection(),ie=_.textContent.length,ue=Math.min(C.start,ie),ze=C.end===void 0?ue:Math.min(C.end,ie);!L.extend&&ue>ze&&(S=ze,ze=ue,ue=S);var N=Wc(_,ue),R=Wc(_,ze);if(N&&R&&(L.rangeCount!==1||L.anchorNode!==N.node||L.anchorOffset!==N.offset||L.focusNode!==R.node||L.focusOffset!==R.offset)){var x=k.createRange();x.setStart(N.node,N.offset),L.removeAllRanges(),ue>ze?(L.addRange(x),L.extend(R.node,R.offset)):(x.setEnd(R.node,R.offset),L.addRange(x))}}}}for(k=[],L=_;L=L.parentNode;)L.nodeType===1&&k.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<k.length;_++){var P=k[_];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Ss=!!Lu,Gu=Lu=null}finally{Ve=d,Z.p=s,H.T=l}}e.current=t,vt=2}}function gp(){if(vt===2){vt=0;var e=Ei,t=Uo,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var s=Z.p;Z.p=2;var d=Ve;Ve|=4;try{Fd(e,t.alternate,t)}finally{Ve=d,Z.p=s,H.T=l}}vt=3}}function yp(){if(vt===4||vt===3){vt=0,Zo();var e=Ei,t=Uo,l=Xn,s=ip;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?vt=5:(vt=0,Uo=Ei=null,vp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Ti=null),el(l),t=t.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(ti,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=H.T,d=Z.p,Z.p=2,H.T=null;try{for(var m=e.onRecoverableError,S=0;S<s.length;S++){var _=s[S];m(_.value,{componentStack:_.stack})}}finally{H.T=t,Z.p=d}}(Xn&3)!==0&&ss(),Nn(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===Eu?Pl++:(Pl=0,Eu=e):Pl=0,Ol(0)}}function vp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Tl(t)))}function ss(){return hp(),gp(),yp(),Sp()}function Sp(){if(vt!==5)return!1;var e=Ei,t=Su;Su=0;var l=el(Xn),s=H.T,d=Z.p;try{Z.p=32>l?32:l,H.T=null,l=Tu,Tu=null;var m=Ei,S=Xn;if(vt=0,Uo=Ei=null,Xn=0,(Ve&6)!==0)throw Error(a(331));var _=Ve;if(Ve|=4,ep(m.current),$d(m,m.current,S,l),Ve=_,Ol(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(ti,m)}catch{}return!0}finally{Z.p=d,H.T=s,vp(e,t)}}function Tp(e,t,l){t=on(l,t),t=jr(e.stateNode,t,2),e=mi(e,t,2),e!==null&&(qi(e,2),Nn(e))}function Pe(e,t,l){if(e.tag===3)Tp(e,e,l);else for(;t!==null;){if(t.tag===3){Tp(t,e,l);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ti===null||!Ti.has(s))){e=on(l,e),l=Ed(2),s=mi(t,l,2),s!==null&&(_d(l,s,t,e),qi(s,2),Nn(s));break}}t=t.return}}function Au(e,t,l){var s=e.pingCache;if(s===null){s=e.pingCache=new lv;var d=new Set;s.set(t,d)}else d=s.get(t),d===void 0&&(d=new Set,s.set(t,d));d.has(l)||(gu=!0,d.add(l),e=cv.bind(null,e,t,l),t.then(e,e))}function cv(e,t,l){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Be===e&&(Ae&l)===l&&(nt===4||nt===3&&(Ae&62914560)===Ae&&300>Nt()-ts?(Ve&2)===0&&Lo(e,0):yu|=l,Do===Ae&&(Do=0)),Nn(e)}function Ep(e,t){t===0&&(t=aa()),e=Ji(e,t),e!==null&&(qi(e,t),Nn(e))}function fv(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),Ep(e,l)}function dv(e,t){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(t),Ep(e,l)}function pv(e,t){return wn(e,t)}var rs=null,Vo=null,Ru=!1,us=!1,Mu=!1,Ci=0;function Nn(e){e!==Vo&&e.next===null&&(Vo===null?rs=Vo=e:Vo=Vo.next=e),us=!0,Ru||(Ru=!0,hv())}function Ol(e,t){if(!Mu&&us){Mu=!0;do for(var l=!1,s=rs;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var S=s.suspendedLanes,_=s.pingedLanes;m=(1<<31-Qe(42|e)+1)-1,m&=d&~(S&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,Rp(s,m))}else m=Ae,m=li(s,s===Be?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||Hi(s,m)||(l=!0,Rp(s,m));s=s.next}while(l);Mu=!1}}function mv(){_p()}function _p(){us=Ru=!1;var e=0;Ci!==0&&Rv()&&(e=Ci);for(var t=Nt(),l=null,s=rs;s!==null;){var d=s.next,m=Cp(s,t);m===0?(s.next=null,l===null?rs=d:l.next=d,d===null&&(Vo=l)):(l=s,(e!==0||(m&3)!==0)&&(us=!0)),s=d}vt!==0&&vt!==5||Ol(e),Ci!==0&&(Ci=0)}function Cp(e,t){for(var l=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var S=31-Qe(m),_=1<<S,C=d[S];C===-1?((_&l)===0||(_&s)!==0)&&(d[S]=Ys(_,t)):C<=t&&(e.expiredLanes|=_),m&=~_}if(t=Be,l=Ae,l=li(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===t&&(qe===2||qe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Li(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Hi(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(s!==null&&Li(s),el(l)){case 2:case 8:l=ro;break;case 32:l=ei;break;case 268435456:l=$o;break;default:l=ei}return s=Ap.bind(null,e),l=wn(l,s),e.callbackPriority=t,e.callbackNode=l,t}return s!==null&&s!==null&&Li(s),e.callbackPriority=2,e.callbackNode=null,2}function Ap(e,t){if(vt!==0&&vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(ss()&&e.callbackNode!==l)return null;var s=Ae;return s=li(e,e===Be?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(lp(e,s,t),Cp(e,Nt()),e.callbackNode!=null&&e.callbackNode===l?Ap.bind(null,e):null)}function Rp(e,t){if(ss())return null;lp(e,t,!0)}function hv(){bv(function(){(Ve&6)!==0?wn(Gi,mv):_p()})}function bu(){if(Ci===0){var e=Eo;e===0&&(e=jt,jt<<=1,(jt&261888)===0&&(jt=256)),Ci=e}return Ci}function Mp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tn(""+e)}function bp(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function gv(e,t,l,s,d){if(t==="submit"&&l&&l.stateNode===d){var m=Mp((d[ot]||null).action),S=s.submitter;S&&(t=(t=S[ot]||null)?Mp(t.formAction):S.getAttribute("formAction"),t!==null&&(m=t,S=null));var _=new Ea("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ci!==0){var C=S?bp(d,S):new FormData(d);Kr(l,{pending:!0,data:C,method:d.method,action:m},null,C)}}else typeof m=="function"&&(_.preventDefault(),C=S?bp(d,S):new FormData(d),Kr(l,{pending:!0,data:C,method:d.method,action:m},m,C))},currentTarget:d}]})}}for(var Nu=0;Nu<cr.length;Nu++){var Iu=cr[Nu],yv=Iu.toLowerCase(),vv=Iu[0].toUpperCase()+Iu.slice(1);gn(yv,"on"+vv)}gn(of,"onAnimationEnd"),gn(lf,"onAnimationIteration"),gn(af,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(Ly,"onTransitionRun"),gn(Gy,"onTransitionStart"),gn(Vy,"onTransitionCancel"),gn(sf,"onTransitionEnd"),Jt("onMouseEnter",["mouseout","mouseover"]),Jt("onMouseLeave",["mouseout","mouseover"]),Jt("onPointerEnter",["pointerout","pointerover"]),Jt("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function Np(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],d=s.event;s=s.listeners;e:{var m=void 0;if(t)for(var S=s.length-1;0<=S;S--){var _=s[S],C=_.instance,w=_.currentTarget;if(_=_.listener,C!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=w;try{m(d)}catch(q){Aa(q)}d.currentTarget=null,m=C}else for(S=0;S<s.length;S++){if(_=s[S],C=_.instance,w=_.currentTarget,_=_.listener,C!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=w;try{m(d)}catch(q){Aa(q)}d.currentTarget=null,m=C}}}}function _e(e,t){var l=t[mn];l===void 0&&(l=t[mn]=new Set);var s=e+"__bubble";l.has(s)||(Ip(t,e,2,!1),l.add(s))}function xu(e,t,l){var s=0;t&&(s|=4),Ip(l,e,s,t)}var cs="_reactListening"+Math.random().toString(36).slice(2);function wu(e){if(!e[cs]){e[cs]=!0,Pi.forEach(function(l){l!=="selectionchange"&&(Sv.has(l)||xu(l,!1,e),xu(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cs]||(t[cs]=!0,xu("selectionchange",!1,t))}}function Ip(e,t,l,s){switch(om(t)){case 2:var d=Kv;break;case 8:d=Xv;break;default:d=Yu}l=d.bind(null,t,l,e),d=void 0,!$s||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(t,l,{capture:!0,passive:d}):e.addEventListener(t,l,!0):d!==void 0?e.addEventListener(t,l,{passive:d}):e.addEventListener(t,l,!1)}function Du(e,t,l,s,d){var m=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var _=s.stateNode.containerInfo;if(_===d)break;if(S===4)for(S=s.return;S!==null;){var C=S.tag;if((C===3||C===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;_!==null;){if(S=hn(_),S===null)return;if(C=S.tag,C===5||C===6||C===26||C===27){s=m=S;continue e}_=_.parentNode}}s=s.return}Uc(function(){var w=m,q=Qs(l),k=[];e:{var D=rf.get(e);if(D!==void 0){var L=Ea,ie=e;switch(e){case"keypress":if(Sa(l)===0)break e;case"keydown":case"keyup":L=dy;break;case"focusin":ie="focus",L=tr;break;case"focusout":ie="blur",L=tr;break;case"beforeblur":case"afterblur":L=tr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=ey;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=hy;break;case of:case lf:case af:L=iy;break;case sf:L=yy;break;case"scroll":case"scrollend":L=Wg;break;case"wheel":L=Sy;break;case"copy":case"cut":case"paste":L=ly;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=qc;break;case"toggle":case"beforetoggle":L=Ey}var ue=(t&4)!==0,ze=!ue&&(e==="scroll"||e==="scrollend"),N=ue?D!==null?D+"Capture":null:D;ue=[];for(var R=w,x;R!==null;){var P=R;if(x=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||x===null||N===null||(P=ul(R,N),P!=null&&ue.push(zl(R,P,x))),ze)break;R=R.return}0<ue.length&&(D=new L(D,ie,null,l,q),k.push({event:D,listeners:ue}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",D&&l!==rl&&(ie=l.relatedTarget||l.fromElement)&&(hn(ie)||ie[Dn]))break e;if((L||D)&&(D=q.window===q?q:(D=q.ownerDocument)?D.defaultView||D.parentWindow:window,L?(ie=l.relatedTarget||l.toElement,L=w,ie=ie?hn(ie):null,ie!==null&&(ze=f(ie),ue=ie.tag,ie!==ze||ue!==5&&ue!==27&&ue!==6)&&(ie=null)):(L=null,ie=w),L!==ie)){if(ue=Vc,P="onMouseLeave",N="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ue=qc,P="onPointerLeave",N="onPointerEnter",R="pointer"),ze=L==null?D:ai(L),x=ie==null?D:ai(ie),D=new ue(P,R+"leave",L,l,q),D.target=ze,D.relatedTarget=x,P=null,hn(q)===w&&(ue=new ue(N,R+"enter",ie,l,q),ue.target=x,ue.relatedTarget=ze,P=ue),ze=P,L&&ie)t:{for(ue=Tv,N=L,R=ie,x=0,P=N;P;P=ue(P))x++;P=0;for(var re=R;re;re=ue(re))P++;for(;0<x-P;)N=ue(N),x--;for(;0<P-x;)R=ue(R),P--;for(;x--;){if(N===R||R!==null&&N===R.alternate){ue=N;break t}N=ue(N),R=ue(R)}ue=null}else ue=null;L!==null&&xp(k,D,L,ue,!1),ie!==null&&ze!==null&&xp(k,ze,ie,ue,!0)}}e:{if(D=w?ai(w):window,L=D.nodeName&&D.nodeName.toLowerCase(),L==="select"||L==="input"&&D.type==="file")var Ue=Yc;else if(Fc(D))if(Kc)Ue=wy;else{Ue=Iy;var le=Ny}else L=D.nodeName,!L||L.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?w&&sl(w.elementType)&&(Ue=Yc):Ue=xy;if(Ue&&(Ue=Ue(e,w))){Jc(k,Ue,l,q);break e}le&&le(e,D,w),e==="focusout"&&w&&D.type==="number"&&w.memoizedProps.value!=null&&et(D,"number",D.value)}switch(le=w?ai(w):window,e){case"focusin":(Fc(le)||le.contentEditable==="true")&&(po=le,sr=w,yl=null);break;case"focusout":yl=sr=po=null;break;case"mousedown":rr=!0;break;case"contextmenu":case"mouseup":case"dragend":rr=!1,tf(k,l,q);break;case"selectionchange":if(Uy)break;case"keydown":case"keyup":tf(k,l,q)}var Te;if(ir)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else fo?zc(e,l)&&(Re="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(Pc&&l.locale!=="ko"&&(fo||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&fo&&(Te=Lc()):(si=q,Ws="value"in si?si.value:si.textContent,fo=!0)),le=fs(w,Re),0<le.length&&(Re=new Hc(Re,e,null,l,q),k.push({event:Re,listeners:le}),Te?Re.data=Te:(Te=Bc(l),Te!==null&&(Re.data=Te)))),(Te=Cy?Ay(e,l):Ry(e,l))&&(Re=fs(w,"onBeforeInput"),0<Re.length&&(le=new Hc("onBeforeInput","beforeinput",null,l,q),k.push({event:le,listeners:Re}),le.data=Te)),gv(k,e,w,l,q)}Np(k,t)})}function zl(e,t,l){return{instance:e,listener:t,currentTarget:l}}function fs(e,t){for(var l=t+"Capture",s=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=ul(e,l),d!=null&&s.unshift(zl(e,d,m)),d=ul(e,t),d!=null&&s.push(zl(e,d,m))),e.tag===3)return s;e=e.return}return[]}function Tv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xp(e,t,l,s,d){for(var m=t._reactName,S=[];l!==null&&l!==s;){var _=l,C=_.alternate,w=_.stateNode;if(_=_.tag,C!==null&&C===s)break;_!==5&&_!==26&&_!==27||w===null||(C=w,d?(w=ul(l,m),w!=null&&S.unshift(zl(l,w,C))):d||(w=ul(l,m),w!=null&&S.push(zl(l,w,C)))),l=l.return}S.length!==0&&e.push({event:t,listeners:S})}var Ev=/\r\n?/g,_v=/\u0000|\uFFFD/g;function wp(e){return(typeof e=="string"?e:""+e).replace(Ev,`
`).replace(_v,"")}function Dp(e,t){return t=wp(t),wp(e)===t}function ke(e,t,l,s,d,m){switch(l){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ut(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ut(e,""+s);break;case"className":b(e,"class",s);break;case"tabIndex":b(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":b(e,l,s);break;case"style":al(e,s,m);break;case"data":if(t!=="object"){b(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=tn(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(t!=="input"&&ke(e,t,"name",d.name,d,null),ke(e,t,"formEncType",d.formEncType,d,null),ke(e,t,"formMethod",d.formMethod,d,null),ke(e,t,"formTarget",d.formTarget,d,null)):(ke(e,t,"encType",d.encType,d,null),ke(e,t,"method",d.method,d,null),ke(e,t,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=tn(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=xt);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=tn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":_e("beforetoggle",e),_e("toggle",e),ki(e,"popover",s);break;case"xlinkActuate":F(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":F(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":F(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":F(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":F(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":F(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":F(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":F(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":F(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ki(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ga.get(l)||l,ki(e,l,s))}}function Uu(e,t,l,s,d,m){switch(l){case"style":al(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Ut(e,s):(typeof s=="number"||typeof s=="bigint")&&Ut(e,""+s);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"onClick":s!=null&&(e.onclick=xt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oi.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),t=l.slice(2,d?l.length-7:void 0),m=e[ot]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(t,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,s,d);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):ki(e,l,s)}}}function bt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var s=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var S=l[m];if(S!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ke(e,t,m,S,l,null)}}d&&ke(e,t,"srcSet",l.srcSet,l,null),s&&ke(e,t,"src",l.src,l,null);return;case"input":_e("invalid",e);var _=m=S=d=null,C=null,w=null;for(s in l)if(l.hasOwnProperty(s)){var q=l[s];if(q!=null)switch(s){case"name":d=q;break;case"type":S=q;break;case"checked":C=q;break;case"defaultChecked":w=q;break;case"value":m=q;break;case"defaultValue":_=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,t));break;default:ke(e,t,s,q,l,null)}}Ce(e,m,_,C,w,S,d,!1);return;case"select":_e("invalid",e),s=S=m=null;for(d in l)if(l.hasOwnProperty(d)&&(_=l[d],_!=null))switch(d){case"value":m=_;break;case"defaultValue":S=_;break;case"multiple":s=_;default:ke(e,t,d,_,l,null)}t=m,l=S,e.multiple=!!s,t!=null?lt(e,!!s,t,!1):l!=null&&lt(e,!!s,l,!0);return;case"textarea":_e("invalid",e),m=d=s=null;for(S in l)if(l.hasOwnProperty(S)&&(_=l[S],_!=null))switch(S){case"value":s=_;break;case"defaultValue":d=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:ke(e,t,S,_,l,null)}ft(e,s,d,m);return;case"option":for(C in l)if(l.hasOwnProperty(C)&&(s=l[C],s!=null))switch(C){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ke(e,t,C,s,l,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(s=0;s<kl.length;s++)_e(kl[s],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in l)if(l.hasOwnProperty(w)&&(s=l[w],s!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ke(e,t,w,s,l,null)}return;default:if(sl(t)){for(q in l)l.hasOwnProperty(q)&&(s=l[q],s!==void 0&&Uu(e,t,q,s,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(s=l[_],s!=null&&ke(e,t,_,s,l,null))}function Cv(e,t,l,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,S=null,_=null,C=null,w=null,q=null;for(L in l){var k=l[L];if(l.hasOwnProperty(L)&&k!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":C=k;default:s.hasOwnProperty(L)||ke(e,t,L,null,s,k)}}for(var D in s){var L=s[D];if(k=l[D],s.hasOwnProperty(D)&&(L!=null||k!=null))switch(D){case"type":m=L;break;case"name":d=L;break;case"checked":w=L;break;case"defaultChecked":q=L;break;case"value":S=L;break;case"defaultValue":_=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,t));break;default:L!==k&&ke(e,t,D,L,s,k)}}Fe(e,S,_,C,w,q,m,d);return;case"select":L=S=_=D=null;for(m in l)if(C=l[m],l.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":L=C;default:s.hasOwnProperty(m)||ke(e,t,m,null,s,C)}for(d in s)if(m=s[d],C=l[d],s.hasOwnProperty(d)&&(m!=null||C!=null))switch(d){case"value":D=m;break;case"defaultValue":_=m;break;case"multiple":S=m;default:m!==C&&ke(e,t,d,m,s,C)}t=_,l=S,s=L,D!=null?lt(e,!!l,D,!1):!!s!=!!l&&(t!=null?lt(e,!!l,t,!0):lt(e,!!l,l?[]:"",!1));return;case"textarea":L=D=null;for(_ in l)if(d=l[_],l.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:ke(e,t,_,null,s,d)}for(S in s)if(d=s[S],m=l[S],s.hasOwnProperty(S)&&(d!=null||m!=null))switch(S){case"value":D=d;break;case"defaultValue":L=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&ke(e,t,S,d,s,m)}ct(e,D,L);return;case"option":for(var ie in l)if(D=l[ie],l.hasOwnProperty(ie)&&D!=null&&!s.hasOwnProperty(ie))switch(ie){case"selected":e.selected=!1;break;default:ke(e,t,ie,null,s,D)}for(C in s)if(D=s[C],L=l[C],s.hasOwnProperty(C)&&D!==L&&(D!=null||L!=null))switch(C){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:ke(e,t,C,D,s,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in l)D=l[ue],l.hasOwnProperty(ue)&&D!=null&&!s.hasOwnProperty(ue)&&ke(e,t,ue,null,s,D);for(w in s)if(D=s[w],L=l[w],s.hasOwnProperty(w)&&D!==L&&(D!=null||L!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(137,t));break;default:ke(e,t,w,D,s,L)}return;default:if(sl(t)){for(var ze in l)D=l[ze],l.hasOwnProperty(ze)&&D!==void 0&&!s.hasOwnProperty(ze)&&Uu(e,t,ze,void 0,s,D);for(q in s)D=s[q],L=l[q],!s.hasOwnProperty(q)||D===L||D===void 0&&L===void 0||Uu(e,t,q,D,s,L);return}}for(var N in l)D=l[N],l.hasOwnProperty(N)&&D!=null&&!s.hasOwnProperty(N)&&ke(e,t,N,null,s,D);for(k in s)D=s[k],L=l[k],!s.hasOwnProperty(k)||D===L||D==null&&L==null||ke(e,t,k,D,s,L)}function Up(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Av(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var d=l[s],m=d.transferSize,S=d.initiatorType,_=d.duration;if(m&&_&&Up(S)){for(S=0,_=d.responseEnd,s+=1;s<l.length;s++){var C=l[s],w=C.startTime;if(w>_)break;var q=C.transferSize,k=C.initiatorType;q&&Up(k)&&(C=C.responseEnd,S+=q*(C<_?1:(_-w)/(C-w)))}if(--s,t+=8*(m+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Lu=null,Gu=null;function ds(e){return e.nodeType===9?e:e.ownerDocument}function Lp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hu=null;function Rv(){var e=window.event;return e&&e.type==="popstate"?e===Hu?!1:(Hu=e,!0):(Hu=null,!1)}var Vp=typeof setTimeout=="function"?setTimeout:void 0,Mv=typeof clearTimeout=="function"?clearTimeout:void 0,Hp=typeof Promise=="function"?Promise:void 0,bv=typeof queueMicrotask=="function"?queueMicrotask:typeof Hp<"u"?function(e){return Hp.resolve(null).then(e).catch(Nv)}:Vp;function Nv(e){setTimeout(function(){throw e})}function Ai(e){return e==="head"}function qp(e,t){var l=t,s=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(d),Oo(t);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")Bl(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Bl(l);for(var m=l.firstChild;m;){var S=m.nextSibling,_=m.nodeName;m[Cn]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=S}}else l==="body"&&Bl(e.ownerDocument.body);l=d}while(l);Oo(t)}function Pp(e,t){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function qu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":qu(l),ol(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Iv(e,t,l,s){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Cn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=un(e.nextSibling),e===null)break}return null}function xv(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=un(e.nextSibling),e===null))return null;return e}function Op(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=un(e.nextSibling),e===null))return null;return e}function Pu(e){return e.data==="$?"||e.data==="$~"}function Ou(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function wv(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var s=function(){t(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ku=null;function kp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return un(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function zp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Bp(e,t,l){switch(t=ds(l),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Bl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ol(e)}var cn=new Map,Fp=new Set;function ps(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qn=Z.d;Z.d={f:Dv,r:Uv,D:Lv,C:Gv,L:Vv,m:Hv,X:Pv,S:qv,M:Ov};function Dv(){var e=Qn.f(),t=os();return e||t}function Uv(e){var t=Un(e);t!==null&&t.tag===5&&t.type==="form"?sd(t):Qn.r(e)}var Ho=typeof document>"u"?null:document;function Jp(e,t,l){var s=Ho;if(s&&typeof t=="string"&&t){var d=Ye(t);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),Fp.has(d)||(Fp.add(d),e={rel:e,crossOrigin:l,href:t},s.querySelector(d)===null&&(t=s.createElement("link"),bt(t,"link",e),je(t),s.head.appendChild(t)))}}function Lv(e){Qn.D(e),Jp("dns-prefetch",e,null)}function Gv(e,t){Qn.C(e,t),Jp("preconnect",e,t)}function Vv(e,t,l){Qn.L(e,t,l);var s=Ho;if(s&&e&&t){var d='link[rel="preload"][as="'+Ye(t)+'"]';t==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+Ye(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+Ye(l.imageSizes)+'"]')):d+='[href="'+Ye(e)+'"]';var m=d;switch(t){case"style":m=qo(e);break;case"script":m=Po(e)}cn.has(m)||(e=T({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),cn.set(m,e),s.querySelector(d)!==null||t==="style"&&s.querySelector(Fl(m))||t==="script"&&s.querySelector(Jl(m))||(t=s.createElement("link"),bt(t,"link",e),je(t),s.head.appendChild(t)))}}function Hv(e,t){Qn.m(e,t);var l=Ho;if(l&&e){var s=t&&typeof t.as=="string"?t.as:"script",d='link[rel="modulepreload"][as="'+Ye(s)+'"][href="'+Ye(e)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Po(e)}if(!cn.has(m)&&(e=T({rel:"modulepreload",href:e},t),cn.set(m,e),l.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Jl(m)))return}s=l.createElement("link"),bt(s,"link",e),je(s),l.head.appendChild(s)}}}function qv(e,t,l){Qn.S(e,t,l);var s=Ho;if(s&&e){var d=An(s).hoistableStyles,m=qo(e);t=t||"default";var S=d.get(m);if(!S){var _={loading:0,preload:null};if(S=s.querySelector(Fl(m)))_.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},l),(l=cn.get(m))&&zu(e,l);var C=S=s.createElement("link");je(C),bt(C,"link",e),C._p=new Promise(function(w,q){C.onload=w,C.onerror=q}),C.addEventListener("load",function(){_.loading|=1}),C.addEventListener("error",function(){_.loading|=2}),_.loading|=4,ms(S,t,s)}S={type:"stylesheet",instance:S,count:1,state:_},d.set(m,S)}}}function Pv(e,t){Qn.X(e,t);var l=Ho;if(l&&e){var s=An(l).hoistableScripts,d=Po(e),m=s.get(d);m||(m=l.querySelector(Jl(d)),m||(e=T({src:e,async:!0},t),(t=cn.get(d))&&Bu(e,t),m=l.createElement("script"),je(m),bt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Ov(e,t){Qn.M(e,t);var l=Ho;if(l&&e){var s=An(l).hoistableScripts,d=Po(e),m=s.get(d);m||(m=l.querySelector(Jl(d)),m||(e=T({src:e,async:!0,type:"module"},t),(t=cn.get(d))&&Bu(e,t),m=l.createElement("script"),je(m),bt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Yp(e,t,l,s){var d=(d=Se.current)?ps(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=qo(l.href),l=An(d).hoistableStyles,s=l.get(t),s||(s={type:"style",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=qo(l.href);var m=An(d).hoistableStyles,S=m.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,S),(m=d.querySelector(Fl(e)))&&!m._p&&(S.instance=m,S.state.loading=5),cn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},cn.set(e,l),m||kv(d,e,l,S.state))),t&&s===null)throw Error(a(528,""));return S}if(t&&s!==null)throw Error(a(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Po(l),l=An(d).hoistableScripts,s=l.get(t),s||(s={type:"script",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function qo(e){return'href="'+Ye(e)+'"'}function Fl(e){return'link[rel="stylesheet"]['+e+"]"}function Kp(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function kv(e,t,l,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),bt(t,"link",l),je(t),e.head.appendChild(t))}function Po(e){return'[src="'+Ye(e)+'"]'}function Jl(e){return"script[async]"+e}function Xp(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Ye(l.href)+'"]');if(s)return t.instance=s,je(s),s;var d=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),je(s),bt(s,"style",d),ms(s,l.precedence,e),t.instance=s;case"stylesheet":d=qo(l.href);var m=e.querySelector(Fl(d));if(m)return t.state.loading|=4,t.instance=m,je(m),m;s=Kp(l),(d=cn.get(d))&&zu(s,d),m=(e.ownerDocument||e).createElement("link"),je(m);var S=m;return S._p=new Promise(function(_,C){S.onload=_,S.onerror=C}),bt(m,"link",s),t.state.loading|=4,ms(m,l.precedence,e),t.instance=m;case"script":return m=Po(l.src),(d=e.querySelector(Jl(m)))?(t.instance=d,je(d),d):(s=l,(d=cn.get(m))&&(s=T({},l),Bu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),je(d),bt(d,"link",s),e.head.appendChild(d),t.instance=d);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,ms(s,l.precedence,e));return t.instance}function ms(e,t,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,S=0;S<s.length;S++){var _=s[S];if(_.dataset.precedence===t)m=_;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function zu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Bu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var hs=null;function Qp(e,t,l){if(hs===null){var s=new Map,d=hs=new Map;d.set(l,s)}else d=hs,s=d.get(l),s||(s=new Map,d.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var m=l[d];if(!(m[Cn]||m[We]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(t)||"";S=e+S;var _=s.get(S);_?_.push(m):s.set(S,[m])}}return s}function Zp(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function zv(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $p(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Bv(e,t,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=qo(s.href),m=t.querySelector(Fl(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=gs.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=m,je(m);return}m=t.ownerDocument||t,s=Kp(s),(d=cn.get(d))&&zu(s,d),m=m.createElement("link"),je(m);var S=m;S._p=new Promise(function(_,C){S.onload=_,S.onerror=C}),bt(m,"link",s),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=gs.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Fu=0;function Fv(e,t){return e.stylesheets&&e.count===0&&vs(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&vs(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+t);0<e.imgBytes&&Fu===0&&(Fu=62500*Av());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vs(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>Fu?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function gs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ys=null;function vs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ys=new Map,t.forEach(Jv,e),ys=null,gs.call(e))}function Jv(e,t){if(!(t.state.loading&4)){var l=ys.get(e);if(l)var s=l.get(null);else{l=new Map,ys.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var S=d[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),s=S)}s&&l.set(null,s)}d=t.instance,S=d.getAttribute("data-precedence"),m=l.get(S)||s,m===s&&l.set(null,d),l.set(S,d),this.count++,s=gs.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),t.state.loading|=4}}var Yl={$$typeof:J,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Yv(e,t,l,s,d,m,S,_,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wo(0),this.hiddenUpdates=Wo(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Wp(e,t,l,s,d,m,S,_,C,w,q,k){return e=new Yv(e,t,l,S,C,w,q,k,_),t=1,m===!0&&(t|=24),m=Kt(3,null,null,t),e.current=m,m.stateNode=e,t=Cr(),t.refCount++,e.pooledCache=t,t.refCount++,m.memoizedState={element:s,isDehydrated:l,cache:t},br(m),e}function jp(e){return e?(e=go,e):go}function em(e,t,l,s,d,m){d=jp(d),s.context===null?s.context=d:s.pendingContext=d,s=pi(t),s.payload={element:l},m=m===void 0?null:m,m!==null&&(s.callback=m),l=mi(e,s,t),l!==null&&(zt(l,e,t),Al(l,e,t))}function tm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Ju(e,t){tm(e,t),(e=e.alternate)&&tm(e,t)}function nm(e){if(e.tag===13||e.tag===31){var t=Ji(e,67108864);t!==null&&zt(t,e,67108864),Ju(e,67108864)}}function im(e){if(e.tag===13||e.tag===31){var t=Wt();t=jo(t);var l=Ji(e,t);l!==null&&zt(l,e,t),Ju(e,t)}}var Ss=!0;function Kv(e,t,l,s){var d=H.T;H.T=null;var m=Z.p;try{Z.p=2,Yu(e,t,l,s)}finally{Z.p=m,H.T=d}}function Xv(e,t,l,s){var d=H.T;H.T=null;var m=Z.p;try{Z.p=8,Yu(e,t,l,s)}finally{Z.p=m,H.T=d}}function Yu(e,t,l,s){if(Ss){var d=Ku(s);if(d===null)Du(e,t,s,Ts,l),lm(e,s);else if(Zv(d,e,t,l,s))s.stopPropagation();else if(lm(e,s),t&4&&-1<Qv.indexOf(e)){for(;d!==null;){var m=Un(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=Ft(m.pendingLanes);if(S!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var C=1<<31-Qe(S);_.entanglements[1]|=C,S&=~C}Nn(m),(Ve&6)===0&&(ns=Nt()+500,Ol(0))}}break;case 31:case 13:_=Ji(m,2),_!==null&&zt(_,m,2),os(),Ju(m,2)}if(m=Ku(s),m===null&&Du(e,t,s,Ts,l),m===d)break;d=m}d!==null&&s.stopPropagation()}else Du(e,t,s,null,l)}}function Ku(e){return e=Qs(e),Xu(e)}var Ts=null;function Xu(e){if(Ts=null,e=hn(e),e!==null){var t=f(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=p(t),e!==null)return e;e=null}else if(l===31){if(e=g(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ts=e,null}function om(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_t()){case Gi:return 2;case ro:return 8;case ei:case la:return 32;case $o:return 268435456;default:return 32}default:return 32}}var Qu=!1,Ri=null,Mi=null,bi=null,Kl=new Map,Xl=new Map,Ni=[],Qv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lm(e,t){switch(e){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":Kl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(t.pointerId)}}function Ql(e,t,l,s,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:t,domEventName:l,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},t!==null&&(t=Un(t),t!==null&&nm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function Zv(e,t,l,s,d){switch(t){case"focusin":return Ri=Ql(Ri,e,t,l,s,d),!0;case"dragenter":return Mi=Ql(Mi,e,t,l,s,d),!0;case"mouseover":return bi=Ql(bi,e,t,l,s,d),!0;case"pointerover":var m=d.pointerId;return Kl.set(m,Ql(Kl.get(m)||null,e,t,l,s,d)),!0;case"gotpointercapture":return m=d.pointerId,Xl.set(m,Ql(Xl.get(m)||null,e,t,l,s,d)),!0}return!1}function am(e){var t=hn(e.target);if(t!==null){var l=f(t);if(l!==null){if(t=l.tag,t===13){if(t=p(l),t!==null){e.blockedOn=t,ca(e.priority,function(){im(l)});return}}else if(t===31){if(t=g(l),t!==null){e.blockedOn=t,ca(e.priority,function(){im(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Es(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Ku(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);rl=s,l.target.dispatchEvent(s),rl=null}else return t=Un(l),t!==null&&nm(t),e.blockedOn=l,!1;t.shift()}return!0}function sm(e,t,l){Es(e)&&l.delete(t)}function $v(){Qu=!1,Ri!==null&&Es(Ri)&&(Ri=null),Mi!==null&&Es(Mi)&&(Mi=null),bi!==null&&Es(bi)&&(bi=null),Kl.forEach(sm),Xl.forEach(sm)}function _s(e,t){e.blockedOn===t&&(e.blockedOn=null,Qu||(Qu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$v)))}var Cs=null;function rm(e){Cs!==e&&(Cs=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Cs===e&&(Cs=null);for(var t=0;t<e.length;t+=3){var l=e[t],s=e[t+1],d=e[t+2];if(typeof s!="function"){if(Xu(s||l)===null)continue;break}var m=Un(l);m!==null&&(e.splice(t,3),t-=3,Kr(m,{pending:!0,data:d,method:l.method,action:s},s,d))}}))}function Oo(e){function t(C){return _s(C,e)}Ri!==null&&_s(Ri,e),Mi!==null&&_s(Mi,e),bi!==null&&_s(bi,e),Kl.forEach(t),Xl.forEach(t);for(var l=0;l<Ni.length;l++){var s=Ni[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ni.length&&(l=Ni[0],l.blockedOn===null);)am(l),l.blockedOn===null&&Ni.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var d=l[s],m=l[s+1],S=d[ot]||null;if(typeof m=="function")S||rm(l);else if(S){var _=null;if(m&&m.hasAttribute("formAction")){if(d=m,S=m[ot]||null)_=S.formAction;else if(Xu(d)!==null)continue}else _=S.action;typeof _=="function"?l[s+1]=_:(l.splice(s,3),s-=3),rm(l)}}}function um(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function t(){d!==null&&(d(),d=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),d!==null&&(d(),d=null)}}}function Zu(e){this._internalRoot=e}As.prototype.render=Zu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var l=t.current,s=Wt();em(l,s,e,t,null,null)},As.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;em(e.current,2,null,e,null,null),os(),t[Dn]=null}};function As(e){this._internalRoot=e}As.prototype.unstable_scheduleHydration=function(e){if(e){var t=tl();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Ni.length&&t!==0&&t<Ni[l].priority;l++);Ni.splice(l,0,e),l===0&&am(e)}};var cm=n.version;if(cm!=="19.2.4")throw Error(a(527,cm,"19.2.4"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Wv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rs.isDisabled&&Rs.supportsFiber)try{ti=Rs.inject(Wv),Ct=Rs}catch{}}return $l.createRoot=function(e,t){if(!r(e))throw Error(a(299));var l=!1,s="",d=yd,m=vd,S=Sd;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(d=t.onUncaughtError),t.onCaughtError!==void 0&&(m=t.onCaughtError),t.onRecoverableError!==void 0&&(S=t.onRecoverableError)),t=Wp(e,1,!1,null,null,l,s,null,d,m,S,um),e[Dn]=t.current,wu(e),new Zu(t)},$l.hydrateRoot=function(e,t,l){if(!r(e))throw Error(a(299));var s=!1,d="",m=yd,S=vd,_=Sd,C=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(C=l.formState)),t=Wp(e,1,!0,t,l??null,s,d,C,m,S,_,um),t.context=jp(null),l=t.current,s=Wt(),s=jo(s),d=pi(s),d.callback=null,mi(l,d,s),l=s,t.current.lanes=l,qi(t,l),Nn(t),e[Dn]=t.current,wu(e),new As(t)},$l.version="19.2.4",$l}var Tm;function u0(){if(Tm)return ju.exports;Tm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),ju.exports=r0(),ju.exports}var c0=u0();const f0=ng(c0);var d0={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let p0,m0;function h0(){return{geminiUrl:p0,vertexUrl:m0}}function g0(i,n,o,a){var r,f;if(!(i!=null&&i.baseUrl)){const p=h0();return n?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $n{}function j(i,n){const o=/\{([^}]+)\}/g;return i.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(n,r)){const f=n[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,n,o){for(let f=0;f<n.length-1;f++){const p=n[f];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];c(v,n.slice(f+1),o[h])}else for(const h of y)c(h,n.slice(f+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],n.slice(f+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=n[n.length-1],r=i[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function u(i,n,o=void 0){try{if(n.length===1&&n[0]==="_self")return i;for(let a=0;a<n.length;a++){if(typeof i!="object"||i===null)return o;const r=n[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(g=>u(g,n.slice(a+1),o)):o}else return o}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function y0(i,n){for(const[o,a]of Object.entries(n)){const r=o.split("."),f=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const h=f[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}ac(i,r,f,0,p)}}function ac(i,n,o,a,r){if(a>=n.length||typeof i!="object"||i===null)return;const f=n[a];if(f.endsWith("[]")){const p=f.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])ac(y,n,o,a+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,v]of Object.entries(y)){const T=[];for(const E of o.slice(a))E==="*"?T.push(h):T.push(E);c(p,T,v)}for(const h of g)delete p[h]}}else{const p=i;f in p&&ac(p[f],n,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _c(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v0(i){const n={},o=u(i,["operationName"]);o!=null&&c(n,["operationName"],o);const a=u(i,["resourceName"]);return a!=null&&c(n,["_url","resourceName"],a),n}function S0(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const a=u(i,["metadata"]);a!=null&&c(n,["metadata"],a);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(n,["response"],E0(p)),n}function T0(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const a=u(i,["metadata"]);a!=null&&c(n,["metadata"],a);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const p=u(i,["response"]);return p!=null&&c(n,["response"],_0(p)),n}function E0(i){const n={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>C0(p))),c(n,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(n,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function _0(i){const n={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>A0(p))),c(n,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(n,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function C0(i){const n={},o=u(i,["video"]);return o!=null&&c(n,["video"],x0(o)),n}function A0(i){const n={},o=u(i,["_self"]);return o!=null&&c(n,["video"],w0(o)),n}function R0(i){const n={},o=u(i,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function M0(i){const n={},o=u(i,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function b0(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const a=u(i,["metadata"]);a!=null&&c(n,["metadata"],a);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const p=u(i,["response"]);return p!=null&&c(n,["response"],N0(p)),n}function N0(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(n,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(n,["documentName"],r),n}function ig(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const a=u(i,["metadata"]);a!=null&&c(n,["metadata"],a);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const p=u(i,["response"]);return p!=null&&c(n,["response"],I0(p)),n}function I0(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(n,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(n,["documentName"],r),n}function x0(i){const n={},o=u(i,["uri"]);o!=null&&c(n,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(n,["videoBytes"],_c(a));const r=u(i,["encoding"]);return r!=null&&c(n,["mimeType"],r),n}function w0(i){const n={},o=u(i,["gcsUri"]);o!=null&&c(n,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(n,["videoBytes"],_c(a));const r=u(i,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Em;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Em||(Em={}));var _m;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(_m||(_m={}));var Cm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Cm||(Cm={}));var xi;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(xi||(xi={}));var Am;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Am||(Am={}));var Rm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Rm||(Rm={}));var Mm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Mm||(Mm={}));var bm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(bm||(bm={}));var Nm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Nm||(Nm={}));var Im;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Im||(Im={}));var xm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(xm||(xm={}));var wm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(wm||(wm={}));var Dm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Dm||(Dm={}));var Um;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Um||(Um={}));var Lm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Lm||(Lm={}));var Gm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Gm||(Gm={}));var Vm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Vm||(Vm={}));var Hm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Hm||(Hm={}));var qm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(qm||(qm={}));var Pm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Pm||(Pm={}));var Om;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Om||(Om={}));var Us;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Us||(Us={}));var km;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(km||(km={}));var zm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(zm||(zm={}));var Bm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Bm||(Bm={}));var sc;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(sc||(sc={}));var Fm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Fm||(Fm={}));var Jm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Jm||(Jm={}));var rc;(function(i){i.COLLECTION="COLLECTION"})(rc||(rc={}));var Ym;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Ym||(Ym={}));var Km;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Km||(Km={}));var Xm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Xm||(Xm={}));var Qm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Qm||(Qm={}));var Zm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Zm||(Zm={}));var $m;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})($m||($m={}));var Wm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Wm||(Wm={}));var jm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(jm||(jm={}));var eh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(eh||(eh={}));var th;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(th||(th={}));var nh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(nh||(nh={}));var ih;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(ih||(ih={}));var oh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(oh||(oh={}));var lh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING",i.DISTILLATION="DISTILLATION"})(lh||(lh={}));var ah;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(ah||(ah={}));var sh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(sh||(sh={}));var rh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(rh||(rh={}));var uh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(uh||(uh={}));var ch;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(ch||(ch={}));var fh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(fh||(fh={}));var dh;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(dh||(dh={}));var ph;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ph||(ph={}));var mh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(mh||(mh={}));var hh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(hh||(hh={}));var gh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(gh||(gh={}));var yh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(yh||(yh={}));var vh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(vh||(vh={}));var zo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(zo||(zo={}));class uc{constructor(n){const o={};for(const a of n.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=n}json(){return this.responseInternal.json()}}class Wl{get text(){var n,o,a,r,f,p,g,y;if(((r=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const T=[];for(const E of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[A,I]of Object.entries(E))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(I!==null||I!==void 0)&&T.push(A);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,h+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var n,o,a,r,f,p,g,y;if(((r=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const T of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,A]of Object.entries(T))E!=="inlineData"&&(A!==null||A!==void 0)&&v.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var n,o,a,r,f,p,g,y;if(((r=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var n,o,a,r,f,p,g,y,h;if(((r=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var n,o,a,r,f,p,g,y,h;if(((r=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class Sh{}class Th{}class D0{}class U0{}class L0{}class G0{}class Eh{}class _h{}class Ch{}class V0{}class Ls{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const a=new Ls;let r;const f=n;return o?r=T0(f):r=S0(f),Object.assign(a,r),a}}class Ah{}class Rh{}class Mh{}class bh{}class H0{}class q0{}class P0{}class Cc{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const a=new Cc,f=b0(n);return Object.assign(a,f),a}}class O0{}class k0{}class z0{}class B0{}class Nh{}class F0{get text(){var n,o,a;let r="",f=!1;const p=[];for(const g of(a=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var n,o,a;let r="";const f=[];for(const p of(a=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class J0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ac{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const a=new Ac,f=ig(n);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ge(i,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(n.includes("..")||n.includes("?")||n.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const o=n.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function og(i,n){const o=Ge(i,n);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function lg(i){return Array.isArray(i)?i.map(n=>Gs(n)):[Gs(i)]}function Gs(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function ag(i){const n=Gs(i);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function sg(i){const n=Gs(i);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Ih(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function rg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(n=>Ih(n)):[Ih(i)]}function cc(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function xh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function wh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Dt(i){if(i==null)throw new Error("ContentUnion is required");return cc(i)?i:{role:"user",parts:rg(i)}}function Rc(i,n){if(!n)return[];if(i.isVertexAI()&&Array.isArray(n))return n.flatMap(o=>{const a=Dt(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=Dt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(n)?n.map(o=>Dt(o)):[Dt(n)]}function dn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(xh(i)||wh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Dt(i)]}const n=[],o=[],a=cc(i[0]);for(const r of i){const f=cc(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)n.push(r);else{if(xh(r)||wh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||n.push({role:"user",parts:rg(o)}),n}function Y0(i,n){i.includes("null")&&(n.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)n.type=Object.values(xi).includes(o[0].toUpperCase())?o[0].toUpperCase():xi.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const a of o)n.anyOf.push({type:Object.values(xi).includes(a.toUpperCase())?a.toUpperCase():xi.TYPE_UNSPECIFIED})}}function Fo(i){const n={},o=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(n.nullable=!0,i=f[1]):f[1].type==="null"&&(n.nullable=!0,i=f[0])),i.type instanceof Array&&Y0(i.type,n);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;n.type=Object.values(xi).includes(g.toUpperCase())?g.toUpperCase():xi.TYPE_UNSPECIFIED}else if(o.includes(p))n[p]=Fo(g);else if(a.includes(p)){const y=[];for(const h of g){if(h.type=="null"){n.nullable=!0;continue}y.push(Fo(h))}n[p]=y}else if(r.includes(p)){const y={};for(const[h,v]of Object.entries(g))y[h]=Fo(v);n[p]=y}else{if(p==="additionalProperties")continue;n[p]=g}return n}function Mc(i){return Fo(i)}function bc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Nc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Ko(i){if(i.functionDeclarations)for(const n of i.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=Fo(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=Fo(n.response));return i}function Xo(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const n=[];for(const o of i)n.push(o);return n}function K0(i,n,o,a=1){const r=!n.startsWith(`${o}/`)&&n.split("/").length===a;return i.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${i.getProject()}/${n}`:n.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${n}`:n:r?`${o}/${n}`:n}function Wn(i,n){if(typeof n!="string")throw new Error("name must be a string");return K0(i,n,"cachedContents")}function ug(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function wi(i){return _c(i)}function X0(i){return i!=null&&typeof i=="object"&&"name"in i}function Q0(i){return i!=null&&typeof i=="object"&&"video"in i}function Z0(i){return i!=null&&typeof i=="object"&&"uri"in i}function cg(i){var n;let o;if(X0(i)&&(o=i.name),!(Z0(i)&&(o=i.uri,o===void 0))&&!(Q0(i)&&(o=(n=i.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function fg(i,n){let o;return i.isVertexAI()?o=n?"publishers/google/models":"models":o=n?"models":"tunedModels",o}function dg(i){for(const n of["models","tunedModels","publisherModels"])if($0(i,n))return i[n];return[]}function $0(i,n){return i!==null&&typeof i=="object"&&n in i}function W0(i,n={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),n.behavior&&(a.behavior=n.behavior),{functionDeclarations:[a]}}function j0(i,n={}){const o=[],a=new Set;for(const r of i){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=W0(r,n);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function pg(i,n){let o;if(typeof n=="string")if(i.isVertexAI())if(n.startsWith("gs://"))o={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))o={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))o={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:n}}else o=n;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function eS(i){if(typeof i!="string")return i;const n=i;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function mg(i){if(typeof i!="object"||i===null)return{};const n=i,o=n.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),i}function Qo(i,n){const o=n;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function hg(i){const n=i;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tS(i){const n={},o=u(i,["responsesFile"]);o!=null&&c(n,["fileName"],o);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>GS(p))),c(n,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(n,["inlinedEmbedContentResponses"],f)}return n}function nS(i){const n={},o=u(i,["predictionsFormat"]);o!=null&&c(n,["format"],o);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(n,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(n,["bigqueryUri"],r),n}function iS(i){const n={},o=u(i,["format"]);o!=null&&c(n,["predictionsFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(n,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(n,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function ws(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const a=u(i,["metadata","displayName"]);a!=null&&c(n,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(n,["state"],hg(r));const f=u(i,["metadata","createTime"]);f!=null&&c(n,["createTime"],f);const p=u(i,["metadata","endTime"]);p!=null&&c(n,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(n,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(n,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&c(n,["dest"],tS(mg(h))),n}function fc(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const a=u(i,["displayName"]);a!=null&&c(n,["displayName"],a);const r=u(i,["state"]);r!=null&&c(n,["state"],hg(r));const f=u(i,["error"]);f!=null&&c(n,["error"],f);const p=u(i,["createTime"]);p!=null&&c(n,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(n,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(n,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(n,["updateTime"],h);const v=u(i,["model"]);v!=null&&c(n,["model"],v);const T=u(i,["inputConfig"]);T!=null&&c(n,["src"],oS(T));const E=u(i,["outputConfig"]);E!=null&&c(n,["dest"],nS(mg(E)));const A=u(i,["completionStats"]);return A!=null&&c(n,["completionStats"],A),n}function oS(i){const n={},o=u(i,["instancesFormat"]);o!=null&&c(n,["format"],o);const a=u(i,["gcsSource","uris"]);a!=null&&c(n,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(n,["bigqueryUri"],r),n}function lS(i,n){const o={};if(u(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(n,["fileName"]);a!=null&&c(o,["fileName"],a);const r=u(n,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>LS(i,p))),c(o,["requests","requests"],f)}return o}function aS(i){const n={},o=u(i,["format"]);o!=null&&c(n,["instancesFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(n,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(n,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function sS(i){const n={},o=u(i,["data"]);if(o!=null&&c(n,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function rS(i,n){const o={},a=u(n,["name"]);return a!=null&&c(o,["_url","name"],Qo(i,a)),o}function uS(i,n){const o={},a=u(n,["name"]);return a!=null&&c(o,["_url","name"],Qo(i,a)),o}function cS(i){const n={},o=u(i,["content"]);o!=null&&c(n,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(n,["citationMetadata"],fS(a));const r=u(i,["tokenCount"]);r!=null&&c(n,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(n,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(n,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(n,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(n,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(n,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),c(n,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(n,["urlContextMetadata"],T),n}function fS(i){const n={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(n,["citations"],a)}return n}function gg(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>zS(f))),c(n,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(n,["role"],a),n}function dS(i,n){const o={},a=u(i,["displayName"]);if(n!==void 0&&a!=null&&c(n,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function pS(i,n){const o={},a=u(i,["displayName"]);n!==void 0&&a!=null&&c(n,["displayName"],a);const r=u(i,["dest"]);return n!==void 0&&r!=null&&c(n,["outputConfig"],iS(eS(r))),o}function Dh(i,n){const o={},a=u(n,["model"]);a!=null&&c(o,["_url","model"],Ge(i,a));const r=u(n,["src"]);r!=null&&c(o,["batch","inputConfig"],lS(i,pg(i,r)));const f=u(n,["config"]);return f!=null&&dS(f,o),o}function mS(i,n){const o={},a=u(n,["model"]);a!=null&&c(o,["model"],Ge(i,a));const r=u(n,["src"]);r!=null&&c(o,["inputConfig"],aS(pg(i,r)));const f=u(n,["config"]);return f!=null&&pS(f,o),o}function hS(i,n){const o={},a=u(i,["displayName"]);return n!==void 0&&a!=null&&c(n,["batch","displayName"],a),o}function gS(i,n){const o={},a=u(n,["model"]);a!=null&&c(o,["_url","model"],Ge(i,a));const r=u(n,["src"]);r!=null&&c(o,["batch","inputConfig"],CS(i,r));const f=u(n,["config"]);return f!=null&&hS(f,o),o}function yS(i,n){const o={},a=u(n,["name"]);return a!=null&&c(o,["_url","name"],Qo(i,a)),o}function vS(i,n){const o={},a=u(n,["name"]);return a!=null&&c(o,["_url","name"],Qo(i,a)),o}function SS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(n,["name"],a);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);return f!=null&&c(n,["error"],f),n}function TS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(n,["name"],a);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);return f!=null&&c(n,["error"],f),n}function ES(i,n){const o={},a=u(n,["contents"]);if(a!=null){let f=Rc(i,a);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["requests[]","request","content"],f)}const r=u(n,["config"]);return r!=null&&(c(o,["_self"],_S(r,o)),y0(o,{"requests[].*":"requests[].request.*"})),o}function _S(i,n){const o={},a=u(i,["taskType"]);n!==void 0&&a!=null&&c(n,["requests[]","taskType"],a);const r=u(i,["title"]);n!==void 0&&r!=null&&c(n,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(n!==void 0&&f!=null&&c(n,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function CS(i,n){const o={},a=u(n,["fileName"]);a!=null&&c(o,["file_name"],a);const r=u(n,["inlinedRequests"]);return r!=null&&c(o,["requests"],ES(i,r)),o}function AS(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function RS(i){const n={},o=u(i,["id"]);o!=null&&c(n,["id"],o);const a=u(i,["args"]);a!=null&&c(n,["args"],a);const r=u(i,["name"]);if(r!=null&&c(n,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function MS(i){const n={},o=u(i,["allowedFunctionNames"]);o!=null&&c(n,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&c(n,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function bS(i,n,o){const a={},r=u(n,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],gg(Dt(r)));const f=u(n,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(n,["topP"]);p!=null&&c(a,["topP"],p);const g=u(n,["topK"]);g!=null&&c(a,["topK"],g);const y=u(n,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(n,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(n,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(n,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(n,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(n,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const I=u(n,["frequencyPenalty"]);I!=null&&c(a,["frequencyPenalty"],I);const V=u(n,["seed"]);V!=null&&c(a,["seed"],V);const U=u(n,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const B=u(n,["responseSchema"]);B!=null&&c(a,["responseSchema"],Mc(B));const $=u(n,["responseJsonSchema"]);if($!=null&&c(a,["responseJsonSchema"],$),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=u(n,["safetySettings"]);if(o!==void 0&&J!=null){let Je=J;Array.isArray(Je)&&(Je=Je.map(xe=>BS(xe))),c(o,["safetySettings"],Je)}const X=u(n,["tools"]);if(o!==void 0&&X!=null){let Je=Xo(X);Array.isArray(Je)&&(Je=Je.map(xe=>JS(Ko(xe)))),c(o,["tools"],Je)}const z=u(n,["toolConfig"]);if(o!==void 0&&z!=null&&c(o,["toolConfig"],FS(z)),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ae=u(n,["cachedContent"]);o!==void 0&&ae!=null&&c(o,["cachedContent"],Wn(i,ae));const Q=u(n,["responseModalities"]);Q!=null&&c(a,["responseModalities"],Q);const te=u(n,["mediaResolution"]);te!=null&&c(a,["mediaResolution"],te);const oe=u(n,["speechConfig"]);if(oe!=null&&c(a,["speechConfig"],bc(oe)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const pe=u(n,["thinkingConfig"]);pe!=null&&c(a,["thinkingConfig"],pe);const Ne=u(n,["imageConfig"]);Ne!=null&&c(a,["imageConfig"],US(Ne));const Ie=u(n,["enableEnhancedCivicAnswers"]);if(Ie!=null&&c(a,["enableEnhancedCivicAnswers"],Ie),u(n,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function NS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>cS(h))),c(n,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(n,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(n,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(n,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(n,["usageMetadata"],g),n}function IS(i,n){const o={},a=u(n,["name"]);return a!=null&&c(o,["_url","name"],Qo(i,a)),o}function xS(i,n){const o={},a=u(n,["name"]);return a!=null&&c(o,["_url","name"],Qo(i,a)),o}function wS(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function DS(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function US(i){const n={},o=u(i,["aspectRatio"]);o!=null&&c(n,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(n,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function LS(i,n){const o={},a=u(n,["model"]);a!=null&&c(o,["request","model"],Ge(i,a));const r=u(n,["contents"]);if(r!=null){let g=dn(r);Array.isArray(g)&&(g=g.map(y=>gg(y))),c(o,["request","contents"],g)}const f=u(n,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(n,["config"]);return p!=null&&c(o,["request","generationConfig"],bS(i,p,u(o,["request"],{}))),o}function GS(i){const n={},o=u(i,["response"]);o!=null&&c(n,["response"],NS(o));const a=u(i,["metadata"]);a!=null&&c(n,["metadata"],a);const r=u(i,["error"]);return r!=null&&c(n,["error"],r),n}function VS(i,n){const o={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function HS(i,n){const o={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const r=u(i,["pageToken"]);n!==void 0&&r!=null&&c(n,["_query","pageToken"],r);const f=u(i,["filter"]);return n!==void 0&&f!=null&&c(n,["_query","filter"],f),o}function qS(i){const n={},o=u(i,["config"]);return o!=null&&VS(o,n),n}function PS(i){const n={},o=u(i,["config"]);return o!=null&&HS(o,n),n}function OS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>ws(p))),c(n,["batchJobs"],f)}return n}function kS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>fc(p))),c(n,["batchJobs"],f)}return n}function zS(i){const n={},o=u(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(n,["fileData"],AS(f));const p=u(i,["functionCall"]);p!=null&&c(n,["functionCall"],RS(p));const g=u(i,["functionResponse"]);g!=null&&c(n,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(n,["inlineData"],sS(y));const h=u(i,["text"]);h!=null&&c(n,["text"],h);const v=u(i,["thought"]);v!=null&&c(n,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function BS(i){const n={},o=u(i,["category"]);if(o!=null&&c(n,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(n,["threshold"],a),n}function FS(i){const n={},o=u(i,["retrievalConfig"]);o!=null&&c(n,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&c(n,["functionCallingConfig"],MS(a)),n}function JS(i){const n={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(n,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(n,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(n,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(n,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(n,["googleMaps"],wS(p));const g=u(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],DS(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(n,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Zn||(Zn={}));class lo{constructor(n,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(n,a,r)}init(n,o,a){var r,f;this.nameInternal=n,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YS extends $n{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new lo(Zn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(n){const o=Dh(this.apiClient,n),a=o._url,r=j("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const T=Object.assign({},v);if(T.systemInstruction){const E=T.systemInstruction;delete T.systemInstruction;const A=T.request;A.systemInstruction=E,T.request=A}h.push(T)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(n),p=this.getBigqueryUri(n);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=mS(this.apiClient,n);return g=j("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>fc(v))}else{const h=Dh(this.apiClient,n);return g=j("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>ws(v))}}async createEmbeddingsInternal(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=gS(this.apiClient,n);return f=j("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>ws(y))}}async get(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=xS(this.apiClient,n);return g=j("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>fc(v))}else{const h=IS(this.apiClient,n);return g=j("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>ws(v))}}async cancel(n){var o,a,r,f;let p="",g={};if(this.apiClient.isVertexAI()){const y=uS(this.apiClient,n);p=j("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=rS(this.apiClient,n);p=j("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=PS(n);return g=j("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=kS(v),E=new Nh;return Object.assign(E,T),E})}else{const h=qS(n);return g=j("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=OS(v),E=new Nh;return Object.assign(E,T),E})}}async delete(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=vS(this.apiClient,n);return g=j("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>TS(v))}else{const h=yS(this.apiClient,n);return g=j("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>SS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KS(i){const n={},o=u(i,["data"]);if(o!=null&&c(n,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function Uh(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>gT(f))),c(n,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(n,["role"],a),n}function XS(i,n){const o={},a=u(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const r=u(i,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const f=u(i,["displayName"]);n!==void 0&&f!=null&&c(n,["displayName"],f);const p=u(i,["contents"]);if(n!==void 0&&p!=null){let v=dn(p);Array.isArray(v)&&(v=v.map(T=>Uh(T))),c(n,["contents"],v)}const g=u(i,["systemInstruction"]);n!==void 0&&g!=null&&c(n,["systemInstruction"],Uh(Dt(g)));const y=u(i,["tools"]);if(n!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>vT(T))),c(n,["tools"],v)}const h=u(i,["toolConfig"]);if(n!==void 0&&h!=null&&c(n,["toolConfig"],yT(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function QS(i,n){const o={},a=u(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const r=u(i,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const f=u(i,["displayName"]);n!==void 0&&f!=null&&c(n,["displayName"],f);const p=u(i,["contents"]);if(n!==void 0&&p!=null){let T=dn(p);Array.isArray(T)&&(T=T.map(E=>E)),c(n,["contents"],T)}const g=u(i,["systemInstruction"]);n!==void 0&&g!=null&&c(n,["systemInstruction"],Dt(g));const y=u(i,["tools"]);if(n!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>ST(E))),c(n,["tools"],T)}const h=u(i,["toolConfig"]);n!==void 0&&h!=null&&c(n,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return n!==void 0&&v!=null&&c(n,["encryption_spec","kmsKeyName"],v),o}function ZS(i,n){const o={},a=u(n,["model"]);a!=null&&c(o,["model"],og(i,a));const r=u(n,["config"]);return r!=null&&XS(r,o),o}function $S(i,n){const o={},a=u(n,["model"]);a!=null&&c(o,["model"],og(i,a));const r=u(n,["config"]);return r!=null&&QS(r,o),o}function WS(i,n){const o={},a=u(n,["name"]);return a!=null&&c(o,["_url","name"],Wn(i,a)),o}function jS(i,n){const o={},a=u(n,["name"]);return a!=null&&c(o,["_url","name"],Wn(i,a)),o}function eT(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function tT(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function nT(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function iT(i){const n={},o=u(i,["id"]);o!=null&&c(n,["id"],o);const a=u(i,["args"]);a!=null&&c(n,["args"],a);const r=u(i,["name"]);if(r!=null&&c(n,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function oT(i){const n={},o=u(i,["allowedFunctionNames"]);o!=null&&c(n,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&c(n,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function lT(i){const n={},o=u(i,["description"]);o!=null&&c(n,["description"],o);const a=u(i,["name"]);a!=null&&c(n,["name"],a);const r=u(i,["parameters"]);r!=null&&c(n,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(n,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(n,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(n,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function aT(i,n){const o={},a=u(n,["name"]);return a!=null&&c(o,["_url","name"],Wn(i,a)),o}function sT(i,n){const o={},a=u(n,["name"]);return a!=null&&c(o,["_url","name"],Wn(i,a)),o}function rT(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function uT(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function cT(i,n){const o={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function fT(i,n){const o={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function dT(i){const n={},o=u(i,["config"]);return o!=null&&cT(o,n),n}function pT(i){const n={},o=u(i,["config"]);return o!=null&&fT(o,n),n}function mT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(n,["cachedContents"],f)}return n}function hT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(n,["cachedContents"],f)}return n}function gT(i){const n={},o=u(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(n,["fileData"],nT(f));const p=u(i,["functionCall"]);p!=null&&c(n,["functionCall"],iT(p));const g=u(i,["functionResponse"]);g!=null&&c(n,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(n,["inlineData"],KS(y));const h=u(i,["text"]);h!=null&&c(n,["text"],h);const v=u(i,["thought"]);v!=null&&c(n,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function yT(i){const n={},o=u(i,["retrievalConfig"]);o!=null&&c(n,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&c(n,["functionCallingConfig"],oT(a)),n}function vT(i){const n={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(n,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(n,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(n,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(n,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(n,["googleMaps"],rT(p));const g=u(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],uT(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(n,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function ST(i){const n={},o=u(i,["retrieval"]);o!=null&&c(n,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&c(n,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(n,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(n,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>lT(E))),c(n,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(n,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&c(n,["urlContext"],v),n}function TT(i,n){const o={},a=u(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const r=u(i,["expireTime"]);return n!==void 0&&r!=null&&c(n,["expireTime"],r),o}function ET(i,n){const o={},a=u(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const r=u(i,["expireTime"]);return n!==void 0&&r!=null&&c(n,["expireTime"],r),o}function _T(i,n){const o={},a=u(n,["name"]);a!=null&&c(o,["_url","name"],Wn(i,a));const r=u(n,["config"]);return r!=null&&TT(r,o),o}function CT(i,n){const o={},a=u(n,["name"]);a!=null&&c(o,["_url","name"],Wn(i,a));const r=u(n,["config"]);return r!=null&&ET(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AT extends $n{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new lo(Zn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=$S(this.apiClient,n);return g=j("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=ZS(this.apiClient,n);return g=j("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=sT(this.apiClient,n);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=aT(this.apiClient,n);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=jS(this.apiClient,n);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=tT(v),E=new Mh;return Object.assign(E,T),E})}else{const h=WS(this.apiClient,n);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=eT(v),E=new Mh;return Object.assign(E,T),E})}}async update(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=CT(this.apiClient,n);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=_T(this.apiClient,n);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=pT(n);return g=j("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=hT(v),E=new bh;return Object.assign(E,T),E})}else{const h=dT(n);return g=j("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=mT(v),E=new bh;return Object.assign(E,T),E})}}}function Vs(i,n){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&n.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(o[a[r]]=i[a[r]]);return o}function Lh(i){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&i[n],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function de(i){return this instanceof de?(this.v=i,this):new de(i)}function Sn(i,n,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,n||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(A){return function(I){return Promise.resolve(I).then(A,T)}}function g(A,I){a[A]&&(r[A]=function(V){return new Promise(function(U,B){f.push([A,V,U,B])>1||y(A,V)})},I&&(r[A]=I(r[A])))}function y(A,I){try{h(a[A](I))}catch(V){E(f[0][3],V)}}function h(A){A.value instanceof de?Promise.resolve(A.value.v).then(v,T):E(f[0][2],A)}function v(A){y("next",A)}function T(A){y("throw",A)}function E(A,I){A(I),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Tn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],o;return n?n.call(i):(i=typeof Lh=="function"?Lh(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(f){o[f]=i[f]&&function(p){return new Promise(function(g,y){p=i[f](p),r(g,y,p.done,p.value)})}}function r(f,p,g,y){Promise.resolve(y).then(function(h){f({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RT(i){var n;if(i.candidates==null||i.candidates.length===0)return!1;const o=(n=i.candidates[0])===null||n===void 0?void 0:n.content;return o===void 0?!1:yg(o)}function yg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const n of i.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function MT(i){if(i.length!==0){for(const n of i)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function Gh(i){if(i===void 0||i.length===0)return[];const n=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")n.push(i[a]),a++;else{const r=[];let f=!0;for(;a<o&&i[a].role==="model";)r.push(i[a]),f&&!yg(i[a])&&(f=!1),a++;f?n.push(...r):n.pop()}return n}class bT{constructor(n,o){this.modelsModule=n,this.apiClient=o}create(n){return new NT(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class NT{constructor(n,o,a,r={},f=[]){this.apiClient=n,this.modelsModule=o,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),MT(f)}async sendMessage(n){var o;await this.sendPromise;const a=Dt(n.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=n.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,p,g;const y=await r,h=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let E=[];v!=null&&(E=(g=v.slice(T))!==null&&g!==void 0?g:[]);const A=h?[h]:[];this.recordHistory(a,A,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(n){var o;await this.sendPromise;const a=Dt(n.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=n.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(n=!1){const o=n?Gh(this.history):this.history;return structuredClone(o)}processStreamResponse(n,o){return Sn(this,arguments,function*(){var r,f,p,g,y,h;const v=[];try{for(var T=!0,E=Tn(n),A;A=yield de(E.next()),r=A.done,!r;T=!0){g=A.value,T=!1;const I=g;if(RT(I)){const V=(h=(y=I.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;V!==void 0&&v.push(V)}yield yield de(I)}}catch(I){f={error:I}}finally{try{!T&&!r&&(p=E.return)&&(yield de(p.call(E)))}finally{if(f)throw f.error}}this.recordHistory(o,v)})}recordHistory(n,o,a){let r=[];o.length>0&&o.every(f=>f.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Gh(a)):this.history.push(n),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class na extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,na.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IT(i){const n={},o=u(i,["file"]);return o!=null&&c(n,["file"],o),n}function xT(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function wT(i){const n={},o=u(i,["name"]);return o!=null&&c(n,["_url","file"],cg(o)),n}function DT(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function UT(i){const n={},o=u(i,["name"]);return o!=null&&c(n,["_url","file"],cg(o)),n}function LT(i){const n={},o=u(i,["uris"]);return o!=null&&c(n,["uris"],o),n}function GT(i,n){const o={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function VT(i){const n={},o=u(i,["config"]);return o!=null&&GT(o,n),n}function HT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(n,["files"],f)}return n}function qT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=u(i,["files"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(n,["files"],r)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PT extends $n{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new lo(Zn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(o=>o)}async download(n){await this.apiClient.downloadFile(n)}async registerFiles(n){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(n){return this.registerFilesInternal(n)}async listInternal(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=VT(n);return f=j("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=HT(y),v=new O0;return Object.assign(v,h),v})}}async createInternal(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IT(n);return f=j("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=xT(y),v=new k0;return Object.assign(v,h),v})}}async get(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=UT(n);return f=j("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=wT(n);return f=j("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=DT(y),v=new z0;return Object.assign(v,h),v})}}async registerFilesInternal(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=LT(n);return f=j("files:register",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=qT(y),v=new B0;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ds(i){const n={},o=u(i,["data"]);if(o!=null&&c(n,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function OT(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>nE(f))),c(n,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(n,["role"],a),n}function kT(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function zT(i){const n={},o=u(i,["id"]);o!=null&&c(n,["id"],o);const a=u(i,["args"]);a!=null&&c(n,["args"],a);const r=u(i,["name"]);if(r!=null&&c(n,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function BT(i){const n={},o=u(i,["description"]);o!=null&&c(n,["description"],o);const a=u(i,["name"]);a!=null&&c(n,["name"],a);const r=u(i,["parameters"]);r!=null&&c(n,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(n,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(n,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(n,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function FT(i){const n={},o=u(i,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(n,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(n,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(n,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(n,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(n,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(n,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(n,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(n,["mediaResolution"],v);const T=u(i,["presencePenalty"]);T!=null&&c(n,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&c(n,["responseLogprobs"],E);const A=u(i,["responseMimeType"]);A!=null&&c(n,["responseMimeType"],A);const I=u(i,["responseModalities"]);I!=null&&c(n,["responseModalities"],I);const V=u(i,["responseSchema"]);V!=null&&c(n,["responseSchema"],V);const U=u(i,["routingConfig"]);U!=null&&c(n,["routingConfig"],U);const B=u(i,["seed"]);B!=null&&c(n,["seed"],B);const $=u(i,["speechConfig"]);$!=null&&c(n,["speechConfig"],$);const J=u(i,["stopSequences"]);J!=null&&c(n,["stopSequences"],J);const X=u(i,["temperature"]);X!=null&&c(n,["temperature"],X);const z=u(i,["thinkingConfig"]);z!=null&&c(n,["thinkingConfig"],z);const ae=u(i,["topK"]);ae!=null&&c(n,["topK"],ae);const Q=u(i,["topP"]);if(Q!=null&&c(n,["topP"],Q),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function JT(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function YT(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function KT(i,n){const o={},a=u(i,["generationConfig"]);n!==void 0&&a!=null&&c(n,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);n!==void 0&&p!=null&&c(n,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","speechConfig"],Nc(T));const E=u(i,["thinkingConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);n!==void 0&&A!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],A);const I=u(i,["systemInstruction"]);n!==void 0&&I!=null&&c(n,["setup","systemInstruction"],OT(Dt(I)));const V=u(i,["tools"]);if(n!==void 0&&V!=null){let ae=Xo(V);Array.isArray(ae)&&(ae=ae.map(Q=>oE(Ko(Q)))),c(n,["setup","tools"],ae)}const U=u(i,["sessionResumption"]);n!==void 0&&U!=null&&c(n,["setup","sessionResumption"],iE(U));const B=u(i,["inputAudioTranscription"]);n!==void 0&&B!=null&&c(n,["setup","inputAudioTranscription"],B);const $=u(i,["outputAudioTranscription"]);n!==void 0&&$!=null&&c(n,["setup","outputAudioTranscription"],$);const J=u(i,["realtimeInputConfig"]);n!==void 0&&J!=null&&c(n,["setup","realtimeInputConfig"],J);const X=u(i,["contextWindowCompression"]);n!==void 0&&X!=null&&c(n,["setup","contextWindowCompression"],X);const z=u(i,["proactivity"]);if(n!==void 0&&z!=null&&c(n,["setup","proactivity"],z),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function XT(i,n){const o={},a=u(i,["generationConfig"]);n!==void 0&&a!=null&&c(n,["setup","generationConfig"],FT(a));const r=u(i,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);n!==void 0&&p!=null&&c(n,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","speechConfig"],Nc(T));const E=u(i,["thinkingConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);n!==void 0&&A!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],A);const I=u(i,["systemInstruction"]);n!==void 0&&I!=null&&c(n,["setup","systemInstruction"],Dt(I));const V=u(i,["tools"]);if(n!==void 0&&V!=null){let Q=Xo(V);Array.isArray(Q)&&(Q=Q.map(te=>lE(Ko(te)))),c(n,["setup","tools"],Q)}const U=u(i,["sessionResumption"]);n!==void 0&&U!=null&&c(n,["setup","sessionResumption"],U);const B=u(i,["inputAudioTranscription"]);n!==void 0&&B!=null&&c(n,["setup","inputAudioTranscription"],B);const $=u(i,["outputAudioTranscription"]);n!==void 0&&$!=null&&c(n,["setup","outputAudioTranscription"],$);const J=u(i,["realtimeInputConfig"]);n!==void 0&&J!=null&&c(n,["setup","realtimeInputConfig"],J);const X=u(i,["contextWindowCompression"]);n!==void 0&&X!=null&&c(n,["setup","contextWindowCompression"],X);const z=u(i,["proactivity"]);n!==void 0&&z!=null&&c(n,["setup","proactivity"],z);const ae=u(i,["explicitVadSignal"]);return n!==void 0&&ae!=null&&c(n,["setup","explicitVadSignal"],ae),o}function QT(i,n){const o={},a=u(n,["model"]);a!=null&&c(o,["setup","model"],Ge(i,a));const r=u(n,["config"]);return r!=null&&c(o,["config"],KT(r,o)),o}function ZT(i,n){const o={},a=u(n,["model"]);a!=null&&c(o,["setup","model"],Ge(i,a));const r=u(n,["config"]);return r!=null&&c(o,["config"],XT(r,o)),o}function $T(i){const n={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(n,["musicGenerationConfig"],o),n}function WT(i){const n={},o=u(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(n,["weightedPrompts"],a)}return n}function jT(i){const n={},o=u(i,["media"]);if(o!=null){let h=lg(o);Array.isArray(h)&&(h=h.map(v=>Ds(v))),c(n,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(n,["audio"],Ds(sg(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(n,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(n,["video"],Ds(ag(f)));const p=u(i,["text"]);p!=null&&c(n,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(n,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(n,["activityEnd"],y),n}function eE(i){const n={},o=u(i,["media"]);if(o!=null){let h=lg(o);Array.isArray(h)&&(h=h.map(v=>v)),c(n,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(n,["audio"],sg(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(n,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(n,["video"],ag(f));const p=u(i,["text"]);p!=null&&c(n,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(n,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(n,["activityEnd"],y),n}function tE(i){const n={},o=u(i,["setupComplete"]);o!=null&&c(n,["setupComplete"],o);const a=u(i,["serverContent"]);a!=null&&c(n,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(n,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(n,["toolCallCancellation"],f);const p=u(i,["usageMetadata"]);p!=null&&c(n,["usageMetadata"],aE(p));const g=u(i,["goAway"]);g!=null&&c(n,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(n,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);h!=null&&c(n,["voiceActivityDetectionSignal"],h);const v=u(i,["voiceActivity"]);return v!=null&&c(n,["voiceActivity"],sE(v)),n}function nE(i){const n={},o=u(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(n,["fileData"],kT(f));const p=u(i,["functionCall"]);p!=null&&c(n,["functionCall"],zT(p));const g=u(i,["functionResponse"]);g!=null&&c(n,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(n,["inlineData"],Ds(y));const h=u(i,["text"]);h!=null&&c(n,["text"],h);const v=u(i,["thought"]);v!=null&&c(n,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function iE(i){const n={},o=u(i,["handle"]);if(o!=null&&c(n,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function oE(i){const n={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(n,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(n,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(n,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(n,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(n,["googleMaps"],JT(p));const g=u(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],YT(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(n,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function lE(i){const n={},o=u(i,["retrieval"]);o!=null&&c(n,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&c(n,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(n,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(n,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>BT(E))),c(n,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(n,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&c(n,["urlContext"],v),n}function aE(i){const n={},o=u(i,["promptTokenCount"]);o!=null&&c(n,["promptTokenCount"],o);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(n,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(n,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(n,["toolUsePromptTokenCount"],f);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(n,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(n,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(I=>I)),c(n,["promptTokensDetails"],A)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(I=>I)),c(n,["cacheTokensDetails"],A)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(I=>I)),c(n,["responseTokensDetails"],A)}const T=u(i,["toolUsePromptTokensDetails"]);if(T!=null){let A=T;Array.isArray(A)&&(A=A.map(I=>I)),c(n,["toolUsePromptTokensDetails"],A)}const E=u(i,["trafficType"]);return E!=null&&c(n,["trafficType"],E),n}function sE(i){const n={},o=u(i,["type"]);return o!=null&&c(n,["voiceActivityType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rE(i,n){const o={},a=u(i,["data"]);if(a!=null&&c(o,["data"],a),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["mimeType"]);return r!=null&&c(o,["mimeType"],r),o}function uE(i,n){const o={},a=u(i,["content"]);a!=null&&c(o,["content"],a);const r=u(i,["citationMetadata"]);r!=null&&c(o,["citationMetadata"],cE(r));const f=u(i,["tokenCount"]);f!=null&&c(o,["tokenCount"],f);const p=u(i,["finishReason"]);p!=null&&c(o,["finishReason"],p);const g=u(i,["avgLogprobs"]);g!=null&&c(o,["avgLogprobs"],g);const y=u(i,["groundingMetadata"]);y!=null&&c(o,["groundingMetadata"],y);const h=u(i,["index"]);h!=null&&c(o,["index"],h);const v=u(i,["logprobsResult"]);v!=null&&c(o,["logprobsResult"],v);const T=u(i,["safetyRatings"]);if(T!=null){let A=T;Array.isArray(A)&&(A=A.map(I=>I)),c(o,["safetyRatings"],A)}const E=u(i,["urlContextMetadata"]);return E!=null&&c(o,["urlContextMetadata"],E),o}function cE(i,n){const o={},a=u(i,["citationSources"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(o,["citations"],r)}return o}function fE(i,n,o){const a={},r=u(n,["model"]);r!=null&&c(a,["_url","model"],Ge(i,r));const f=u(n,["contents"]);if(f!=null){let p=dn(f);Array.isArray(p)&&(p=p.map(g=>g)),c(a,["contents"],p)}return a}function dE(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["tokensInfo"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(o,["tokensInfo"],f)}return o}function pE(i,n){const o={},a=u(i,["values"]);a!=null&&c(o,["values"],a);const r=u(i,["statistics"]);return r!=null&&c(o,["statistics"],mE(r)),o}function mE(i,n){const o={},a=u(i,["truncated"]);a!=null&&c(o,["truncated"],a);const r=u(i,["token_count"]);return r!=null&&c(o,["tokenCount"],r),o}function Ps(i,n){const o={},a=u(i,["parts"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>C_(p))),c(o,["parts"],f)}const r=u(i,["role"]);return r!=null&&c(o,["role"],r),o}function hE(i,n){const o={},a=u(i,["controlType"]);a!=null&&c(o,["controlType"],a);const r=u(i,["enableControlImageComputation"]);return r!=null&&c(o,["computeControl"],r),o}function gE(i,n){const o={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function yE(i,n,o){const a={},r=u(i,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],Dt(r));const f=u(i,["tools"]);if(n!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>Eg(y))),c(n,["tools"],g)}const p=u(i,["generationConfig"]);return n!==void 0&&p!=null&&c(n,["generationConfig"],r_(p)),a}function vE(i,n,o){const a={},r=u(n,["model"]);r!=null&&c(a,["_url","model"],Ge(i,r));const f=u(n,["contents"]);if(f!=null){let g=dn(f);Array.isArray(g)&&(g=g.map(y=>Ps(y))),c(a,["contents"],g)}const p=u(n,["config"]);return p!=null&&gE(p),a}function SE(i,n,o){const a={},r=u(n,["model"]);r!=null&&c(a,["_url","model"],Ge(i,r));const f=u(n,["contents"]);if(f!=null){let g=dn(f);Array.isArray(g)&&(g=g.map(y=>y)),c(a,["contents"],g)}const p=u(n,["config"]);return p!=null&&yE(p,a),a}function TE(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["totalTokens"]);r!=null&&c(o,["totalTokens"],r);const f=u(i,["cachedContentTokenCount"]);return f!=null&&c(o,["cachedContentTokenCount"],f),o}function EE(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["totalTokens"]);return r!=null&&c(o,["totalTokens"],r),o}function _E(i,n,o){const a={},r=u(n,["model"]);return r!=null&&c(a,["_url","name"],Ge(i,r)),a}function CE(i,n,o){const a={},r=u(n,["model"]);return r!=null&&c(a,["_url","name"],Ge(i,r)),a}function AE(i,n){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function RE(i,n){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function ME(i,n,o){const a={},r=u(i,["outputGcsUri"]);n!==void 0&&r!=null&&c(n,["parameters","storageUri"],r);const f=u(i,["negativePrompt"]);n!==void 0&&f!=null&&c(n,["parameters","negativePrompt"],f);const p=u(i,["numberOfImages"]);n!==void 0&&p!=null&&c(n,["parameters","sampleCount"],p);const g=u(i,["aspectRatio"]);n!==void 0&&g!=null&&c(n,["parameters","aspectRatio"],g);const y=u(i,["guidanceScale"]);n!==void 0&&y!=null&&c(n,["parameters","guidanceScale"],y);const h=u(i,["seed"]);n!==void 0&&h!=null&&c(n,["parameters","seed"],h);const v=u(i,["safetyFilterLevel"]);n!==void 0&&v!=null&&c(n,["parameters","safetySetting"],v);const T=u(i,["personGeneration"]);n!==void 0&&T!=null&&c(n,["parameters","personGeneration"],T);const E=u(i,["includeSafetyAttributes"]);n!==void 0&&E!=null&&c(n,["parameters","includeSafetyAttributes"],E);const A=u(i,["includeRaiReason"]);n!==void 0&&A!=null&&c(n,["parameters","includeRaiReason"],A);const I=u(i,["language"]);n!==void 0&&I!=null&&c(n,["parameters","language"],I);const V=u(i,["outputMimeType"]);n!==void 0&&V!=null&&c(n,["parameters","outputOptions","mimeType"],V);const U=u(i,["outputCompressionQuality"]);n!==void 0&&U!=null&&c(n,["parameters","outputOptions","compressionQuality"],U);const B=u(i,["addWatermark"]);n!==void 0&&B!=null&&c(n,["parameters","addWatermark"],B);const $=u(i,["labels"]);n!==void 0&&$!=null&&c(n,["labels"],$);const J=u(i,["editMode"]);n!==void 0&&J!=null&&c(n,["parameters","editMode"],J);const X=u(i,["baseSteps"]);return n!==void 0&&X!=null&&c(n,["parameters","editConfig","baseSteps"],X),a}function bE(i,n,o){const a={},r=u(n,["model"]);r!=null&&c(a,["_url","model"],Ge(i,r));const f=u(n,["prompt"]);f!=null&&c(a,["instances[0]","prompt"],f);const p=u(n,["referenceImages"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(h=>I_(h))),c(a,["instances[0]","referenceImages"],y)}const g=u(n,["config"]);return g!=null&&ME(g,a),a}function NE(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Os(p))),c(o,["generatedImages"],f)}return o}function IE(i,n,o){const a={},r=u(i,["taskType"]);n!==void 0&&r!=null&&c(n,["requests[]","taskType"],r);const f=u(i,["title"]);n!==void 0&&f!=null&&c(n,["requests[]","title"],f);const p=u(i,["outputDimensionality"]);if(n!==void 0&&p!=null&&c(n,["requests[]","outputDimensionality"],p),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function xE(i,n,o){const a={},r=u(i,["taskType"]);n!==void 0&&r!=null&&c(n,["instances[]","task_type"],r);const f=u(i,["title"]);n!==void 0&&f!=null&&c(n,["instances[]","title"],f);const p=u(i,["outputDimensionality"]);n!==void 0&&p!=null&&c(n,["parameters","outputDimensionality"],p);const g=u(i,["mimeType"]);n!==void 0&&g!=null&&c(n,["instances[]","mimeType"],g);const y=u(i,["autoTruncate"]);return n!==void 0&&y!=null&&c(n,["parameters","autoTruncate"],y),a}function wE(i,n,o){const a={},r=u(n,["model"]);r!=null&&c(a,["_url","model"],Ge(i,r));const f=u(n,["contents"]);if(f!=null){let y=Rc(i,f);Array.isArray(y)&&(y=y.map(h=>h)),c(a,["requests[]","content"],y)}const p=u(n,["config"]);p!=null&&IE(p,a);const g=u(n,["model"]);return g!==void 0&&c(a,["requests[]","model"],Ge(i,g)),a}function DE(i,n,o){const a={},r=u(n,["model"]);r!=null&&c(a,["_url","model"],Ge(i,r));const f=u(n,["contents"]);if(f!=null){let g=Rc(i,f);Array.isArray(g)&&(g=g.map(y=>y)),c(a,["instances[]","content"],g)}const p=u(n,["config"]);return p!=null&&xE(p,a),a}function UE(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["embeddings"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>g)),c(o,["embeddings"],p)}const f=u(i,["metadata"]);return f!=null&&c(o,["metadata"],f),o}function LE(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["predictions[]","embeddings"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>pE(g))),c(o,["embeddings"],p)}const f=u(i,["metadata"]);return f!=null&&c(o,["metadata"],f),o}function GE(i,n){const o={},a=u(i,["endpoint"]);a!=null&&c(o,["name"],a);const r=u(i,["deployedModelId"]);return r!=null&&c(o,["deployedModelId"],r),o}function VE(i,n){const o={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["fileUri"]);a!=null&&c(o,["fileUri"],a);const r=u(i,["mimeType"]);return r!=null&&c(o,["mimeType"],r),o}function HE(i,n){const o={},a=u(i,["id"]);a!=null&&c(o,["id"],a);const r=u(i,["args"]);r!=null&&c(o,["args"],r);const f=u(i,["name"]);if(f!=null&&c(o,["name"],f),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function qE(i,n){const o={},a=u(i,["allowedFunctionNames"]);a!=null&&c(o,["allowedFunctionNames"],a);const r=u(i,["mode"]);if(r!=null&&c(o,["mode"],r),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function PE(i,n){const o={},a=u(i,["description"]);a!=null&&c(o,["description"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["parameters"]);f!=null&&c(o,["parameters"],f);const p=u(i,["parametersJsonSchema"]);p!=null&&c(o,["parametersJsonSchema"],p);const g=u(i,["response"]);g!=null&&c(o,["response"],g);const y=u(i,["responseJsonSchema"]);if(y!=null&&c(o,["responseJsonSchema"],y),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function OE(i,n,o,a){const r={},f=u(n,["systemInstruction"]);o!==void 0&&f!=null&&c(o,["systemInstruction"],Ps(Dt(f)));const p=u(n,["temperature"]);p!=null&&c(r,["temperature"],p);const g=u(n,["topP"]);g!=null&&c(r,["topP"],g);const y=u(n,["topK"]);y!=null&&c(r,["topK"],y);const h=u(n,["candidateCount"]);h!=null&&c(r,["candidateCount"],h);const v=u(n,["maxOutputTokens"]);v!=null&&c(r,["maxOutputTokens"],v);const T=u(n,["stopSequences"]);T!=null&&c(r,["stopSequences"],T);const E=u(n,["responseLogprobs"]);E!=null&&c(r,["responseLogprobs"],E);const A=u(n,["logprobs"]);A!=null&&c(r,["logprobs"],A);const I=u(n,["presencePenalty"]);I!=null&&c(r,["presencePenalty"],I);const V=u(n,["frequencyPenalty"]);V!=null&&c(r,["frequencyPenalty"],V);const U=u(n,["seed"]);U!=null&&c(r,["seed"],U);const B=u(n,["responseMimeType"]);B!=null&&c(r,["responseMimeType"],B);const $=u(n,["responseSchema"]);$!=null&&c(r,["responseSchema"],Mc($));const J=u(n,["responseJsonSchema"]);if(J!=null&&c(r,["responseJsonSchema"],J),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const X=u(n,["safetySettings"]);if(o!==void 0&&X!=null){let xe=X;Array.isArray(xe)&&(xe=xe.map(rt=>x_(rt))),c(o,["safetySettings"],xe)}const z=u(n,["tools"]);if(o!==void 0&&z!=null){let xe=Xo(z);Array.isArray(xe)&&(xe=xe.map(rt=>H_(Ko(rt)))),c(o,["tools"],xe)}const ae=u(n,["toolConfig"]);if(o!==void 0&&ae!=null&&c(o,["toolConfig"],V_(ae)),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=u(n,["cachedContent"]);o!==void 0&&Q!=null&&c(o,["cachedContent"],Wn(i,Q));const te=u(n,["responseModalities"]);te!=null&&c(r,["responseModalities"],te);const oe=u(n,["mediaResolution"]);oe!=null&&c(r,["mediaResolution"],oe);const pe=u(n,["speechConfig"]);if(pe!=null&&c(r,["speechConfig"],bc(pe)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ne=u(n,["thinkingConfig"]);Ne!=null&&c(r,["thinkingConfig"],Ne);const Ie=u(n,["imageConfig"]);Ie!=null&&c(r,["imageConfig"],p_(Ie));const Je=u(n,["enableEnhancedCivicAnswers"]);if(Je!=null&&c(r,["enableEnhancedCivicAnswers"],Je),u(n,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function kE(i,n,o,a){const r={},f=u(n,["systemInstruction"]);o!==void 0&&f!=null&&c(o,["systemInstruction"],Dt(f));const p=u(n,["temperature"]);p!=null&&c(r,["temperature"],p);const g=u(n,["topP"]);g!=null&&c(r,["topP"],g);const y=u(n,["topK"]);y!=null&&c(r,["topK"],y);const h=u(n,["candidateCount"]);h!=null&&c(r,["candidateCount"],h);const v=u(n,["maxOutputTokens"]);v!=null&&c(r,["maxOutputTokens"],v);const T=u(n,["stopSequences"]);T!=null&&c(r,["stopSequences"],T);const E=u(n,["responseLogprobs"]);E!=null&&c(r,["responseLogprobs"],E);const A=u(n,["logprobs"]);A!=null&&c(r,["logprobs"],A);const I=u(n,["presencePenalty"]);I!=null&&c(r,["presencePenalty"],I);const V=u(n,["frequencyPenalty"]);V!=null&&c(r,["frequencyPenalty"],V);const U=u(n,["seed"]);U!=null&&c(r,["seed"],U);const B=u(n,["responseMimeType"]);B!=null&&c(r,["responseMimeType"],B);const $=u(n,["responseSchema"]);$!=null&&c(r,["responseSchema"],Mc($));const J=u(n,["responseJsonSchema"]);J!=null&&c(r,["responseJsonSchema"],J);const X=u(n,["routingConfig"]);X!=null&&c(r,["routingConfig"],X);const z=u(n,["modelSelectionConfig"]);z!=null&&c(r,["modelConfig"],z);const ae=u(n,["safetySettings"]);if(o!==void 0&&ae!=null){let ne=ae;Array.isArray(ne)&&(ne=ne.map(be=>be)),c(o,["safetySettings"],ne)}const Q=u(n,["tools"]);if(o!==void 0&&Q!=null){let ne=Xo(Q);Array.isArray(ne)&&(ne=ne.map(be=>Eg(Ko(be)))),c(o,["tools"],ne)}const te=u(n,["toolConfig"]);o!==void 0&&te!=null&&c(o,["toolConfig"],te);const oe=u(n,["labels"]);o!==void 0&&oe!=null&&c(o,["labels"],oe);const pe=u(n,["cachedContent"]);o!==void 0&&pe!=null&&c(o,["cachedContent"],Wn(i,pe));const Ne=u(n,["responseModalities"]);Ne!=null&&c(r,["responseModalities"],Ne);const Ie=u(n,["mediaResolution"]);Ie!=null&&c(r,["mediaResolution"],Ie);const Je=u(n,["speechConfig"]);Je!=null&&c(r,["speechConfig"],bc(Je));const xe=u(n,["audioTimestamp"]);xe!=null&&c(r,["audioTimestamp"],xe);const rt=u(n,["thinkingConfig"]);rt!=null&&c(r,["thinkingConfig"],rt);const H=u(n,["imageConfig"]);if(H!=null&&c(r,["imageConfig"],m_(H)),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const Z=u(n,["modelArmorConfig"]);return o!==void 0&&Z!=null&&c(o,["modelArmorConfig"],Z),r}function Vh(i,n,o){const a={},r=u(n,["model"]);r!=null&&c(a,["_url","model"],Ge(i,r));const f=u(n,["contents"]);if(f!=null){let g=dn(f);Array.isArray(g)&&(g=g.map(y=>Ps(y))),c(a,["contents"],g)}const p=u(n,["config"]);return p!=null&&c(a,["generationConfig"],OE(i,p,a)),a}function Hh(i,n,o){const a={},r=u(n,["model"]);r!=null&&c(a,["_url","model"],Ge(i,r));const f=u(n,["contents"]);if(f!=null){let g=dn(f);Array.isArray(g)&&(g=g.map(y=>y)),c(a,["contents"],g)}const p=u(n,["config"]);return p!=null&&c(a,["generationConfig"],kE(i,p,a)),a}function qh(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>uE(v))),c(o,["candidates"],h)}const f=u(i,["modelVersion"]);f!=null&&c(o,["modelVersion"],f);const p=u(i,["promptFeedback"]);p!=null&&c(o,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(o,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(o,["usageMetadata"],y),o}function Ph(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["candidates"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(T=>T)),c(o,["candidates"],v)}const f=u(i,["createTime"]);f!=null&&c(o,["createTime"],f);const p=u(i,["modelVersion"]);p!=null&&c(o,["modelVersion"],p);const g=u(i,["promptFeedback"]);g!=null&&c(o,["promptFeedback"],g);const y=u(i,["responseId"]);y!=null&&c(o,["responseId"],y);const h=u(i,["usageMetadata"]);return h!=null&&c(o,["usageMetadata"],h),o}function zE(i,n,o){const a={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(i,["numberOfImages"]);n!==void 0&&r!=null&&c(n,["parameters","sampleCount"],r);const f=u(i,["aspectRatio"]);n!==void 0&&f!=null&&c(n,["parameters","aspectRatio"],f);const p=u(i,["guidanceScale"]);if(n!==void 0&&p!=null&&c(n,["parameters","guidanceScale"],p),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=u(i,["safetyFilterLevel"]);n!==void 0&&g!=null&&c(n,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);n!==void 0&&y!=null&&c(n,["parameters","personGeneration"],y);const h=u(i,["includeSafetyAttributes"]);n!==void 0&&h!=null&&c(n,["parameters","includeSafetyAttributes"],h);const v=u(i,["includeRaiReason"]);n!==void 0&&v!=null&&c(n,["parameters","includeRaiReason"],v);const T=u(i,["language"]);n!==void 0&&T!=null&&c(n,["parameters","language"],T);const E=u(i,["outputMimeType"]);n!==void 0&&E!=null&&c(n,["parameters","outputOptions","mimeType"],E);const A=u(i,["outputCompressionQuality"]);if(n!==void 0&&A!=null&&c(n,["parameters","outputOptions","compressionQuality"],A),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=u(i,["imageSize"]);if(n!==void 0&&I!=null&&c(n,["parameters","sampleImageSize"],I),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function BE(i,n,o){const a={},r=u(i,["outputGcsUri"]);n!==void 0&&r!=null&&c(n,["parameters","storageUri"],r);const f=u(i,["negativePrompt"]);n!==void 0&&f!=null&&c(n,["parameters","negativePrompt"],f);const p=u(i,["numberOfImages"]);n!==void 0&&p!=null&&c(n,["parameters","sampleCount"],p);const g=u(i,["aspectRatio"]);n!==void 0&&g!=null&&c(n,["parameters","aspectRatio"],g);const y=u(i,["guidanceScale"]);n!==void 0&&y!=null&&c(n,["parameters","guidanceScale"],y);const h=u(i,["seed"]);n!==void 0&&h!=null&&c(n,["parameters","seed"],h);const v=u(i,["safetyFilterLevel"]);n!==void 0&&v!=null&&c(n,["parameters","safetySetting"],v);const T=u(i,["personGeneration"]);n!==void 0&&T!=null&&c(n,["parameters","personGeneration"],T);const E=u(i,["includeSafetyAttributes"]);n!==void 0&&E!=null&&c(n,["parameters","includeSafetyAttributes"],E);const A=u(i,["includeRaiReason"]);n!==void 0&&A!=null&&c(n,["parameters","includeRaiReason"],A);const I=u(i,["language"]);n!==void 0&&I!=null&&c(n,["parameters","language"],I);const V=u(i,["outputMimeType"]);n!==void 0&&V!=null&&c(n,["parameters","outputOptions","mimeType"],V);const U=u(i,["outputCompressionQuality"]);n!==void 0&&U!=null&&c(n,["parameters","outputOptions","compressionQuality"],U);const B=u(i,["addWatermark"]);n!==void 0&&B!=null&&c(n,["parameters","addWatermark"],B);const $=u(i,["labels"]);n!==void 0&&$!=null&&c(n,["labels"],$);const J=u(i,["imageSize"]);n!==void 0&&J!=null&&c(n,["parameters","sampleImageSize"],J);const X=u(i,["enhancePrompt"]);return n!==void 0&&X!=null&&c(n,["parameters","enhancePrompt"],X),a}function FE(i,n,o){const a={},r=u(n,["model"]);r!=null&&c(a,["_url","model"],Ge(i,r));const f=u(n,["prompt"]);f!=null&&c(a,["instances[0]","prompt"],f);const p=u(n,["config"]);return p!=null&&zE(p,a),a}function JE(i,n,o){const a={},r=u(n,["model"]);r!=null&&c(a,["_url","model"],Ge(i,r));const f=u(n,["prompt"]);f!=null&&c(a,["instances[0]","prompt"],f);const p=u(n,["config"]);return p!=null&&BE(p,a),a}function YE(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>o_(g))),c(o,["generatedImages"],p)}const f=u(i,["positivePromptSafetyAttributes"]);return f!=null&&c(o,["positivePromptSafetyAttributes"],Sg(f)),o}function KE(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>Os(g))),c(o,["generatedImages"],p)}const f=u(i,["positivePromptSafetyAttributes"]);return f!=null&&c(o,["positivePromptSafetyAttributes"],Tg(f)),o}function XE(i,n,o){const a={},r=u(i,["numberOfVideos"]);if(n!==void 0&&r!=null&&c(n,["parameters","sampleCount"],r),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const f=u(i,["durationSeconds"]);if(n!==void 0&&f!=null&&c(n,["parameters","durationSeconds"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["aspectRatio"]);n!==void 0&&p!=null&&c(n,["parameters","aspectRatio"],p);const g=u(i,["resolution"]);n!==void 0&&g!=null&&c(n,["parameters","resolution"],g);const y=u(i,["personGeneration"]);if(n!==void 0&&y!=null&&c(n,["parameters","personGeneration"],y),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=u(i,["negativePrompt"]);n!==void 0&&h!=null&&c(n,["parameters","negativePrompt"],h);const v=u(i,["enhancePrompt"]);if(n!==void 0&&v!=null&&c(n,["parameters","enhancePrompt"],v),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const T=u(i,["lastFrame"]);n!==void 0&&T!=null&&c(n,["instances[0]","lastFrame"],ks(T));const E=u(i,["referenceImages"]);if(n!==void 0&&E!=null){let A=E;Array.isArray(A)&&(A=A.map(I=>Z_(I))),c(n,["instances[0]","referenceImages"],A)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return a}function QE(i,n,o){const a={},r=u(i,["numberOfVideos"]);n!==void 0&&r!=null&&c(n,["parameters","sampleCount"],r);const f=u(i,["outputGcsUri"]);n!==void 0&&f!=null&&c(n,["parameters","storageUri"],f);const p=u(i,["fps"]);n!==void 0&&p!=null&&c(n,["parameters","fps"],p);const g=u(i,["durationSeconds"]);n!==void 0&&g!=null&&c(n,["parameters","durationSeconds"],g);const y=u(i,["seed"]);n!==void 0&&y!=null&&c(n,["parameters","seed"],y);const h=u(i,["aspectRatio"]);n!==void 0&&h!=null&&c(n,["parameters","aspectRatio"],h);const v=u(i,["resolution"]);n!==void 0&&v!=null&&c(n,["parameters","resolution"],v);const T=u(i,["personGeneration"]);n!==void 0&&T!=null&&c(n,["parameters","personGeneration"],T);const E=u(i,["pubsubTopic"]);n!==void 0&&E!=null&&c(n,["parameters","pubsubTopic"],E);const A=u(i,["negativePrompt"]);n!==void 0&&A!=null&&c(n,["parameters","negativePrompt"],A);const I=u(i,["enhancePrompt"]);n!==void 0&&I!=null&&c(n,["parameters","enhancePrompt"],I);const V=u(i,["generateAudio"]);n!==void 0&&V!=null&&c(n,["parameters","generateAudio"],V);const U=u(i,["lastFrame"]);n!==void 0&&U!=null&&c(n,["instances[0]","lastFrame"],En(U));const B=u(i,["referenceImages"]);if(n!==void 0&&B!=null){let X=B;Array.isArray(X)&&(X=X.map(z=>$_(z))),c(n,["instances[0]","referenceImages"],X)}const $=u(i,["mask"]);n!==void 0&&$!=null&&c(n,["instances[0]","mask"],Q_($));const J=u(i,["compressionQuality"]);return n!==void 0&&J!=null&&c(n,["parameters","compressionQuality"],J),a}function ZE(i,n){const o={},a=u(i,["name"]);a!=null&&c(o,["name"],a);const r=u(i,["metadata"]);r!=null&&c(o,["metadata"],r);const f=u(i,["done"]);f!=null&&c(o,["done"],f);const p=u(i,["error"]);p!=null&&c(o,["error"],p);const g=u(i,["response","generateVideoResponse"]);return g!=null&&c(o,["response"],e_(g)),o}function $E(i,n){const o={},a=u(i,["name"]);a!=null&&c(o,["name"],a);const r=u(i,["metadata"]);r!=null&&c(o,["metadata"],r);const f=u(i,["done"]);f!=null&&c(o,["done"],f);const p=u(i,["error"]);p!=null&&c(o,["error"],p);const g=u(i,["response"]);return g!=null&&c(o,["response"],t_(g)),o}function WE(i,n,o){const a={},r=u(n,["model"]);r!=null&&c(a,["_url","model"],Ge(i,r));const f=u(n,["prompt"]);f!=null&&c(a,["instances[0]","prompt"],f);const p=u(n,["image"]);p!=null&&c(a,["instances[0]","image"],ks(p));const g=u(n,["video"]);g!=null&&c(a,["instances[0]","video"],_g(g));const y=u(n,["source"]);y!=null&&n_(y,a);const h=u(n,["config"]);return h!=null&&XE(h,a),a}function jE(i,n,o){const a={},r=u(n,["model"]);r!=null&&c(a,["_url","model"],Ge(i,r));const f=u(n,["prompt"]);f!=null&&c(a,["instances[0]","prompt"],f);const p=u(n,["image"]);p!=null&&c(a,["instances[0]","image"],En(p));const g=u(n,["video"]);g!=null&&c(a,["instances[0]","video"],Cg(g));const y=u(n,["source"]);y!=null&&i_(y,a);const h=u(n,["config"]);return h!=null&&QE(h,a),a}function e_(i,n){const o={},a=u(i,["generatedSamples"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>a_(g))),c(o,["generatedVideos"],p)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&c(o,["raiMediaFilteredCount"],r);const f=u(i,["raiMediaFilteredReasons"]);return f!=null&&c(o,["raiMediaFilteredReasons"],f),o}function t_(i,n){const o={},a=u(i,["videos"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>s_(g))),c(o,["generatedVideos"],p)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&c(o,["raiMediaFilteredCount"],r);const f=u(i,["raiMediaFilteredReasons"]);return f!=null&&c(o,["raiMediaFilteredReasons"],f),o}function n_(i,n,o){const a={},r=u(i,["prompt"]);n!==void 0&&r!=null&&c(n,["instances[0]","prompt"],r);const f=u(i,["image"]);n!==void 0&&f!=null&&c(n,["instances[0]","image"],ks(f));const p=u(i,["video"]);return n!==void 0&&p!=null&&c(n,["instances[0]","video"],_g(p)),a}function i_(i,n,o){const a={},r=u(i,["prompt"]);n!==void 0&&r!=null&&c(n,["instances[0]","prompt"],r);const f=u(i,["image"]);n!==void 0&&f!=null&&c(n,["instances[0]","image"],En(f));const p=u(i,["video"]);return n!==void 0&&p!=null&&c(n,["instances[0]","video"],Cg(p)),a}function o_(i,n){const o={},a=u(i,["_self"]);a!=null&&c(o,["image"],h_(a));const r=u(i,["raiFilteredReason"]);r!=null&&c(o,["raiFilteredReason"],r);const f=u(i,["_self"]);return f!=null&&c(o,["safetyAttributes"],Sg(f)),o}function Os(i,n){const o={},a=u(i,["_self"]);a!=null&&c(o,["image"],vg(a));const r=u(i,["raiFilteredReason"]);r!=null&&c(o,["raiFilteredReason"],r);const f=u(i,["_self"]);f!=null&&c(o,["safetyAttributes"],Tg(f));const p=u(i,["prompt"]);return p!=null&&c(o,["enhancedPrompt"],p),o}function l_(i,n){const o={},a=u(i,["_self"]);a!=null&&c(o,["mask"],vg(a));const r=u(i,["labels"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(o,["labels"],f)}return o}function a_(i,n){const o={},a=u(i,["video"]);return a!=null&&c(o,["video"],K_(a)),o}function s_(i,n){const o={},a=u(i,["_self"]);return a!=null&&c(o,["video"],X_(a)),o}function r_(i,n){const o={},a=u(i,["modelSelectionConfig"]);a!=null&&c(o,["modelConfig"],a);const r=u(i,["responseJsonSchema"]);r!=null&&c(o,["responseJsonSchema"],r);const f=u(i,["audioTimestamp"]);f!=null&&c(o,["audioTimestamp"],f);const p=u(i,["candidateCount"]);p!=null&&c(o,["candidateCount"],p);const g=u(i,["enableAffectiveDialog"]);g!=null&&c(o,["enableAffectiveDialog"],g);const y=u(i,["frequencyPenalty"]);y!=null&&c(o,["frequencyPenalty"],y);const h=u(i,["logprobs"]);h!=null&&c(o,["logprobs"],h);const v=u(i,["maxOutputTokens"]);v!=null&&c(o,["maxOutputTokens"],v);const T=u(i,["mediaResolution"]);T!=null&&c(o,["mediaResolution"],T);const E=u(i,["presencePenalty"]);E!=null&&c(o,["presencePenalty"],E);const A=u(i,["responseLogprobs"]);A!=null&&c(o,["responseLogprobs"],A);const I=u(i,["responseMimeType"]);I!=null&&c(o,["responseMimeType"],I);const V=u(i,["responseModalities"]);V!=null&&c(o,["responseModalities"],V);const U=u(i,["responseSchema"]);U!=null&&c(o,["responseSchema"],U);const B=u(i,["routingConfig"]);B!=null&&c(o,["routingConfig"],B);const $=u(i,["seed"]);$!=null&&c(o,["seed"],$);const J=u(i,["speechConfig"]);J!=null&&c(o,["speechConfig"],J);const X=u(i,["stopSequences"]);X!=null&&c(o,["stopSequences"],X);const z=u(i,["temperature"]);z!=null&&c(o,["temperature"],z);const ae=u(i,["thinkingConfig"]);ae!=null&&c(o,["thinkingConfig"],ae);const Q=u(i,["topK"]);Q!=null&&c(o,["topK"],Q);const te=u(i,["topP"]);if(te!=null&&c(o,["topP"],te),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function u_(i,n,o){const a={},r=u(n,["model"]);return r!=null&&c(a,["_url","name"],Ge(i,r)),a}function c_(i,n,o){const a={},r=u(n,["model"]);return r!=null&&c(a,["_url","name"],Ge(i,r)),a}function f_(i,n){const o={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(i,["enableWidget"]);return a!=null&&c(o,["enableWidget"],a),o}function d_(i,n){const o={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const a=u(i,["timeRangeFilter"]);return a!=null&&c(o,["timeRangeFilter"],a),o}function p_(i,n){const o={},a=u(i,["aspectRatio"]);a!=null&&c(o,["aspectRatio"],a);const r=u(i,["imageSize"]);if(r!=null&&c(o,["imageSize"],r),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function m_(i,n){const o={},a=u(i,["aspectRatio"]);a!=null&&c(o,["aspectRatio"],a);const r=u(i,["imageSize"]);r!=null&&c(o,["imageSize"],r);const f=u(i,["personGeneration"]);f!=null&&c(o,["personGeneration"],f);const p=u(i,["outputMimeType"]);p!=null&&c(o,["imageOutputOptions","mimeType"],p);const g=u(i,["outputCompressionQuality"]);return g!=null&&c(o,["imageOutputOptions","compressionQuality"],g),o}function h_(i,n){const o={},a=u(i,["bytesBase64Encoded"]);a!=null&&c(o,["imageBytes"],wi(a));const r=u(i,["mimeType"]);return r!=null&&c(o,["mimeType"],r),o}function vg(i,n){const o={},a=u(i,["gcsUri"]);a!=null&&c(o,["gcsUri"],a);const r=u(i,["bytesBase64Encoded"]);r!=null&&c(o,["imageBytes"],wi(r));const f=u(i,["mimeType"]);return f!=null&&c(o,["mimeType"],f),o}function ks(i,n){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=u(i,["imageBytes"]);a!=null&&c(o,["bytesBase64Encoded"],wi(a));const r=u(i,["mimeType"]);return r!=null&&c(o,["mimeType"],r),o}function En(i,n){const o={},a=u(i,["gcsUri"]);a!=null&&c(o,["gcsUri"],a);const r=u(i,["imageBytes"]);r!=null&&c(o,["bytesBase64Encoded"],wi(r));const f=u(i,["mimeType"]);return f!=null&&c(o,["mimeType"],f),o}function g_(i,n,o,a){const r={},f=u(n,["pageSize"]);o!==void 0&&f!=null&&c(o,["_query","pageSize"],f);const p=u(n,["pageToken"]);o!==void 0&&p!=null&&c(o,["_query","pageToken"],p);const g=u(n,["filter"]);o!==void 0&&g!=null&&c(o,["_query","filter"],g);const y=u(n,["queryBase"]);return o!==void 0&&y!=null&&c(o,["_url","models_url"],fg(i,y)),r}function y_(i,n,o,a){const r={},f=u(n,["pageSize"]);o!==void 0&&f!=null&&c(o,["_query","pageSize"],f);const p=u(n,["pageToken"]);o!==void 0&&p!=null&&c(o,["_query","pageToken"],p);const g=u(n,["filter"]);o!==void 0&&g!=null&&c(o,["_query","filter"],g);const y=u(n,["queryBase"]);return o!==void 0&&y!=null&&c(o,["_url","models_url"],fg(i,y)),r}function v_(i,n,o){const a={},r=u(n,["config"]);return r!=null&&g_(i,r,a),a}function S_(i,n,o){const a={},r=u(n,["config"]);return r!=null&&y_(i,r,a),a}function T_(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["_self"]);if(f!=null){let p=dg(f);Array.isArray(p)&&(p=p.map(g=>dc(g))),c(o,["models"],p)}return o}function E_(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["_self"]);if(f!=null){let p=dg(f);Array.isArray(p)&&(p=p.map(g=>pc(g))),c(o,["models"],p)}return o}function __(i,n){const o={},a=u(i,["maskMode"]);a!=null&&c(o,["maskMode"],a);const r=u(i,["segmentationClasses"]);r!=null&&c(o,["maskClasses"],r);const f=u(i,["maskDilation"]);return f!=null&&c(o,["dilation"],f),o}function dc(i,n){const o={},a=u(i,["name"]);a!=null&&c(o,["name"],a);const r=u(i,["displayName"]);r!=null&&c(o,["displayName"],r);const f=u(i,["description"]);f!=null&&c(o,["description"],f);const p=u(i,["version"]);p!=null&&c(o,["version"],p);const g=u(i,["_self"]);g!=null&&c(o,["tunedModelInfo"],q_(g));const y=u(i,["inputTokenLimit"]);y!=null&&c(o,["inputTokenLimit"],y);const h=u(i,["outputTokenLimit"]);h!=null&&c(o,["outputTokenLimit"],h);const v=u(i,["supportedGenerationMethods"]);v!=null&&c(o,["supportedActions"],v);const T=u(i,["temperature"]);T!=null&&c(o,["temperature"],T);const E=u(i,["maxTemperature"]);E!=null&&c(o,["maxTemperature"],E);const A=u(i,["topP"]);A!=null&&c(o,["topP"],A);const I=u(i,["topK"]);I!=null&&c(o,["topK"],I);const V=u(i,["thinking"]);return V!=null&&c(o,["thinking"],V),o}function pc(i,n){const o={},a=u(i,["name"]);a!=null&&c(o,["name"],a);const r=u(i,["displayName"]);r!=null&&c(o,["displayName"],r);const f=u(i,["description"]);f!=null&&c(o,["description"],f);const p=u(i,["versionId"]);p!=null&&c(o,["version"],p);const g=u(i,["deployedModels"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(A=>GE(A))),c(o,["endpoints"],E)}const y=u(i,["labels"]);y!=null&&c(o,["labels"],y);const h=u(i,["_self"]);h!=null&&c(o,["tunedModelInfo"],P_(h));const v=u(i,["defaultCheckpointId"]);v!=null&&c(o,["defaultCheckpointId"],v);const T=u(i,["checkpoints"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(A=>A)),c(o,["checkpoints"],E)}return o}function C_(i,n){const o={},a=u(i,["mediaResolution"]);a!=null&&c(o,["mediaResolution"],a);const r=u(i,["codeExecutionResult"]);r!=null&&c(o,["codeExecutionResult"],r);const f=u(i,["executableCode"]);f!=null&&c(o,["executableCode"],f);const p=u(i,["fileData"]);p!=null&&c(o,["fileData"],VE(p));const g=u(i,["functionCall"]);g!=null&&c(o,["functionCall"],HE(g));const y=u(i,["functionResponse"]);y!=null&&c(o,["functionResponse"],y);const h=u(i,["inlineData"]);h!=null&&c(o,["inlineData"],rE(h));const v=u(i,["text"]);v!=null&&c(o,["text"],v);const T=u(i,["thought"]);T!=null&&c(o,["thought"],T);const E=u(i,["thoughtSignature"]);E!=null&&c(o,["thoughtSignature"],E);const A=u(i,["videoMetadata"]);return A!=null&&c(o,["videoMetadata"],A),o}function A_(i,n){const o={},a=u(i,["productImage"]);return a!=null&&c(o,["image"],En(a)),o}function R_(i,n,o){const a={},r=u(i,["numberOfImages"]);n!==void 0&&r!=null&&c(n,["parameters","sampleCount"],r);const f=u(i,["baseSteps"]);n!==void 0&&f!=null&&c(n,["parameters","baseSteps"],f);const p=u(i,["outputGcsUri"]);n!==void 0&&p!=null&&c(n,["parameters","storageUri"],p);const g=u(i,["seed"]);n!==void 0&&g!=null&&c(n,["parameters","seed"],g);const y=u(i,["safetyFilterLevel"]);n!==void 0&&y!=null&&c(n,["parameters","safetySetting"],y);const h=u(i,["personGeneration"]);n!==void 0&&h!=null&&c(n,["parameters","personGeneration"],h);const v=u(i,["addWatermark"]);n!==void 0&&v!=null&&c(n,["parameters","addWatermark"],v);const T=u(i,["outputMimeType"]);n!==void 0&&T!=null&&c(n,["parameters","outputOptions","mimeType"],T);const E=u(i,["outputCompressionQuality"]);n!==void 0&&E!=null&&c(n,["parameters","outputOptions","compressionQuality"],E);const A=u(i,["enhancePrompt"]);n!==void 0&&A!=null&&c(n,["parameters","enhancePrompt"],A);const I=u(i,["labels"]);return n!==void 0&&I!=null&&c(n,["labels"],I),a}function M_(i,n,o){const a={},r=u(n,["model"]);r!=null&&c(a,["_url","model"],Ge(i,r));const f=u(n,["source"]);f!=null&&N_(f,a);const p=u(n,["config"]);return p!=null&&R_(p,a),a}function b_(i,n){const o={},a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Os(f))),c(o,["generatedImages"],r)}return o}function N_(i,n,o){const a={},r=u(i,["prompt"]);n!==void 0&&r!=null&&c(n,["instances[0]","prompt"],r);const f=u(i,["personImage"]);n!==void 0&&f!=null&&c(n,["instances[0]","personImage","image"],En(f));const p=u(i,["productImages"]);if(n!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(y=>A_(y))),c(n,["instances[0]","productImages"],g)}return a}function I_(i,n){const o={},a=u(i,["referenceImage"]);a!=null&&c(o,["referenceImage"],En(a));const r=u(i,["referenceId"]);r!=null&&c(o,["referenceId"],r);const f=u(i,["referenceType"]);f!=null&&c(o,["referenceType"],f);const p=u(i,["maskImageConfig"]);p!=null&&c(o,["maskImageConfig"],__(p));const g=u(i,["controlImageConfig"]);g!=null&&c(o,["controlImageConfig"],hE(g));const y=u(i,["styleImageConfig"]);y!=null&&c(o,["styleImageConfig"],y);const h=u(i,["subjectImageConfig"]);return h!=null&&c(o,["subjectImageConfig"],h),o}function Sg(i,n){const o={},a=u(i,["safetyAttributes","categories"]);a!=null&&c(o,["categories"],a);const r=u(i,["safetyAttributes","scores"]);r!=null&&c(o,["scores"],r);const f=u(i,["contentType"]);return f!=null&&c(o,["contentType"],f),o}function Tg(i,n){const o={},a=u(i,["safetyAttributes","categories"]);a!=null&&c(o,["categories"],a);const r=u(i,["safetyAttributes","scores"]);r!=null&&c(o,["scores"],r);const f=u(i,["contentType"]);return f!=null&&c(o,["contentType"],f),o}function x_(i,n){const o={},a=u(i,["category"]);if(a!=null&&c(o,["category"],a),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(i,["threshold"]);return r!=null&&c(o,["threshold"],r),o}function w_(i,n){const o={},a=u(i,["image"]);return a!=null&&c(o,["image"],En(a)),o}function D_(i,n,o){const a={},r=u(i,["mode"]);n!==void 0&&r!=null&&c(n,["parameters","mode"],r);const f=u(i,["maxPredictions"]);n!==void 0&&f!=null&&c(n,["parameters","maxPredictions"],f);const p=u(i,["confidenceThreshold"]);n!==void 0&&p!=null&&c(n,["parameters","confidenceThreshold"],p);const g=u(i,["maskDilation"]);n!==void 0&&g!=null&&c(n,["parameters","maskDilation"],g);const y=u(i,["binaryColorThreshold"]);n!==void 0&&y!=null&&c(n,["parameters","binaryColorThreshold"],y);const h=u(i,["labels"]);return n!==void 0&&h!=null&&c(n,["labels"],h),a}function U_(i,n,o){const a={},r=u(n,["model"]);r!=null&&c(a,["_url","model"],Ge(i,r));const f=u(n,["source"]);f!=null&&G_(f,a);const p=u(n,["config"]);return p!=null&&D_(p,a),a}function L_(i,n){const o={},a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>l_(f))),c(o,["generatedMasks"],r)}return o}function G_(i,n,o){const a={},r=u(i,["prompt"]);n!==void 0&&r!=null&&c(n,["instances[0]","prompt"],r);const f=u(i,["image"]);n!==void 0&&f!=null&&c(n,["instances[0]","image"],En(f));const p=u(i,["scribbleImage"]);return n!==void 0&&p!=null&&c(n,["instances[0]","scribble"],w_(p)),a}function V_(i,n){const o={},a=u(i,["retrievalConfig"]);a!=null&&c(o,["retrievalConfig"],a);const r=u(i,["functionCallingConfig"]);return r!=null&&c(o,["functionCallingConfig"],qE(r)),o}function H_(i,n){const o={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["computerUse"]);a!=null&&c(o,["computerUse"],a);const r=u(i,["fileSearch"]);r!=null&&c(o,["fileSearch"],r);const f=u(i,["codeExecution"]);if(f!=null&&c(o,["codeExecution"],f),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["functionDeclarations"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>E)),c(o,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&c(o,["googleMaps"],f_(g));const y=u(i,["googleSearch"]);y!=null&&c(o,["googleSearch"],d_(y));const h=u(i,["googleSearchRetrieval"]);h!=null&&c(o,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&c(o,["urlContext"],v),o}function Eg(i,n){const o={},a=u(i,["retrieval"]);a!=null&&c(o,["retrieval"],a);const r=u(i,["computerUse"]);if(r!=null&&c(o,["computerUse"],r),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=u(i,["codeExecution"]);f!=null&&c(o,["codeExecution"],f);const p=u(i,["enterpriseWebSearch"]);p!=null&&c(o,["enterpriseWebSearch"],p);const g=u(i,["functionDeclarations"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(A=>PE(A))),c(o,["functionDeclarations"],E)}const y=u(i,["googleMaps"]);y!=null&&c(o,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(o,["googleSearch"],h);const v=u(i,["googleSearchRetrieval"]);v!=null&&c(o,["googleSearchRetrieval"],v);const T=u(i,["urlContext"]);return T!=null&&c(o,["urlContext"],T),o}function q_(i,n){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["createTime"]);r!=null&&c(o,["createTime"],r);const f=u(i,["updateTime"]);return f!=null&&c(o,["updateTime"],f),o}function P_(i,n){const o={},a=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["createTime"]);r!=null&&c(o,["createTime"],r);const f=u(i,["updateTime"]);return f!=null&&c(o,["updateTime"],f),o}function O_(i,n,o){const a={},r=u(i,["displayName"]);n!==void 0&&r!=null&&c(n,["displayName"],r);const f=u(i,["description"]);n!==void 0&&f!=null&&c(n,["description"],f);const p=u(i,["defaultCheckpointId"]);return n!==void 0&&p!=null&&c(n,["defaultCheckpointId"],p),a}function k_(i,n,o){const a={},r=u(i,["displayName"]);n!==void 0&&r!=null&&c(n,["displayName"],r);const f=u(i,["description"]);n!==void 0&&f!=null&&c(n,["description"],f);const p=u(i,["defaultCheckpointId"]);return n!==void 0&&p!=null&&c(n,["defaultCheckpointId"],p),a}function z_(i,n,o){const a={},r=u(n,["model"]);r!=null&&c(a,["_url","name"],Ge(i,r));const f=u(n,["config"]);return f!=null&&O_(f,a),a}function B_(i,n,o){const a={},r=u(n,["model"]);r!=null&&c(a,["_url","model"],Ge(i,r));const f=u(n,["config"]);return f!=null&&k_(f,a),a}function F_(i,n,o){const a={},r=u(i,["outputGcsUri"]);n!==void 0&&r!=null&&c(n,["parameters","storageUri"],r);const f=u(i,["safetyFilterLevel"]);n!==void 0&&f!=null&&c(n,["parameters","safetySetting"],f);const p=u(i,["personGeneration"]);n!==void 0&&p!=null&&c(n,["parameters","personGeneration"],p);const g=u(i,["includeRaiReason"]);n!==void 0&&g!=null&&c(n,["parameters","includeRaiReason"],g);const y=u(i,["outputMimeType"]);n!==void 0&&y!=null&&c(n,["parameters","outputOptions","mimeType"],y);const h=u(i,["outputCompressionQuality"]);n!==void 0&&h!=null&&c(n,["parameters","outputOptions","compressionQuality"],h);const v=u(i,["enhanceInputImage"]);n!==void 0&&v!=null&&c(n,["parameters","upscaleConfig","enhanceInputImage"],v);const T=u(i,["imagePreservationFactor"]);n!==void 0&&T!=null&&c(n,["parameters","upscaleConfig","imagePreservationFactor"],T);const E=u(i,["labels"]);n!==void 0&&E!=null&&c(n,["labels"],E);const A=u(i,["numberOfImages"]);n!==void 0&&A!=null&&c(n,["parameters","sampleCount"],A);const I=u(i,["mode"]);return n!==void 0&&I!=null&&c(n,["parameters","mode"],I),a}function J_(i,n,o){const a={},r=u(n,["model"]);r!=null&&c(a,["_url","model"],Ge(i,r));const f=u(n,["image"]);f!=null&&c(a,["instances[0]","image"],En(f));const p=u(n,["upscaleFactor"]);p!=null&&c(a,["parameters","upscaleConfig","upscaleFactor"],p);const g=u(n,["config"]);return g!=null&&F_(g,a),a}function Y_(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Os(p))),c(o,["generatedImages"],f)}return o}function K_(i,n){const o={},a=u(i,["uri"]);a!=null&&c(o,["uri"],a);const r=u(i,["encodedVideo"]);r!=null&&c(o,["videoBytes"],wi(r));const f=u(i,["encoding"]);return f!=null&&c(o,["mimeType"],f),o}function X_(i,n){const o={},a=u(i,["gcsUri"]);a!=null&&c(o,["uri"],a);const r=u(i,["bytesBase64Encoded"]);r!=null&&c(o,["videoBytes"],wi(r));const f=u(i,["mimeType"]);return f!=null&&c(o,["mimeType"],f),o}function Q_(i,n){const o={},a=u(i,["image"]);a!=null&&c(o,["_self"],En(a));const r=u(i,["maskMode"]);return r!=null&&c(o,["maskMode"],r),o}function Z_(i,n){const o={},a=u(i,["image"]);a!=null&&c(o,["image"],ks(a));const r=u(i,["referenceType"]);return r!=null&&c(o,["referenceType"],r),o}function $_(i,n){const o={},a=u(i,["image"]);a!=null&&c(o,["image"],En(a));const r=u(i,["referenceType"]);return r!=null&&c(o,["referenceType"],r),o}function _g(i,n){const o={},a=u(i,["uri"]);a!=null&&c(o,["uri"],a);const r=u(i,["videoBytes"]);r!=null&&c(o,["encodedVideo"],wi(r));const f=u(i,["mimeType"]);return f!=null&&c(o,["encoding"],f),o}function Cg(i,n){const o={},a=u(i,["uri"]);a!=null&&c(o,["gcsUri"],a);const r=u(i,["videoBytes"]);r!=null&&c(o,["bytesBase64Encoded"],wi(r));const f=u(i,["mimeType"]);return f!=null&&c(o,["mimeType"],f),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W_(i,n){const o={},a=u(i,["displayName"]);return n!==void 0&&a!=null&&c(n,["displayName"],a),o}function j_(i){const n={},o=u(i,["config"]);return o!=null&&W_(o,n),n}function eC(i,n){const o={},a=u(i,["force"]);return n!==void 0&&a!=null&&c(n,["_query","force"],a),o}function tC(i){const n={},o=u(i,["name"]);o!=null&&c(n,["_url","name"],o);const a=u(i,["config"]);return a!=null&&eC(a,n),n}function nC(i){const n={},o=u(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function iC(i,n){const o={},a=u(i,["customMetadata"]);if(n!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(n,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return n!==void 0&&r!=null&&c(n,["chunkingConfig"],r),o}function oC(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const a=u(i,["metadata"]);a!=null&&c(n,["metadata"],a);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const p=u(i,["response"]);return p!=null&&c(n,["response"],aC(p)),n}function lC(i){const n={},o=u(i,["fileSearchStoreName"]);o!=null&&c(n,["_url","file_search_store_name"],o);const a=u(i,["fileName"]);a!=null&&c(n,["fileName"],a);const r=u(i,["config"]);return r!=null&&iC(r,n),n}function aC(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(n,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(n,["documentName"],r),n}function sC(i,n){const o={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function rC(i){const n={},o=u(i,["config"]);return o!=null&&sC(o,n),n}function uC(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(n,["fileSearchStores"],f)}return n}function Ag(i,n){const o={},a=u(i,["mimeType"]);n!==void 0&&a!=null&&c(n,["mimeType"],a);const r=u(i,["displayName"]);n!==void 0&&r!=null&&c(n,["displayName"],r);const f=u(i,["customMetadata"]);if(n!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(n,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return n!==void 0&&p!=null&&c(n,["chunkingConfig"],p),o}function cC(i){const n={},o=u(i,["fileSearchStoreName"]);o!=null&&c(n,["_url","file_search_store_name"],o);const a=u(i,["config"]);return a!=null&&Ag(a,n),n}function fC(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dC="Content-Type",pC="X-Server-Timeout",mC="User-Agent",mc="x-goog-api-client",hC="1.40.0",gC=`google-genai-sdk/${hC}`,yC="v1beta1",vC="v1beta";class SC{constructor(n){var o,a,r;this.clientOptions=Object.assign({},n),this.customBaseUrl=(o=n.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const f={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const g=n.project&&n.location||!!n.apiKey;this.customBaseUrl&&!g?(f.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?f.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(f.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),f.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:yC}else{if(!this.clientOptions.apiKey)throw new na({message:"API key must be set when using the Gemini API.",status:403});f.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:vC,f.baseUrl="https://generativelanguage.googleapis.com/"}f.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=f,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(f,n.httpOptions))}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const n=new Headers;return await this.clientOptions.auth.addAuthHeaders(n),n}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&a.push(n.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),o=new URL(n);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),n!==""&&r.push(n),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(n,o){return!(o.baseUrl&&o.baseUrlResourceScope===rc.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const a=this.shouldPrependVertexProjectPath(n,o),r=this.constructUrl(n.path,o,a);if(n.queryParams)for(const[p,g]of Object.entries(n.queryParams))r.searchParams.append(p,String(g));let f={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=n.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),n.abortSignal),this.unaryApiCall(r,f,n.httpMethod)}patchHttpOptions(n,o){const a=JSON.parse(JSON.stringify(n));for(const[r,f]of Object.entries(o))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const a=this.shouldPrependVertexProjectPath(n,o),r=this.constructUrl(n.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=n.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),n.abortSignal),this.streamApiCall(r,f,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,o,a,r){if(o&&o.timeout||r){const f=new AbortController,p=f.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>f.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),n.signal=p}return o&&o.extraBody!==null&&TC(n,o.extraBody),n.headers=await this.getHeadersInternal(o,a),n}async unaryApiCall(n,o,a){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Oh(r),new uc(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(n,o,a){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Oh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(n){return Sn(this,arguments,function*(){var a;const r=(a=n==null?void 0:n.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield de(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=f.decode(v,{stream:!0});try{const I=JSON.parse(T);if("error"in I){const V=JSON.parse(JSON.stringify(I.error)),U=V.status,B=V.code,$=`got status: ${U}. ${JSON.stringify(I)}`;if(B>=400&&B<600)throw new na({message:$,status:B})}}catch(I){if(I.name==="ApiError")throw I}p+=T;let E=-1,A=0;for(;;){E=-1,A=0;for(const U of y){const B=p.indexOf(U);B!==-1&&(E===-1||B<E)&&(E=B,A=U.length)}if(E===-1)break;const I=p.substring(0,E);p=p.substring(E+A);const V=I.trim();if(V.startsWith(g)){const U=V.substring(g.length).trim();try{const B=new Response(U,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield de(new uc(B))}catch(B){throw new Error(`exception parsing stream chunk ${U}. ${B}`)}}}}}finally{r.releaseLock()}})}async apiCall(n,o){return fetch(n,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const n={},o=gC+" "+this.clientOptions.userAgentExtra;return n[mC]=o,n[mc]=o,n[dC]="application/json",n}async getHeadersInternal(n,o){const a=new Headers;if(n&&n.headers){for(const[r,f]of Object.entries(n.headers))a.append(r,f);n.timeout&&n.timeout>0&&a.append(pC,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(n){var o;let a="";return typeof n=="string"&&(a=n.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(n,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(n);r.sizeBytes=String(p.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(n),v=j("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,o==null?void 0:o.httpOptions);return f.upload(n,T,this)}async uploadFileToFileSearchStore(n,o,a){var r;const f=this.clientOptions.uploader,p=await f.stat(o),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${n}:uploadToFileSearchStore`,v=this.getFileName(o),T={};a!=null&&Ag(a,T);const E=await this.fetchUploadUrl(h,g,y,v,T,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(o,E,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,o,a,r,f,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:n,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Oh(i){var n;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((n=i.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new na({message:r,status:o}):new Error(r)}}function TC(i,n){if(!n||Object.keys(n).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const g=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(o,n);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EC="mcp_used/unknown";let _C=!1;function Rg(i){for(const n of i)if(CC(n)||typeof n=="object"&&"inputSchema"in n)return!0;return _C}function Mg(i){var n;const o=(n=i[mc])!==null&&n!==void 0?n:"";i[mc]=(o+` ${EC}`).trimStart()}function CC(i){return i!==null&&typeof i=="object"&&i instanceof Ic}function AC(i){return Sn(this,arguments,function*(o,a=100){let r,f=0;for(;f<a;){const p=yield de(o.listTools({cursor:r}));for(const g of p.tools)yield yield de(g),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class Ic{constructor(n=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=o}static create(n,o){return new Ic(n,o)}async initialize(){var n,o,a,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,Tn(AC(v))),h;h=await y.next(),n=h.done,!n;g=!0){r=h.value,g=!1;const T=r;p.push(T);const E=T.name;if(f[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);f[E]=v}}catch(T){o={error:T}}finally{try{!g&&!n&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),j0(this.mcpTools,this.config)}async callTool(n){await this.initialize();const o=[];for(const a of n)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,f);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function RC(i,n,o){const a=new J0;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),n(a)}class MC{constructor(n,o,a){this.apiClient=n,this.auth=o,this.webSocketFactory=a}async connect(n){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=IC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(J=>{h=J}),T=n.callbacks,E=function(){h({})},A=this.apiClient,I={onopen:E,onmessage:J=>{RC(A,T.onmessage,J)},onerror:(o=T==null?void 0:T.onerror)!==null&&o!==void 0?o:function(J){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function(J){}},V=this.webSocketFactory.create(y,NC(p),I);V.connect(),await v;const $={setup:{model:Ge(this.apiClient,n.model)}};return V.send(JSON.stringify($)),new bC(V,this.apiClient)}}class bC{constructor(n,o){this.conn=n,this.apiClient=o}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=WT(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const o=$T(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(n){const o={playbackControl:n};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(zo.PLAY)}pause(){this.sendPlaybackControl(zo.PAUSE)}stop(){this.sendPlaybackControl(zo.STOP)}resetContext(){this.sendPlaybackControl(zo.RESET_CONTEXT)}close(){this.conn.close()}}function NC(i){const n={};return i.forEach((o,a)=>{n[a]=o}),n}function IC(i){const n=new Headers;for(const[o,a]of Object.entries(i))n.append(o,a);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function wC(i,n,o){const a=new F0;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const f=JSON.parse(r);if(i.isVertexAI()){const p=tE(f);Object.assign(a,p)}else Object.assign(a,f);n(a)}class DC{constructor(n,o,a){this.apiClient=n,this.auth=o,this.webSocketFactory=a,this.music=new MC(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var o,a,r,f,p,g;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();n.config&&n.config.tools&&Rg(n.config.tools)&&Mg(T);const E=VC(T);if(this.apiClient.isVertexAI()){const oe=this.apiClient.getProject(),pe=this.apiClient.getLocation(),Ne=this.apiClient.getApiKey(),Ie=!!oe&&!!pe||!!Ne;this.apiClient.getCustomBaseUrl()&&!Ie?v=y:(v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v))}else{const oe=this.apiClient.getApiKey();let pe="BidiGenerateContent",Ne="key";oe!=null&&oe.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),pe="BidiGenerateContentConstrained",Ne="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${pe}?${Ne}=${oe}`}let A=()=>{};const I=new Promise(oe=>{A=oe}),V=n.callbacks,U=function(){var oe;(oe=V==null?void 0:V.onopen)===null||oe===void 0||oe.call(V),A({})},B=this.apiClient,$={onopen:U,onmessage:oe=>{wC(B,V.onmessage,oe)},onerror:(o=V==null?void 0:V.onerror)!==null&&o!==void 0?o:function(oe){},onclose:(a=V==null?void 0:V.onclose)!==null&&a!==void 0?a:function(oe){}},J=this.webSocketFactory.create(v,GC(E),$);J.connect(),await I;let X=Ge(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&X.startsWith("publishers/")){const oe=this.apiClient.getProject(),pe=this.apiClient.getLocation();oe&&pe&&(X=`projects/${oe}/locations/${pe}/`+X)}let z={};this.apiClient.isVertexAI()&&((r=n.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[Us.AUDIO]}:n.config.responseModalities=[Us.AUDIO]),!((f=n.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ae=(g=(p=n.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],Q=[];for(const oe of ae)if(this.isCallableTool(oe)){const pe=oe;Q.push(await pe.tool())}else Q.push(oe);Q.length>0&&(n.config.tools=Q);const te={model:X,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?z=ZT(this.apiClient,te):z=QT(this.apiClient,te),delete z.config,J.send(JSON.stringify(z)),new LC(J,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const UC={turnComplete:!0};class LC{constructor(n,o){this.conn=n,this.apiClient=o}tLiveClientContent(n,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=dn(o.turns),n.isVertexAI()||(a=a.map(r=>Ps(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(n,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!n.isVertexAI()&&!("id"in f))throw new Error(xC)}return{toolResponse:{functionResponses:a}}}sendClientContent(n){n=Object.assign(Object.assign({},UC),n);const o=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(o))}sendRealtimeInput(n){let o={};this.apiClient.isVertexAI()?o={realtimeInput:eE(n)}:o={realtimeInput:jT(n)},this.conn.send(JSON.stringify(o))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function GC(i){const n={};return i.forEach((o,a)=>{n[a]=o}),n}function VC(i){const n=new Headers;for(const[o,a]of Object.entries(i))n.append(o,a);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kh=10;function zh(i){var n,o,a;if(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(Jo(p)){r=!0;break}if(!r)return!0;const f=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function Jo(i){return"callTool"in i&&typeof i.callTool=="function"}function HC(i){var n,o,a;return(a=(o=(n=i.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(r=>Jo(r)))!==null&&a!==void 0?a:!1}function Bh(i){var n;const o=[];return!((n=i==null?void 0:i.config)===null||n===void 0)&&n.tools&&i.config.tools.forEach((a,r)=>{if(Jo(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&o.push(r)}),o}function Fh(i){var n;return!(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qC extends $n{constructor(n){super(),this.apiClient=n,this.generateContent=async o=>{var a,r,f,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!HC(o)||zh(o.config))return await this.generateContentInternal(y);const h=Bh(o);if(h.length>0){const V=h.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${V}.`)}let v,T;const E=dn(y.contents),A=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:kh;let I=0;for(;I<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const V=v.candidates[0].content,U=[];for(const B of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(Jo(B)){const J=await B.callTool(v.functionCalls);U.push(...J)}I++,T={role:"user",parts:U},y.contents=dn(y.contents),y.contents.push(V),y.contents.push(T),Fh(y.config)&&(E.push(V),E.push(T))}return Fh(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async o=>{var a,r,f,p,g;if(this.maybeMoveToResponseJsonSchem(o),zh(o.config)){const T=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(T)}const y=Bh(o);if(y.length>0){const T=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(f=(r=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let f;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let g;return f?g={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new lo(Zn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,f,p,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(f=o.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var o,a,r;const f=(o=n.config)===null||o===void 0?void 0:o.tools;if(!f)return n;const p=await Promise.all(f.map(async y=>Jo(y)?await y.tool():y)),g={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:p})};if(g.config.tools=p,n.config&&n.config.tools&&Rg(n.config.tools)){const y=(r=(a=n.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Mg(h),g.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(n){var o,a,r;const f=new Map;for(const p of(a=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(Jo(p)){const g=p,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,g)}}return f}async processAfcStream(n){var o,a,r;const f=(r=(a=(o=n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:kh;let p=!1,g=0;const y=await this.initAfcToolsMap(n);return(function(h,v,T){return Sn(this,arguments,function*(){for(var E,A,I,V,U,B;g<f;){p&&(g++,p=!1);const z=yield de(h.processParamsMaybeAddMcpUsage(T)),ae=yield de(h.generateContentStreamInternal(z)),Q=[],te=[];try{for(var $=!0,J=(A=void 0,Tn(ae)),X;X=yield de(J.next()),E=X.done,!E;$=!0){V=X.value,$=!1;const oe=V;if(yield yield de(oe),oe.candidates&&(!((U=oe.candidates[0])===null||U===void 0)&&U.content)){te.push(oe.candidates[0].content);for(const pe of(B=oe.candidates[0].content.parts)!==null&&B!==void 0?B:[])if(g<f&&pe.functionCall){if(!pe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(pe.functionCall.name)){const Ne=yield de(v.get(pe.functionCall.name).callTool([pe.functionCall]));Q.push(...Ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${pe.functionCall.name}`)}}}}catch(oe){A={error:oe}}finally{try{!$&&!E&&(I=J.return)&&(yield de(I.call(J)))}finally{if(A)throw A.error}}if(Q.length>0){p=!0;const oe=new Wl;oe.candidates=[{content:{role:"user",parts:Q}}],yield yield de(oe);const pe=[];pe.push(...te),pe.push({role:"user",parts:Q});const Ne=dn(T.contents).concat(pe);T.contents=Ne}else break}})})(this,y,n)}async generateContentInternal(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Hh(this.apiClient,n);return g=j("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=Ph(v),E=new Wl;return Object.assign(E,T),E})}else{const h=Vh(this.apiClient,n);return g=j("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=qh(v),E=new Wl;return Object.assign(E,T),E})}}async generateContentStreamInternal(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Hh(this.apiClient,n);return g=j("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(T){return Sn(this,arguments,function*(){var E,A,I,V;try{for(var U=!0,B=Tn(T),$;$=yield de(B.next()),E=$.done,!E;U=!0){V=$.value,U=!1;const J=V,X=Ph(yield de(J.json()),n);X.sdkHttpResponse={headers:J.headers};const z=new Wl;Object.assign(z,X),yield yield de(z)}}catch(J){A={error:J}}finally{try{!U&&!E&&(I=B.return)&&(yield de(I.call(B)))}finally{if(A)throw A.error}}})})}else{const h=Vh(this.apiClient,n);return g=j("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(T){return Sn(this,arguments,function*(){var E,A,I,V;try{for(var U=!0,B=Tn(T),$;$=yield de(B.next()),E=$.done,!E;U=!0){V=$.value,U=!1;const J=V,X=qh(yield de(J.json()),n);X.sdkHttpResponse={headers:J.headers};const z=new Wl;Object.assign(z,X),yield yield de(z)}}catch(J){A={error:J}}finally{try{!U&&!E&&(I=B.return)&&(yield de(I.call(B)))}finally{if(A)throw A.error}}})})}}async embedContent(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=DE(this.apiClient,n);return g=j("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=LE(v),E=new Sh;return Object.assign(E,T),E})}else{const h=wE(this.apiClient,n);return g=j("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=UE(v),E=new Sh;return Object.assign(E,T),E})}}async generateImagesInternal(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=JE(this.apiClient,n);return g=j("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=KE(v),E=new Th;return Object.assign(E,T),E})}else{const h=FE(this.apiClient,n);return g=j("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=YE(v),E=new Th;return Object.assign(E,T),E})}}async editImageInternal(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=bE(this.apiClient,n);return f=j("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=NE(y),v=new D0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=J_(this.apiClient,n);return f=j("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=Y_(y),v=new U0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=M_(this.apiClient,n);return f=j("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=b_(y),v=new L0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=U_(this.apiClient,n);return f=j("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=L_(y),v=new G0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=c_(this.apiClient,n);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>pc(v))}else{const h=u_(this.apiClient,n);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>dc(v))}}async listInternal(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=S_(this.apiClient,n);return g=j("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=E_(v),E=new Eh;return Object.assign(E,T),E})}else{const h=v_(this.apiClient,n);return g=j("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=T_(v),E=new Eh;return Object.assign(E,T),E})}}async update(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=B_(this.apiClient,n);return g=j("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>pc(v))}else{const h=z_(this.apiClient,n);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>dc(v))}}async delete(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=CE(this.apiClient,n);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=RE(v),E=new _h;return Object.assign(E,T),E})}else{const h=_E(this.apiClient,n);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=AE(v),E=new _h;return Object.assign(E,T),E})}}async countTokens(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=SE(this.apiClient,n);return g=j("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=EE(v),E=new Ch;return Object.assign(E,T),E})}else{const h=vE(this.apiClient,n);return g=j("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=TE(v),E=new Ch;return Object.assign(E,T),E})}}async computeTokens(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=fE(this.apiClient,n);return f=j("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=dE(y),v=new V0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=jE(this.apiClient,n);return g=j("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const T=$E(v),E=new Ls;return Object.assign(E,T),E})}else{const h=WE(this.apiClient,n);return g=j("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const T=ZE(v),E=new Ls;return Object.assign(E,T),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PC extends $n{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const o=n.operation,a=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(n){const o=n.operation,a=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=M0(n);return g=j("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const h=R0(n);return g=j("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=v0(n);return f=j("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OC(i){const n={},o=u(i,["data"]);if(o!=null&&c(n,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function kC(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>ZC(f))),c(n,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(n,["role"],a),n}function zC(i,n,o){const a={},r=u(n,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const f=u(n,["newSessionExpireTime"]);o!==void 0&&f!=null&&c(o,["newSessionExpireTime"],f);const p=u(n,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const g=u(n,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],QC(i,g));const y=u(n,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),a}function BC(i,n){const o={},a=u(n,["config"]);return a!=null&&c(o,["config"],zC(i,a,o)),o}function FC(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function JC(i){const n={},o=u(i,["id"]);o!=null&&c(n,["id"],o);const a=u(i,["args"]);a!=null&&c(n,["args"],a);const r=u(i,["name"]);if(r!=null&&c(n,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function YC(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function KC(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function XC(i,n){const o={},a=u(i,["generationConfig"]);n!==void 0&&a!=null&&c(n,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);n!==void 0&&p!=null&&c(n,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","speechConfig"],Nc(T));const E=u(i,["thinkingConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);n!==void 0&&A!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],A);const I=u(i,["systemInstruction"]);n!==void 0&&I!=null&&c(n,["setup","systemInstruction"],kC(Dt(I)));const V=u(i,["tools"]);if(n!==void 0&&V!=null){let ae=Xo(V);Array.isArray(ae)&&(ae=ae.map(Q=>WC(Ko(Q)))),c(n,["setup","tools"],ae)}const U=u(i,["sessionResumption"]);n!==void 0&&U!=null&&c(n,["setup","sessionResumption"],$C(U));const B=u(i,["inputAudioTranscription"]);n!==void 0&&B!=null&&c(n,["setup","inputAudioTranscription"],B);const $=u(i,["outputAudioTranscription"]);n!==void 0&&$!=null&&c(n,["setup","outputAudioTranscription"],$);const J=u(i,["realtimeInputConfig"]);n!==void 0&&J!=null&&c(n,["setup","realtimeInputConfig"],J);const X=u(i,["contextWindowCompression"]);n!==void 0&&X!=null&&c(n,["setup","contextWindowCompression"],X);const z=u(i,["proactivity"]);if(n!==void 0&&z!=null&&c(n,["setup","proactivity"],z),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function QC(i,n){const o={},a=u(n,["model"]);a!=null&&c(o,["setup","model"],Ge(i,a));const r=u(n,["config"]);return r!=null&&c(o,["config"],XC(r,o)),o}function ZC(i){const n={},o=u(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(n,["fileData"],FC(f));const p=u(i,["functionCall"]);p!=null&&c(n,["functionCall"],JC(p));const g=u(i,["functionResponse"]);g!=null&&c(n,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(n,["inlineData"],OC(y));const h=u(i,["text"]);h!=null&&c(n,["text"],h);const v=u(i,["thought"]);v!=null&&c(n,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function $C(i){const n={},o=u(i,["handle"]);if(o!=null&&c(n,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function WC(i){const n={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(n,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(n,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(n,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(n,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(n,["googleMaps"],YC(p));const g=u(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],KC(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(n,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jC(i){const n=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${o}.${f}`);n.push(...r)}else n.push(o)}return n.join(",")}function eA(i,n){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,o=f):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const f=jC(o);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class tA extends $n{constructor(n){super(),this.apiClient=n}async create(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=BC(this.apiClient,n);f=j("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=eA(g,n.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nA(i,n){const o={},a=u(i,["force"]);return n!==void 0&&a!=null&&c(n,["_query","force"],a),o}function iA(i){const n={},o=u(i,["name"]);o!=null&&c(n,["_url","name"],o);const a=u(i,["config"]);return a!=null&&nA(a,n),n}function oA(i){const n={},o=u(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function lA(i,n){const o={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function aA(i){const n={},o=u(i,["parent"]);o!=null&&c(n,["_url","parent"],o);const a=u(i,["config"]);return a!=null&&lA(a,n),n}function sA(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(n,["documents"],f)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rA extends $n{constructor(n){super(),this.apiClient=n,this.list=async o=>new lo(Zn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=oA(n);return f=j("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(n){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=iA(n);r=j("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=aA(n);return f=j("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=sA(y),v=new H0;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uA extends $n{constructor(n,o=new rA(n)){super(),this.apiClient=n,this.documents=o,this.list=async(a={})=>new lo(Zn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=j_(n);return f=j("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=nC(n);return f=j("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(n){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=tC(n);r=j("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=rC(n);return f=j("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=uC(y),v=new q0;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=cC(n);return f=j("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=fC(y),v=new P0;return Object.assign(v,h),v})}}async importFile(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=lC(n);return f=j("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=oC(y),v=new Cc;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return bg=i.randomUUID.bind(i),i.randomUUID();const n=new Uint8Array(1),o=i?()=>i.getRandomValues(n)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const cA=()=>bg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hc(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const gc=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const n=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(n.stack=i.stack),i.cause&&!n.cause&&(n.cause=i.cause),i.name&&(n.name=i.name),n}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pn extends Error{}class Vt extends pn{constructor(n,o,a,r){super(`${Vt.makeMessage(n,o,a)}`),this.status=n,this.headers=r,this.error=o}static makeMessage(n,o,a){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return n&&r?`${n} ${r}`:n?`${n} status code (no body)`:r||"(no status code or body)"}static generate(n,o,a,r){if(!n||!r)return new zs({message:a,cause:gc(o)});const f=o;return n===400?new Ig(n,f,a,r):n===401?new xg(n,f,a,r):n===403?new wg(n,f,a,r):n===404?new Dg(n,f,a,r):n===409?new Ug(n,f,a,r):n===422?new Lg(n,f,a,r):n===429?new Gg(n,f,a,r):n>=500?new Vg(n,f,a,r):new Vt(n,f,a,r)}}class yc extends Vt{constructor({message:n}={}){super(void 0,void 0,n||"Request was aborted.",void 0)}}class zs extends Vt{constructor({message:n,cause:o}){super(void 0,void 0,n||"Connection error.",void 0),o&&(this.cause=o)}}class Ng extends zs{constructor({message:n}={}){super({message:n??"Request timed out."})}}class Ig extends Vt{}class xg extends Vt{}class wg extends Vt{}class Dg extends Vt{}class Ug extends Vt{}class Lg extends Vt{}class Gg extends Vt{}class Vg extends Vt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fA=/^[a-z][a-z0-9+.-]*:/i,dA=i=>fA.test(i);let vc=i=>(vc=Array.isArray,vc(i));const pA=vc;let mA=pA;const Jh=mA;function hA(i){if(!i)return!0;for(const n in i)return!1;return!0}function gA(i,n){return Object.prototype.hasOwnProperty.call(i,n)}const yA=(i,n)=>{if(typeof n!="number"||!Number.isInteger(n))throw new pn(`${i} must be an integer`);if(n<0)throw new pn(`${i} must be a positive integer`);return n},vA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SA=i=>new Promise(n=>setTimeout(n,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ko="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const EA=()=>{var i,n,o,a,r;const f=TA();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ko,"X-Stainless-OS":Kh(Deno.build.os),"X-Stainless-Arch":Yh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(n=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&n!==void 0?n:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ko,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ko,"X-Stainless-OS":Kh((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Yh((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=_A();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ko,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ko,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function _A(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:n,pattern:o}of i){const a=o.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,p=a[3]||0;return{browser:n,version:`${r}.${f}.${p}`}}}return null}const Yh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Kh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Ms;const CA=()=>Ms??(Ms=EA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Hg(...i){const n=globalThis.ReadableStream;if(typeof n>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new n(...i)}function RA(i){let n=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Hg({start(){},async pull(o){const{done:a,value:r}=await n.next();a?o.close():o.enqueue(r)},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}function qg(i){if(i[Symbol.asyncIterator])return i;const n=i.getReader();return{async next(){try{const o=await n.read();return o!=null&&o.done&&n.releaseLock(),o}catch(o){throw n.releaseLock(),o}},async return(){const o=n.cancel();return n.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function MA(i){var n,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(n=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(n));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bA=({headers:i,body:n})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(n)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pg=()=>{var i;if(typeof File>"u"){const{process:n}=globalThis,o=typeof((i=n==null?void 0:n.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(n.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ic(i,n,o){return Pg(),new File(i,n??"unknown_file",o)}function NA(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const IA=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Og=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",xA=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Og(i),wA=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function DA(i,n,o){if(Pg(),i=await i,xA(i))return i instanceof File?i:ic([await i.arrayBuffer()],i.name);if(wA(i)){const r=await i.blob();return n||(n=new URL(i.url).pathname.split(/[\\/]/).pop()),ic(await Sc(r),n,o)}const a=await Sc(i);if(n||(n=NA(i)),!(o!=null&&o.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return ic(a,n,o)}async function Sc(i){var n,o,a,r,f;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Og(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(IA(i))try{for(var g=!0,y=Tn(i),h;h=await y.next(),n=h.done,!n;g=!0){r=h.value,g=!1;const v=r;p.push(...await Sc(v))}}catch(v){o={error:v}}finally{try{!g&&!n&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}else{const v=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${UA(i)}`)}return p}function UA(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kg{constructor(n){this._client=n}}kg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Xh=Object.freeze(Object.create(null)),LA=(i=zg)=>(function(o,...a){if(o.length===1)return o[0];let r=!1;const f=[],p=o.reduce((v,T,E)=>{var A,I,V;/[?#]/.test(T)&&(r=!0);const U=a[E];let B=(r?encodeURIComponent:i)(""+U);return E!==a.length&&(U==null||typeof U=="object"&&U.toString===((V=Object.getPrototypeOf((I=Object.getPrototypeOf((A=U.hasOwnProperty)!==null&&A!==void 0?A:Xh))!==null&&I!==void 0?I:Xh))===null||V===void 0?void 0:V.toString))&&(B=U+"",f.push({start:v.length+T.length,length:B.length,error:`Value of type ${Object.prototype.toString.call(U).slice(8,-1)} is not a valid path parameter`})),v+T+(E===a.length?"":B)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)f.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(f.sort((v,T)=>v.start-T.start),f.length>0){let v=0;const T=f.reduce((E,A)=>{const I=" ".repeat(A.start-v),V="^".repeat(A.length);return v=A.start+A.length,E+I+V},"");throw new pn(`Path parameters result in path with invalid segments:
${f.map(E=>E.error).join(`
`)}
${p}
${T}`)}return p}),bs=LA(zg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bg extends kg{create(n,o){var a;const{api_version:r=this._client.apiVersion}=n,f=Vs(n,["api_version"]);if("model"in f&&"agent_config"in f)throw new pn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new pn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(bs`/${r}/interactions`,Object.assign(Object.assign({body:f},o),{stream:(a=n.stream)!==null&&a!==void 0?a:!1}))}delete(n,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(bs`/${r}/interactions/${n}`,a)}cancel(n,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(bs`/${r}/interactions/${n}/cancel`,a)}get(n,o={},a){var r;const f=o??{},{api_version:p=this._client.apiVersion}=f,g=Vs(f,["api_version"]);return this._client.get(bs`/${p}/interactions/${n}`,Object.assign(Object.assign({query:g},a),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}Bg._key=Object.freeze(["interactions"]);class Fg extends Bg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GA(i){let n=0;for(const r of i)n+=r.length;const o=new Uint8Array(n);let a=0;for(const r of i)o.set(r,a),a+=r.length;return o}let Ns;function xc(i){let n;return(Ns??(n=new globalThis.TextEncoder,Ns=n.encode.bind(n)))(i)}let Is;function Qh(i){let n;return(Is??(n=new globalThis.TextDecoder,Is=n.decode.bind(n)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bs{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(n){if(n==null)return[];const o=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?xc(n):n;this.buffer=GA([this.buffer,o]);const a=[];let r;for(;(r=VA(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Qh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=Qh(this.buffer.subarray(0,f));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Bs.NEWLINE_CHARS=new Set([`
`,"\r"]);Bs.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function VA(i,n){for(let r=n??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function HA(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hs={off:0,error:200,warn:300,info:400,debug:500},Zh=(i,n,o)=>{if(i){if(gA(Hs,i))return i;Gt(o).warn(`${n} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Hs))}`)}};function ta(){}function xs(i,n,o){return!n||Hs[i]>Hs[o]?ta:n[i].bind(n)}const qA={error:ta,warn:ta,info:ta,debug:ta};let $h=new WeakMap;function Gt(i){var n;const o=i.logger,a=(n=i.logLevel)!==null&&n!==void 0?n:"off";if(!o)return qA;const r=$h.get(o);if(r&&r[0]===a)return r[1];const f={error:xs("error",o,a),warn:xs("warn",o,a),info:xs("info",o,a),debug:xs("debug",o,a)};return $h.set(o,[a,f]),f}const oo=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([n,o])=>[n,n.toLowerCase()==="x-goog-api-key"||n.toLowerCase()==="authorization"||n.toLowerCase()==="cookie"||n.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bo{constructor(n,o,a){this.iterator=n,this.controller=o,this.client=a}static fromSSEResponse(n,o,a){let r=!1;const f=a?Gt(a):console;function p(){return Sn(this,arguments,function*(){var y,h,v,T;if(r)throw new pn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,I=Tn(PA(n,o)),V;V=yield de(I.next()),y=V.done,!y;A=!0){T=V.value,A=!1;const U=T;if(!E)if(U.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield de(JSON.parse(U.data))}catch(B){throw f.error("Could not parse message into JSON:",U.data),f.error("From chunk:",U.raw),B}}}catch(U){h={error:U}}finally{try{!A&&!y&&(v=I.return)&&(yield de(v.call(I)))}finally{if(h)throw h.error}}E=!0}catch(U){if(hc(U))return yield de(void 0);throw U}finally{E||o.abort()}})}return new Bo(p,o,a)}static fromReadableStream(n,o,a){let r=!1;function f(){return Sn(this,arguments,function*(){var y,h,v,T;const E=new Bs,A=qg(n);try{for(var I=!0,V=Tn(A),U;U=yield de(V.next()),y=U.done,!y;I=!0){T=U.value,I=!1;const B=T;for(const $ of E.decode(B))yield yield de($)}}catch(B){h={error:B}}finally{try{!I&&!y&&(v=V.return)&&(yield de(v.call(V)))}finally{if(h)throw h.error}}for(const B of E.flush())yield yield de(B)})}function p(){return Sn(this,arguments,function*(){var y,h,v,T;if(r)throw new pn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,I=Tn(f()),V;V=yield de(I.next()),y=V.done,!y;A=!0){T=V.value,A=!1;const U=T;E||U&&(yield yield de(JSON.parse(U)))}}catch(U){h={error:U}}finally{try{!A&&!y&&(v=I.return)&&(yield de(v.call(I)))}finally{if(h)throw h.error}}E=!0}catch(U){if(hc(U))return yield de(void 0);throw U}finally{E||o.abort()}})}return new Bo(p,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const n=[],o=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=a.next();n.push(p),o.push(p)}return f.shift()}});return[new Bo(()=>r(n),this.controller,this.client),new Bo(()=>r(o),this.controller,this.client)]}toReadableStream(){const n=this;let o;return Hg({async start(){o=n[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await o.next();if(f)return a.close();const p=xc(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function PA(i,n){return Sn(this,arguments,function*(){var a,r,f,p;if(!i.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new pn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new pn("Attempted to iterate over a response with no body");const g=new kA,y=new Bs,h=qg(i.body);try{for(var v=!0,T=Tn(OA(h)),E;E=yield de(T.next()),a=E.done,!a;v=!0){p=E.value,v=!1;const A=p;for(const I of y.decode(A)){const V=g.decode(I);V&&(yield yield de(V))}}}catch(A){r={error:A}}finally{try{!v&&!a&&(f=T.return)&&(yield de(f.call(T)))}finally{if(r)throw r.error}}for(const A of y.flush()){const I=g.decode(A);I&&(yield yield de(I))}})}function OA(i){return Sn(this,arguments,function*(){var o,a,r,f;let p=new Uint8Array;try{for(var g=!0,y=Tn(i),h;h=yield de(y.next()),o=h.done,!o;g=!0){f=h.value,g=!1;const v=f;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?xc(v):v;let E=new Uint8Array(p.length+T.length);E.set(p),E.set(T,p.length),p=E;let A;for(;(A=HA(p))!==-1;)yield yield de(p.slice(0,A)),p=p.slice(A)}}catch(v){a={error:v}}finally{try{!g&&!o&&(r=y.return)&&(yield de(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield de(p))})}class kA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(n){if(n.endsWith("\r")&&(n=n.substring(0,n.length-1)),!n){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(n),n.startsWith(":"))return null;let[o,a,r]=zA(n,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function zA(i,n){const o=i.indexOf(n);return o!==-1?[i.substring(0,o),n,i.substring(o+n.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function BA(i,n){const{response:o,requestLogID:a,retryOfRequestLogID:r,startTime:f}=n,p=await(async()=>{var g;if(n.options.stream)return Gt(i).debug("response",o.status,o.url,o.headers,o.body),n.options.__streamClass?n.options.__streamClass.fromSSEResponse(o,n.controller,i):Bo.fromSSEResponse(o,n.controller,i);if(o.status===204)return null;if(n.options.__binaryResponse)return o;const y=o.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?o.headers.get("content-length")==="0"?void 0:await o.json():await o.text()})();return Gt(i).debug(`[${a}] response parsed`,oo({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wc extends Promise{constructor(n,o,a=BA){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=a,this.client=n}_thenUnwrap(n){return new wc(this.client,this.responsePromise,async(o,a)=>n(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(n=>n.response)}async withResponse(){const[n,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:n,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(n=>this.parseResponse(this.client,n))),this.parsedPromise}then(n,o){return this.parse().then(n,o)}catch(n){return this.parse().catch(n)}finally(n){return this.parse().finally(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jg=Symbol("brand.privateNullableHeaders");function*FA(i){if(!i)return;if(Jg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const f of r)yield[f,null];return}let n=!1,o;i instanceof Headers?o=i.entries():Jh(i)?o=i:(n=!0,o=Object.entries(i??{}));for(let a of o){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Jh(a[1])?a[1]:[a[1]];let p=!1;for(const g of f)g!==void 0&&(n&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const jl=i=>{const n=new Headers,o=new Set;for(const a of i){const r=new Set;for(const[f,p]of FA(a)){const g=f.toLowerCase();r.has(g)||(n.delete(f),r.add(g)),p===null?(n.delete(f),o.add(g)):(n.append(f,p),o.delete(g))}}return{[Jg]:!0,values:n,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oc=i=>{var n,o,a,r,f,p;if(typeof globalThis.process<"u")return(a=(o=(n=d0)===null||n===void 0?void 0:n[i])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yg;class Fs{constructor(n){var o,a,r,f,p,g,y,{baseURL:h=oc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=oc("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:T="v1beta"}=n,E=Vs(n,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:v,apiVersion:T},E),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(a=A.timeout)!==null&&a!==void 0?a:Fs.DEFAULT_TIMEOUT,this.logger=(r=A.logger)!==null&&r!==void 0?r:console;const I="warn";this.logLevel=I,this.logLevel=(p=(f=Zh(A.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Zh(oc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:I,this.fetchOptions=A.fetchOptions,this.maxRetries=(g=A.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=A.fetch)!==null&&y!==void 0?y:AA(),this.encoder=bA,this._options=A,this.apiKey=v,this.apiVersion=T,this.clientAdapter=A.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:o}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){const o=jl([n.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return jl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return jl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new pn(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ko}`}defaultIdempotencyKey(){return`stainless-node-retry-${cA()}`}makeStatusError(n,o,a,r){return Vt.generate(n,o,a,r)}buildURL(n,o,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=dA(n)?new URL(n):new URL(r+(r.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),p=this.defaultQuery();return hA(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(f.search=this.stringifyQuery(o)),f.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){const o=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(n,{url:o,options:a}){}get(n,o){return this.methodRequest("get",n,o)}post(n,o){return this.methodRequest("post",n,o)}patch(n,o){return this.methodRequest("patch",n,o)}put(n,o){return this.methodRequest("put",n,o)}delete(n,o){return this.methodRequest("delete",n,o)}methodRequest(n,o,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:n,path:o},r)))}request(n,o=null){return new wc(this,this.makeRequest(n,o,void 0))}async makeRequest(n,o,a){var r,f,p;const g=await n,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:h,url:v,timeout:T}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(h,{url:v,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=a===void 0?"":`, retryOf: ${a}`,I=Date.now();if(Gt(this).debug(`[${E}] sending request`,oo({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:h.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new yc;const V=new AbortController,U=await this.fetchWithTimeout(v,h,T,V).catch(gc),B=Date.now();if(U instanceof globalThis.Error){const J=`retrying, ${o} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new yc;const X=hc(U)||/timed? ?out/i.test(String(U)+("cause"in U?String(U.cause):""));if(o)return Gt(this).info(`[${E}] connection ${X?"timed out":"failed"} - ${J}`),Gt(this).debug(`[${E}] connection ${X?"timed out":"failed"} (${J})`,oo({retryOfRequestLogID:a,url:v,durationMs:B-I,message:U.message})),this.retryRequest(g,o,a??E);throw Gt(this).info(`[${E}] connection ${X?"timed out":"failed"} - error; no more retries left`),Gt(this).debug(`[${E}] connection ${X?"timed out":"failed"} (error; no more retries left)`,oo({retryOfRequestLogID:a,url:v,durationMs:B-I,message:U.message})),X?new Ng:new zs({cause:U})}const $=`[${E}${A}] ${h.method} ${v} ${U.ok?"succeeded":"failed"} with status ${U.status} in ${B-I}ms`;if(!U.ok){const J=await this.shouldRetry(U);if(o&&J){const oe=`retrying, ${o} attempts remaining`;return await MA(U.body),Gt(this).info(`${$} - ${oe}`),Gt(this).debug(`[${E}] response error (${oe})`,oo({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,durationMs:B-I})),this.retryRequest(g,o,a??E,U.headers)}const X=J?"error; no more retries left":"error; not retryable";Gt(this).info(`${$} - ${X}`);const z=await U.text().catch(oe=>gc(oe).message),ae=vA(z),Q=ae?void 0:z;throw Gt(this).debug(`[${E}] response error (${X})`,oo({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,message:Q,durationMs:Date.now()-I})),this.makeStatusError(U.status,ae,Q,U.headers)}return Gt(this).info($),Gt(this).debug(`[${E}] response start`,oo({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,durationMs:B-I})),{response:U,options:g,controller:V,requestLogID:E,retryOfRequestLogID:a,startTime:I}}async fetchWithTimeout(n,o,a,r){const f=o||{},{signal:p,method:g}=f,y=Vs(f,["signal","method"]),h=r.abort.bind(r);p&&p.addEventListener("abort",h,{once:!0});const v=setTimeout(h,a),T=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:r.signal},T?{duplex:"half"}:{}),{method:"GET"}),y);g&&(E.method=g.toUpperCase());try{return await this.fetch.call(void 0,n,E)}finally{clearTimeout(v)}}async shouldRetry(n){const o=n.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,o,a,r){var f;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(p=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const h=parseFloat(y);Number.isNaN(h)?p=Date.parse(y)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(f=n.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,h)}return await SA(p),this.makeRequest(n,o-1,a)}calculateDefaultRetryTimeoutMillis(n,o){const f=o-n,p=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(n,{retryCount:o=0}={}){var a,r,f;const p=Object.assign({},n),{method:g,path:y,query:h,defaultBaseURL:v}=p,T=this.buildURL(y,h,v);"timeout"in p&&yA("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:A}=this.buildBody({options:p}),I=await this.buildHeaders({options:n,method:g,bodyHeaders:E,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:I},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:T,timeout:p.timeout}}async buildHeaders({options:n,method:o,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&o!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=n.idempotencyKey);const p=await this.authHeaders(n);let g=jl([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),CA()),this._options.defaultHeaders,a,n.headers,p]);return this.validateHeaders(g),g.values}buildBody({options:{body:n,headers:o}}){if(!n)return{bodyHeaders:void 0,body:void 0};const a=jl([o]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&a.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:RA(n)}:this.encoder({body:n,headers:a})}}Fs.DEFAULT_TIMEOUT=6e4;class Et extends Fs{constructor(){super(...arguments),this.interactions=new Fg(this)}}Yg=Et;Et.GeminiNextGenAPIClient=Yg;Et.GeminiNextGenAPIClientError=pn;Et.APIError=Vt;Et.APIConnectionError=zs;Et.APIConnectionTimeoutError=Ng;Et.APIUserAbortError=yc;Et.NotFoundError=Dg;Et.ConflictError=Ug;Et.RateLimitError=Gg;Et.BadRequestError=Ig;Et.AuthenticationError=xg;Et.InternalServerError=Vg;Et.PermissionDeniedError=wg;Et.UnprocessableEntityError=Lg;Et.toFile=DA;Et.Interactions=Fg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JA(i,n){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function YA(i,n){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function KA(i,n){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function XA(i,n){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function QA(i,n,o){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(n!==void 0&&r!=null&&c(n,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);n!==void 0&&f!=null&&c(n,["tuningTask","hyperparameters","epochCount"],f);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(u(i,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(u(i,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);n!==void 0&&g!=null&&c(n,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(n!==void 0&&y!=null&&c(n,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(u(i,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(u(i,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(u(i,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(u(i,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return a}function ZA(i,n,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const z=u(i,["validationDataset"]);n!==void 0&&z!=null&&c(n,["supervisedTuningSpec"],lc(z))}else if(r==="PREFERENCE_TUNING"){const z=u(i,["validationDataset"]);n!==void 0&&z!=null&&c(n,["preferenceOptimizationSpec"],lc(z))}else if(r==="DISTILLATION"){const z=u(i,["validationDataset"]);n!==void 0&&z!=null&&c(n,["distillationSpec"],lc(z))}const f=u(i,["tunedModelDisplayName"]);n!==void 0&&f!=null&&c(n,["tunedModelDisplayName"],f);const p=u(i,["description"]);n!==void 0&&p!=null&&c(n,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const z=u(i,["epochCount"]);n!==void 0&&z!=null&&c(n,["supervisedTuningSpec","hyperParameters","epochCount"],z)}else if(g==="PREFERENCE_TUNING"){const z=u(i,["epochCount"]);n!==void 0&&z!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],z)}else if(g==="DISTILLATION"){const z=u(i,["epochCount"]);n!==void 0&&z!=null&&c(n,["distillationSpec","hyperParameters","epochCount"],z)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const z=u(i,["learningRateMultiplier"]);n!==void 0&&z!=null&&c(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],z)}else if(y==="PREFERENCE_TUNING"){const z=u(i,["learningRateMultiplier"]);n!==void 0&&z!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],z)}else if(y==="DISTILLATION"){const z=u(i,["learningRateMultiplier"]);n!==void 0&&z!=null&&c(n,["distillationSpec","hyperParameters","learningRateMultiplier"],z)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const z=u(i,["exportLastCheckpointOnly"]);n!==void 0&&z!=null&&c(n,["supervisedTuningSpec","exportLastCheckpointOnly"],z)}else if(h==="PREFERENCE_TUNING"){const z=u(i,["exportLastCheckpointOnly"]);n!==void 0&&z!=null&&c(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],z)}else if(h==="DISTILLATION"){const z=u(i,["exportLastCheckpointOnly"]);n!==void 0&&z!=null&&c(n,["distillationSpec","exportLastCheckpointOnly"],z)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const z=u(i,["adapterSize"]);n!==void 0&&z!=null&&c(n,["supervisedTuningSpec","hyperParameters","adapterSize"],z)}else if(v==="PREFERENCE_TUNING"){const z=u(i,["adapterSize"]);n!==void 0&&z!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],z)}else if(v==="DISTILLATION"){const z=u(i,["adapterSize"]);n!==void 0&&z!=null&&c(n,["distillationSpec","hyperParameters","adapterSize"],z)}let T=u(o,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const z=u(i,["tuningMode"]);n!==void 0&&z!=null&&c(n,["supervisedTuningSpec","tuningMode"],z)}const E=u(i,["customBaseModel"]);n!==void 0&&E!=null&&c(n,["customBaseModel"],E);let A=u(o,["config","method"]);if(A===void 0&&(A="SUPERVISED_FINE_TUNING"),A==="SUPERVISED_FINE_TUNING"){const z=u(i,["batchSize"]);n!==void 0&&z!=null&&c(n,["supervisedTuningSpec","hyperParameters","batchSize"],z)}let I=u(o,["config","method"]);if(I===void 0&&(I="SUPERVISED_FINE_TUNING"),I==="SUPERVISED_FINE_TUNING"){const z=u(i,["learningRate"]);n!==void 0&&z!=null&&c(n,["supervisedTuningSpec","hyperParameters","learningRate"],z)}const V=u(i,["labels"]);n!==void 0&&V!=null&&c(n,["labels"],V);const U=u(i,["beta"]);n!==void 0&&U!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","beta"],U);const B=u(i,["baseTeacherModel"]);n!==void 0&&B!=null&&c(n,["distillationSpec","baseTeacherModel"],B);const $=u(i,["tunedTeacherModelSource"]);n!==void 0&&$!=null&&c(n,["distillationSpec","tunedTeacherModelSource"],$);const J=u(i,["sftLossWeightMultiplier"]);n!==void 0&&J!=null&&c(n,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],J);const X=u(i,["outputUri"]);return n!==void 0&&X!=null&&c(n,["outputUri"],X),a}function $A(i,n){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&rR(f);const p=u(i,["config"]);return p!=null&&QA(p,o),o}function WA(i,n){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&uR(f,o,n);const p=u(i,["config"]);return p!=null&&ZA(p,o,n),o}function jA(i,n){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function eR(i,n){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function tR(i,n,o){const a={},r=u(i,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const f=u(i,["pageToken"]);n!==void 0&&f!=null&&c(n,["_query","pageToken"],f);const p=u(i,["filter"]);return n!==void 0&&p!=null&&c(n,["_query","filter"],p),a}function nR(i,n,o){const a={},r=u(i,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const f=u(i,["pageToken"]);n!==void 0&&f!=null&&c(n,["_query","pageToken"],f);const p=u(i,["filter"]);return n!==void 0&&p!=null&&c(n,["_query","filter"],p),a}function iR(i,n){const o={},a=u(i,["config"]);return a!=null&&tR(a,o),o}function oR(i,n){const o={},a=u(i,["config"]);return a!=null&&nR(a,o),o}function lR(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Kg(g))),c(o,["tuningJobs"],p)}return o}function aR(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Tc(g))),c(o,["tuningJobs"],p)}return o}function sR(i,n){const o={},a=u(i,["name"]);a!=null&&c(o,["model"],a);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function rR(i,n){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(o,["examples","examples"],r)}return o}function uR(i,n,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);n!==void 0&&p!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);n!==void 0&&p!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],p)}else if(r==="DISTILLATION"){const p=u(i,["gcsUri"]);n!==void 0&&p!=null&&c(n,["distillationSpec","promptDatasetUri"],p)}let f=u(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);n!==void 0&&p!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);n!==void 0&&p!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],p)}else if(f==="DISTILLATION"){const p=u(i,["vertexDatasetResource"]);n!==void 0&&p!=null&&c(n,["distillationSpec","promptDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Kg(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],ug(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(i,["description"]);v!=null&&c(o,["description"],v);const T=u(i,["baseModel"]);T!=null&&c(o,["baseModel"],T);const E=u(i,["_self"]);return E!=null&&c(o,["tunedModel"],sR(E)),o}function Tc(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],ug(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(i,["error"]);v!=null&&c(o,["error"],v);const T=u(i,["description"]);T!=null&&c(o,["description"],T);const E=u(i,["baseModel"]);E!=null&&c(o,["baseModel"],E);const A=u(i,["tunedModel"]);A!=null&&c(o,["tunedModel"],A);const I=u(i,["preTunedModel"]);I!=null&&c(o,["preTunedModel"],I);const V=u(i,["supervisedTuningSpec"]);V!=null&&c(o,["supervisedTuningSpec"],V);const U=u(i,["preferenceOptimizationSpec"]);U!=null&&c(o,["preferenceOptimizationSpec"],U);const B=u(i,["distillationSpec"]);B!=null&&c(o,["distillationSpec"],B);const $=u(i,["tuningDataStats"]);$!=null&&c(o,["tuningDataStats"],$);const J=u(i,["encryptionSpec"]);J!=null&&c(o,["encryptionSpec"],J);const X=u(i,["partnerModelTuningSpec"]);X!=null&&c(o,["partnerModelTuningSpec"],X);const z=u(i,["customBaseModel"]);z!=null&&c(o,["customBaseModel"],z);const ae=u(i,["experiment"]);ae!=null&&c(o,["experiment"],ae);const Q=u(i,["labels"]);Q!=null&&c(o,["labels"],Q);const te=u(i,["outputUri"]);te!=null&&c(o,["outputUri"],te);const oe=u(i,["pipelineJob"]);oe!=null&&c(o,["pipelineJob"],oe);const pe=u(i,["serviceAccount"]);pe!=null&&c(o,["serviceAccount"],pe);const Ne=u(i,["tunedModelDisplayName"]);Ne!=null&&c(o,["tunedModelDisplayName"],Ne);const Ie=u(i,["veoTuningSpec"]);return Ie!=null&&c(o,["veoTuningSpec"],Ie),o}function cR(i,n){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(i,["done"]);p!=null&&c(o,["done"],p);const g=u(i,["error"]);return g!=null&&c(o,["error"],g),o}function lc(i,n){const o={},a=u(i,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fR extends $n{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new lo(Zn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:sc.JOB_STATE_QUEUED}}}}async getInternal(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=eR(n);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Tc(v))}else{const h=jA(n);return g=j("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Kg(v))}}async listInternal(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=oR(n);return g=j("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=aR(v),E=new Ah;return Object.assign(E,T),E})}else{const h=iR(n);return g=j("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=lR(v),E=new Ah;return Object.assign(E,T),E})}}async cancel(n){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=YA(n);return g=j("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=XA(v),E=new Rh;return Object.assign(E,T),E})}else{const h=JA(n);return g=j("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=KA(v),E=new Rh;return Object.assign(E,T),E})}}async tuneInternal(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=WA(n,n);return f=j("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Tc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=$A(n);return f=j("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>cR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dR{async download(n,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const pR=1024*1024*8,mR=3,hR=1e3,gR=2,qs="x-goog-upload-status";async function yR(i,n,o){var a;const r=await Xg(i,n,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[qs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function vR(i,n,o){var a;const r=await Xg(i,n,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[qs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=ig(f),g=new Ac;return Object.assign(g,p),g}async function Xg(i,n,o){var a,r;let f=0,p=0,g=new uc(new Response),y="upload";for(f=i.size;p<f;){const h=Math.min(pR,f-p),v=i.slice(p,p+h);p+h>=f&&(y+=", finalize");let T=0,E=hR;for(;T<mR&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[qs]));)T++,await TR(E),E=E*gR;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[qs])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function SR(i){return{size:i.size,type:i.type}}function TR(i){return new Promise(n=>setTimeout(n,i))}class ER{async upload(n,o,a){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await yR(n,o,a)}async uploadToFileSearchStore(n,o,a){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await vR(n,o,a)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await SR(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _R{create(n,o,a){return new CR(n,o,a)}}class CR{constructor(n,o,a){this.url=n,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wh="x-goog-api-key";class AR{constructor(n){this.apiKey=n}async addAuthHeaders(n,o){if(n.get(Wh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(Wh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RR="gl-node/";class MR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n!=null&&n.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new Et({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n==null?void 0:n.timeout});return this._interactions=o.interactions,this._interactions}constructor(n){var o;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=n.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=n.apiKey;const a=g0(n.httpOptions,n.vertexai,void 0,void 0);a&&(n.httpOptions?n.httpOptions.baseUrl=a:n.httpOptions={baseUrl:a}),this.apiVersion=n.apiVersion,this.httpOptions=n.httpOptions;const r=new AR(this.apiKey);this.apiClient=new SC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:RR+"web",uploader:new ER,downloader:new dR}),this.models=new qC(this.apiClient),this.live=new DC(this.apiClient,r,new _R),this.batches=new YS(this.apiClient),this.chats=new bT(this.models,this.apiClient),this.caches=new AT(this.apiClient),this.files=new PT(this.apiClient),this.operations=new PC(this.apiClient),this.authTokens=new tA(this.apiClient),this.tunings=new fR(this.apiClient),this.fileSearchStores=new uA(this.apiClient)}}const bR="/Gemini-3-Dialogue-Director/video-assets",NR="/Gemini-3-Dialogue-Director/image-assets",jh={man:Array.from({length:19},(i,n)=>({number:n+1,name:`man${n+1}`})).filter(i=>i.number!==4||!0),woman:Array.from({length:20},(i,n)=>({number:n+1,name:`woman${n+1}`}))},IR=["David","Ethan","Andre","Lucas","Marco","James","Omar","Leo","Richard","Kai","Samuel","Daniel","Chris","Alex","Jordan","Ryan","Ben","Noah","Elijah"],xR=["Olivia","Sophia","Ava","Isabella","Mia","Chloe","Elena","Layla","Zara","Evelyn","Grace","Lily","Hannah","Zoe","Nora","Aria","Stella","Maya","Emily"],Qg=[{name:"Achird",description:"Male (Achird)"},{name:"Algenib",description:"Male (Algenib)"},{name:"Algieba",description:"Male (Algieba)"},{name:"Alnilam",description:"Male (Alnilam)"},{name:"Charon",description:"Male (Charon)"},{name:"Enceladus",description:"Male (Enceladus)"},{name:"Fenrir",description:"Male (Fenrir)"},{name:"Iapetus",description:"Male (Iapetus)"},{name:"Orus",description:"Male (Orus)"},{name:"Puck",description:"Male (Puck)"},{name:"Rasalgethi",description:"Male (Rasalgethi)"},{name:"Sadachbia",description:"Male (Sadachbia)"},{name:"Sadaltager",description:"Male (Sadaltager)"},{name:"Schedar",description:"Male (Schedar)"},{name:"Umbriel",description:"Male (Umbriel)"},{name:"Zubenelgenubi",description:"Male (Zubenelgenubi)"}],Zg=[{name:"Achernar",description:"Female (Achernar)"},{name:"Aoede",description:"Female (Aoede)"},{name:"Autonoe",description:"Female (Autonoe)"},{name:"Callirrhoe",description:"Female (Callirrhoe)"},{name:"Despina",description:"Female (Despina)"},{name:"Erinome",description:"Female (Erinome)"},{name:"Gacrux",description:"Female (Gacrux)"},{name:"Kore",description:"Female (Kore)"},{name:"Laomedeia",description:"Female (Laomedeia)"},{name:"Leda",description:"Female (Leda)"},{name:"Pulcherrima",description:"Female (Pulcherrima)"},{name:"Sulafat",description:"Female (Sulafat)"},{name:"Vindemiatrix",description:"Female (Vindemiatrix)"},{name:"Zephyr",description:"Female (Zephyr)"}],gt=i=>({male:Qg.map(n=>({name:`${i}-Chirp3-HD-${n.name}`,description:n.description})),female:Zg.map(n=>({name:`${i}-Chirp3-HD-${n.name}`,description:n.description}))}),ea={"en-US":{description:"English (US)",male:[{name:"en-US-Studio-M",description:"Male (Studio M)"},...gt("en-US").male],female:[{name:"en-US-Studio-O",description:"Female (Studio O)"},...gt("en-US").female]},"en-GB":{description:"English (UK)",male:[{name:"en-GB-Studio-B",description:"Male (Studio B)"},...gt("en-GB").male],female:[{name:"en-GB-Studio-A",description:"Female (Studio A)"},...gt("en-GB").female]},"es-ES":{description:"Spanish (Spain)",male:[{name:"es-ES-Neural2-B",description:"Male (Neural2 B)"},...gt("es-ES").male],female:[{name:"es-ES-Neural2-F",description:"Female (Neural2 F)"},...gt("es-ES").female]},"es-US":{description:"Spanish (US)",...gt("es-US")},"fr-FR":{description:"French (France)",male:[{name:"fr-FR-Studio-D",description:"Male (Studio D)"},...gt("fr-FR").male],female:[{name:"fr-FR-Studio-A",description:"Female (Studio A)"},...gt("fr-FR").female]},"fr-CA":{description:"French (Canada)",...gt("fr-CA")},"de-DE":{description:"German (Germany)",male:[{name:"de-DE-Studio-B",description:"Male (Studio B)"},...gt("de-DE").male],female:[{name:"de-DE-Studio-A",description:"Female (Studio A)"},...gt("de-DE").female]},"it-IT":{description:"Italian (Italy)",...gt("it-IT")},"pt-BR":{description:"Portuguese (Brazil)",...gt("pt-BR")},"ja-JP":{description:"Japanese (Japan)",male:[{name:"ja-JP-Wavenet-D",description:"Male (Wavenet D)"},...gt("ja-JP").male],female:[{name:"ja-JP-Wavenet-C",description:"Female (Wavenet C)"},...gt("ja-JP").female]},"cmn-CN":{description:"Mandarin Chinese",...gt("cmn-CN")},"hi-IN":{description:"Hindi (India)",male:[{name:"hi-IN-Wavenet-B",description:"Male (Wavenet B)"},...gt("hi-IN").male],female:[{name:"hi-IN-Wavenet-A",description:"Female (Wavenet A)"},...gt("hi-IN").female]},"mr-IN":{description:"Marathi (India)",...gt("mr-IN")},"ar-XA":{description:"Arabic",male:Qg.map(i=>({name:`ar-XA-Chirp3-HD-${i.name}`,description:i.description})),female:Zg.map(i=>({name:`ar-XA-Chirp3-HD-${i.name}`,description:i.description}))}},Yo=({id:i,label:n,type:o="text",value:a,onChange:r,placeholder:f,rows:p,accept:g,disabled:y,className:h})=>G.jsxs("div",{children:[G.jsx("label",{htmlFor:i,className:"block text-sm font-medium text-gray-700",children:n}),o==="textarea"?G.jsx("textarea",{id:i,rows:p,value:a,onChange:r,placeholder:f,disabled:y,className:`mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${y?"bg-gray-100":""} ${h}`,"aria-label":n}):G.jsx("input",{type:o,id:i,value:a,onChange:r,placeholder:f,accept:g,disabled:y,className:`mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${y?"bg-gray-100":""} ${h}`,"aria-label":n})]}),fn=({id:i,label:n,value:o,onChange:a,options:r,disabled:f,className:p})=>{const g=()=>{const y={};return r.forEach(h=>{h.optgroup?(y[h.optgroup]||(y[h.optgroup]=[]),y[h.optgroup].push(h)):(y[""]||(y[""]=[]),y[""].push(h))}),Object.entries(y).map(([h,v])=>h?G.jsx("optgroup",{label:h,children:v.map(T=>G.jsx("option",{value:T.value,disabled:T.disabled,children:T.label},T.value))},h):v.map(T=>G.jsx("option",{value:T.value,disabled:T.disabled,children:T.label},T.value)))};return G.jsxs("div",{children:[G.jsx("label",{htmlFor:i,className:"block text-sm font-medium text-gray-700",children:n}),G.jsx("select",{id:i,value:o,onChange:a,disabled:f,className:`mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md ${f?"bg-gray-100":""} ${p}`,"aria-label":n,children:g()})]})},eg=({id:i,label:n,min:o,max:a,value:r,step:f,onChange:p,unit:g="",disabled:y})=>G.jsxs("div",{children:[G.jsxs("label",{htmlFor:i,className:"block text-sm font-medium text-gray-700",children:[n,": ",G.jsxs("span",{className:"font-semibold",children:[r.toFixed(g?1:0),g]})]}),G.jsx("input",{type:"range",id:i,min:o,max:a,value:r,step:f,onChange:p,disabled:y,className:`mt-1 w-full h-10 bg-gray-200 rounded-lg appearance-none cursor-pointer ${y?"opacity-50 cursor-not-allowed":""}`,"aria-label":n})]}),tg=({id:i,label:n,value:o,onChange:a,className:r,disabled:f})=>G.jsxs("div",{children:[G.jsx("label",{htmlFor:i,className:"block text-xs font-medium text-gray-600",children:n}),G.jsx("input",{type:"color",id:i,value:o,onChange:a,disabled:f,className:`mt-1 p-1 h-10 w-full block border border-gray-300 rounded-md cursor-pointer ${f?"opacity-50 cursor-not-allowed":""} ${r}`,"aria-label":n})]}),$g=({isOpen:i,onClose:n,title:o,children:a})=>i?G.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 overflow-y-auto h-full w-full z-50 flex justify-center items-center p-4",children:G.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6 m-auto",children:[G.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[G.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:o}),G.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close modal",children:G.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:G.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),G.jsx("div",{className:"mt-4 space-y-4",children:a})]})}):null,wR=({isOpen:i,onClose:n,isLoading:o,projectId:a,setProjectId:r,ttsApiKey:f,setTtsApiKey:p,vertexAccessToken:g,setVertexAccessToken:y,fillDefaultCredentials:h})=>G.jsx($g,{isOpen:i,onClose:n,title:"Manage Credentials",children:G.jsxs("div",{className:"space-y-4",children:[G.jsx(Yo,{id:"project_id_input_modal",label:"Google Cloud Project ID (Legacy for Vertex AI)",value:a,onChange:v=>r(v.target.value),placeholder:"e.g., PROJECT_ID-...",disabled:o}),G.jsx(Yo,{id:"tts_api_key_input_modal",label:"Text-to-Speech API Key",value:f,onChange:v=>p(v.target.value),placeholder:"Your Google TTS API Key...",disabled:o}),G.jsx(Yo,{id:"token_input_modal",label:"Vertex AI Access Token (Legacy for Vertex AI)",type:"textarea",rows:2,value:g,onChange:v=>y(v.target.value),placeholder:"Paste your gcloud auth print-access-token here...",disabled:o}),G.jsxs("div",{className:"flex justify-end pt-2",children:[G.jsx("button",{onClick:h,className:"px-4 py-2 text-sm font-medium text-white bg-gray-500 rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 mr-2",disabled:o,"aria-label":"Use default credentials",children:"Use Defaults"}),G.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-300",disabled:o,children:"Save & Close"})]})]})}),DR=({isOpen:i,onClose:n,isLoading:o,scriptPrompt:a,setScriptPrompt:r,modelId:f,setModelId:p,videoLength:g,setVideoLength:y,scriptLanguage:h,setScriptLanguage:v,scriptCategory:T,setScriptCategory:E,dialoguePace:A,setDialoguePace:I,fullPrompt:V,setFullPrompt:U,isInteractiveMode:B,setIsInteractiveMode:$,generatedScript:J,setGeneratedScript:X,handleScriptGenerationFunction:z,scriptLanguageOptions:ae})=>{const Q=async()=>{if(!a){alert("Please enter a Script Topic to generate a script.");return}try{const te=await z(V,f);X(te)}catch(te){console.error("Script generation failed in modal:",te),alert(`Script generation failed: ${te.message}`)}};return G.jsx($g,{isOpen:i,onClose:n,title:"Script Editor & AI Prompt",children:G.jsxs("div",{className:"space-y-4",children:[G.jsx(fn,{id:"model_select_modal",label:"AI Model for Script",value:f,onChange:te=>p(te.target.value),options:[{optgroup:"Gemini 3",value:"gemini-3-flash-preview",label:"Gemini 3 Flash (Preview)"},{optgroup:"Gemini 3",value:"gemini-3-pro-preview",label:"Gemini 3 Pro (Preview)"},{optgroup:"Gemini 2.5",value:"gemini-2.5-pro",label:"Gemini 2.5 Pro"},{optgroup:"Gemini 2.5",value:"gemini-2.5-flash",label:"Gemini 2.5 Flash"},{optgroup:"Gemini 2.5",value:"gemini-2.5-flash-lite-preview-06-17",label:"Gemini 2.5 Flash-Lite (Preview)"},{optgroup:"Gemini 2.0",value:"gemini-2.0-flash",label:"Gemini 2.0 Flash"},{optgroup:"Gemini 2.0",value:"gemini-2.0-flash-lite",label:"Gemini 2.0 Flash-Lite"}],disabled:o}),G.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[G.jsx(fn,{id:"script_category_select_modal",label:"Script Category",value:T,onChange:te=>E(te.target.value),options:[{value:"General",label:"General Conversation"},{value:"Educational",label:"Educational / Learning"},{value:"Podcast",label:"Podcast / Talk Show"},{value:"Interview",label:"Job Interview"},{value:"Debate",label:"Debate / Argument"},{value:"Storytelling",label:"Storytelling"}],disabled:o}),G.jsx(fn,{id:"script_language_select_modal",label:"Script Language",value:h,onChange:te=>v(te.target.value),options:ae,disabled:o})]}),G.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[G.jsx(fn,{id:"video_length_select_modal",label:"Video Length",value:g,onChange:te=>y(te.target.value),options:[{value:"2-6",label:"Snippet (2-6 lines)"},{value:"7-15",label:"Concise (7-15 lines)"},{value:"16-25",label:"Brief (16-25 lines)"},{value:"26-40",label:"Standard (26-40 lines)"},{value:"41-70",label:"Expanded (41-70 lines)"},{value:"71-110",label:"Detailed (71-110 lines)"},{value:"111-150",label:"Comprehensive (111-150 lines)"},{value:"151-179",label:"Extensive (151-179 lines)"},{value:"180-190",label:"Long (180-190 lines)"},{value:"191-250",label:"Deep Dive (191-250 lines)"}],disabled:o}),G.jsx(fn,{id:"dialogue_pace_select_modal",label:"Dialogue Pace / Turn Length",value:A,onChange:te=>I(te.target.value),options:[{value:"Quick",label:"Quick / Snappy (Short turns)"},{value:"Balanced",label:"Natural / Balanced"},{value:"Detailed",label:"Detailed / Explanatory (Longer turns)"}],disabled:o})]}),G.jsxs("div",{children:[G.jsx(Yo,{id:"script_prompt_input_modal",label:"Script Topic",type:"textarea",rows:2,value:a,onChange:te=>r(te.target.value),placeholder:"e.g., A brief, friendly argument about whether pineapple belongs on pizza.",disabled:o}),G.jsx("div",{className:"mt-3",children:G.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[G.jsx("input",{type:"checkbox",id:"interactive_mode_toggle_modal",checked:B,onChange:te=>$(te.target.checked),disabled:o,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),"Interactive Script Mode (Edit script before generating)"]})})]}),G.jsx(Yo,{id:"full_prompt_input_modal",label:"Full AI Prompt (Editable)",type:"textarea",rows:6,value:V,onChange:te=>U(te.target.value),disabled:o,className:"bg-gray-50"}),G.jsxs("div",{className:"flex justify-between items-center pt-2",children:[G.jsx("button",{onClick:Q,disabled:o||!a,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500","aria-label":"Generate script preview",children:o?"Generating Script...":"Generate Script (Preview)"}),G.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-300",disabled:o,children:"Save & Close"})]}),J&&G.jsxs("div",{className:"w-full p-4 bg-gray-50 border-2 border-dashed border-gray-200 rounded-lg",children:[G.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-2",children:"Generated Script Preview"}),G.jsx("textarea",{id:"script_text_area_modal",rows:8,className:"w-full text-sm text-gray-700 whitespace-pre-wrap font-sans bg-white p-3 rounded-md border border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 resize-y",value:J,onChange:te=>X(te.target.value),readOnly:!B,"aria-label":"Generated script editor"})]})]})})},UR=()=>{const i=K.useRef(null),n=K.useRef(null),o=K.useRef(null),a=K.useRef(null),[r,f]=K.useState(!1),[p,g]=K.useState(!1),[y,h]=K.useState(""),[v,T]=K.useState(""),[E,A]=K.useState(""),[I,V]=K.useState(""),[U,B]=K.useState(""),[$,J]=K.useState(""),[X,z]=K.useState("gemini-2.5-flash"),[ae,Q]=K.useState("2-6"),[te,oe]=K.useState("English"),[pe,Ne]=K.useState("General"),[Ie,Je]=K.useState("Balanced"),[xe,rt]=K.useState("16:9"),[H,Z]=K.useState(1),[ne,be]=K.useState("en-US"),[we,M]=K.useState(""),[O,W]=K.useState(""),[ee,me]=K.useState(!0),[Se,De]=K.useState(26),[yt,$e]=K.useState("#FFFFFF"),[In,ao]=K.useState("#FFFFFF"),[Di,ia]=K.useState("fade"),[Bt,so]=K.useState([]),[xn,oa]=K.useState([]),[jn,Ui]=K.useState(""),[wn,Li]=K.useState(""),[He,Zo]=K.useState(!1),[Nt,_t]=K.useState(""),[Gi,ro]=K.useState(""),[ei,la]=K.useState(null),[$o,Js]=K.useState(!1),[Vi,ti]=K.useState(""),Ct=K.useRef([]),it=K.useRef(null),Qe=K.useRef(null),It=K.useRef({man:null,woman:null}),St=K.useRef(null),ni=K.useRef({title:"",showSubtitles:!0,currentSubtitle:{text:"",speaker:"",startTime:0,duration:250},subtitleFontSize:26,subtitleStyles:{man:{text:"#FFFFFF"},woman:{text:"#FFFFFF"}},subtitleAnimation:"fade"}),jt=K.useRef(null),ii=K.useRef(null),oi=K.useRef(null),Ft=K.useRef(null),li=K.useCallback((b,F)=>{const Y=b==="man"?IR:xR;return F.map((ce,he)=>({label:Y[he]||`${b==="man"?"Man":"Woman"} ${ce.number}`,videoUrl:`${bR}/${ce.name}.mp4`,thumbnail:`${NR}/${ce.name}.jpg`}))},[]),Hi=K.useCallback(b=>{rt(b.target.value)},[]),Ys=K.useCallback(b=>{Z(parseFloat(b.target.value))},[]),aa=K.useCallback(b=>{be(b.target.value)},[]),Wo=K.useCallback(b=>{M(b.target.value)},[]),qi=K.useCallback(b=>{W(b.target.value)},[]),Ks=K.useCallback(b=>{me(b.target.checked)},[]),sa=K.useCallback(b=>{De(parseInt(b.target.value,10))},[]),ra=K.useCallback(b=>{$e(b.target.value)},[]),ua=K.useCallback(b=>{ao(b.target.value)},[]),jo=K.useCallback(b=>{ia(b.target.value)},[]),el=K.useCallback(b=>{J(b.target.value)},[]),tl=K.useCallback(()=>{const b=I,F=ae,Y=te,ce=pe,he=Ie;let se="";switch(F){case"2-6":se="between 2 and 6 lines";break;case"7-15":se="between 7 and 15 lines";break;case"16-25":se="between 16 and 25 lines";break;case"26-40":se="between 26 and 40 lines";break;case"41-70":se="between 41 and 70 lines";break;case"71-110":se="between 71 and 110 lines";break;case"111-150":se="between 111 and 150 lines";break;case"151-179":se="between 151 and 179 lines";break;case"180-190":se="between 180 and 190 lines";break;case"191-250":se="between 191 and 250 lines";break;default:se="a moderate number of lines"}let fe="";switch(ce){case"Educational":fe="Create an educational dialogue where one person explains complex concepts related to the topic to the other in a clear, engaging way. Use analogies if helpful.";break;case"Podcast":fe="Write a lively, casual podcast script. Include friendly banter, maybe a brief intro, and discuss the topic enthusiastically.";break;case"Interview":fe="Simulate a formal interview. One person is the interviewer asking insightful questions, and the other is the expert or candidate answering them.";break;case"Debate":fe="Write a civil but spirited debate. One person supports the topic/premise, while the other offers counter-arguments or a different perspective.";break;case"Storytelling":fe="The characters should be narrating or acting out a story related to the topic. It should feel narrative and descriptive through dialogue.";break;default:fe="Generate a natural, conversational dialogue between two people discussing the topic.";break}let ge="";switch(he){case"Quick":ge="Keep the conversation fast-paced and snappy. Speakers should use short sentences (1-2 sentences max per turn). Avoid long monologues. The goal is quick back-and-forth interaction.";break;case"Detailed":ge="Encourage detailed, in-depth responses. Speakers should use longer turns (paragraphs or multiple sentences of 5+ lines) to fully explain their thoughts or arguments. Do not be afraid of length per turn.";break;default:ge="Maintain a natural conversational rhythm. Use a mix of short reactions and moderate-length explanations (2-4 sentences). It should feel like a real chat with a good flow.";break}const ut=`${fe}

Strictly follow these style instructions:
Topic: "${b}".
Language: ${Y}.
Length Constraint: The script must be ${se} long in total.
Dialogue Style: ${ge}

Strictly follow this format for every line:
Man: [Text]
Woman: [Text]

Do not include any scene directions, sound effects, or parentheticals (like *laughs*). Your response must only contain the dialogue lines starting with "Man:" or "Woman:".`;B(ut)},[I,ae,te,pe,Ie]);K.useEffect(()=>{tl()},[I,ae,te,pe,Ie,tl]);const ca=K.useCallback(()=>{h("Get_PROJECT_ID"),T("Get_API_KEY"),A("Get_ACCESS_TOKEN")},[]),_n=K.useCallback(()=>Object.entries({English:"English",Spanish:"Spanish",French:"French",German:"German",Italian:"Italian",Portuguese:"Portuguese",Japanese:"Japanese","Mandarin Chinese":"Mandarin Chinese",Hindi:"Hindi",Marathi:"Marathi",Arabic:"Arabic"}).map(([F,Y])=>({value:Y,label:F})),[]),We=K.useCallback(b=>{const F=ea[b];if(!F)return{manOptions:[],womanOptions:[]};const Y=ce=>!ce||ce.length===0?[{value:"",label:"No voices available",disabled:!0}]:ce.map(he=>({value:JSON.stringify({languageCode:b,name:he.name}),label:he.description}));return{manOptions:Y(F.male||[]),womanOptions:Y(F.female||[])}},[]);K.useEffect(()=>{const{manOptions:b,womanOptions:F}=We(ne);b.length>0?M(b[0].value):M(""),F.length>0?W(F[0].value):W("")},[ne,We]);const ot=K.useCallback(()=>{const b=i.current;if(!b)return;const F=b.parentElement;F&&(F.classList.remove("aspect-[9/16]","aspect-[16/9]"),F.classList.add(`aspect-[${xe.replace(":","/")}]`),xe==="16:9"?(b.width=1280,b.height=720):(b.width=720,b.height=1280))},[xe]),Dn=K.useCallback((b,F)=>{const Y=F==="man"?n.current:o.current;if(b&&Y){const ce=URL.createObjectURL(b);Y.crossOrigin="anonymous",Y.src=ce,Y.load(),Y.classList.remove("hidden"),It.current[F]=Y,F==="man"?Ui(""):Li("")}},[]),mn=K.useCallback((b,F)=>{F==="man"?(Ui(b),document.getElementById("man_video_input").value=""):(Li(b),document.getElementById("woman_video_input").value="");const Y=F==="man"?n.current:o.current;if(!Y)return;if(!b){Y.src="",Y.classList.add("hidden"),It.current[F]=null;return}let ce=null;try{ce=JSON.parse(b)}catch(he){console.error("Invalid library selection payload",he);return}ce!=null&&ce.videoUrl&&(Y.crossOrigin="anonymous",Y.src=ce.videoUrl,Y.load(),Y.classList.remove("hidden"),It.current[F]=Y)},[]),fa=K.useCallback(async()=>{try{const b=li("man",jh.man),F=li("woman",jh.woman);if(so(b),oa(F),b.length>0){const Y=JSON.stringify(b[0]);Ui(Y),mn(Y,"man")}if(F.length>0){const Y=JSON.stringify(F[0]);Li(Y),mn(Y,"woman")}}catch(b){console.error("Failed to load built-in assets:",b),ro(`Failed to load built-in actors: ${b.message}`),so([]),oa([])}},[li,mn]),nl=K.useCallback(async(b,F)=>{var he;const Y=new MR({apiKey:void 0}),ce=F;try{const fe=(he=(await Y.models.generateContent({model:ce,contents:[{role:"user",parts:[{text:b}]}]})).text)==null?void 0:he.trim();if(!fe)throw new Error("AI Script Generation returned no content. The model may be unavailable.");return fe}catch(se){throw se.message.includes("403")||se.message.includes("API key")?new Error("AI Script Generation failed. Please check your API key and ensure it has access to the Gemini API. Error: "+se.message):new Error(`AI Script Generation failed: ${se.message}`)}},[]),il=K.useCallback(async b=>{const F=URL.createObjectURL(b);return new Promise((Y,ce)=>{const he=new Audio(F);he.addEventListener("loadedmetadata",()=>{URL.revokeObjectURL(F),Y(he.duration)}),he.addEventListener("error",se=>{URL.revokeObjectURL(F);const fe=he.error;let ge="unknown media error";if(fe)switch(fe.code){case MediaError.MEDIA_ERR_ABORTED:ge="Playback aborted.";break;case MediaError.MEDIA_ERR_NETWORK:ge="Network error during download.";break;case MediaError.MEDIA_ERR_DECODE:ge="Media decoding error.";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:ge="Media source not supported.";break;default:ge=`Media error (code: ${fe.code})`}ce(new Error(`Could not determine audio duration: ${ge}`))})})},[]),Cn=K.useCallback(async(b,F,Y)=>{const ce=Y==="man"?we:O;if(!ce)throw new Error(`Cannot generate audio: No ${Y} voices selected for the current language.`);const he=JSON.parse(ce),fe=await ol(b,F,he,H),ge=await(await fetch(`data:audio/mp3;base64,${fe}`)).blob(),ut=await il(ge);return{blob:ge,duration:ut}},[we,O,H,il]),ol=K.useCallback(async(b,F,Y,ce)=>{const he=`https://texttospeech.googleapis.com/v1/text:synthesize?key=${F}`,fe=await fetch(he,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{text:b},voice:Y,audioConfig:{audioEncoding:"MP3",speakingRate:ce}})});if(!fe.ok){const ut=await fe.json();throw new Error(`TTS API failed: ${ut.error.message}`)}const ge=await fe.json();if(!ge.audioContent)throw new Error("TTS API did not return audio content.");return ge.audioContent},[]),hn=K.useCallback((b,F,Y)=>{if(!F)return[];const ce=F.split(/\s+/),he=[];let se="";return ce.forEach(fe=>{const ge=se?`${se} ${fe}`:fe;b.measureText(ge).width>Y&&se?(he.push(se),se=fe):se=ge}),se&&he.push(se),he},[]),Un=K.useCallback(b=>{const F=ni.current;if(!F.title)return;const Y=b.canvas.width;b.save(),b.font='700 32px "Inter", sans-serif',b.textAlign="center",b.textBaseline="top";const ce=Y*.85,he=40,se=hn(b,F.title,ce),fe=se.reduce((lt,ct)=>Math.max(lt,b.measureText(ct).width),0),ge=24,ut=14,Ye=Math.min(fe+ge*2,Y-32),Fe=se.length*he+ut*2,Ce=(Y-Ye)/2,et=24;b.fillStyle="rgba(220, 38, 38, 0.95)",b.fillRect(Ce,et,Ye,Fe),b.fillStyle="#ffffff",se.forEach((lt,ct)=>{const ft=et+ut+ct*he;b.fillText(lt,Y/2,ft)}),b.restore()},[hn]),ai=K.useCallback(b=>{var ya;const F=ni.current;if(!F.showSubtitles||!F.currentSubtitle.text)return;const Y=b.canvas.width,ce=b.canvas.height;b.save();const he=F.subtitleFontSize||26;b.font=`600 ${he}px "Inter", sans-serif`,b.textAlign="center",b.textBaseline="top";const se=Y*.9,fe=he+8,ge=hn(b,F.currentSubtitle.text,se),ut=F.currentSubtitle.speaker,Ye=((ya=F.subtitleStyles[ut])==null?void 0:ya.text)||"#FFFFFF",Fe=performance.now()-F.currentSubtitle.startTime,Ce=Math.min(Fe/F.currentSubtitle.duration,1);let et=1,lt=0,ct=0;switch(F.subtitleAnimation){case"fade":et=Ce;break;case"slide-up":et=Ce,lt=(1-Ce)*50;break;case"slide-down":et=Ce,lt=-(1-Ce)*50;break;case"slide-left":et=Ce,ct=-(1-Ce)*100;break;case"slide-right":et=Ce,ct=(1-Ce)*100;break;case"scale":b.save();const tn=ge.length*fe+36,xt=ce-tn-28;b.translate(Y/2,xt+tn/2),b.scale(Ce,Ce),b.translate(-(Y/2),-(xt+tn/2)),et=Ce;break}b.globalAlpha=et;const ft=ge.reduce((tn,xt)=>Math.max(tn,b.measureText(xt).width),0),Ut=24,ha=18,ll=Math.min(ft+Ut*2,Y-32),al=ge.length*fe+ha*2,sl=(Y-ll)/2,ga=ce-al-28+lt;b.fillStyle="rgba(15, 23, 42, 0.8)",b.fillRect(sl,ga,ll,al),b.fillStyle=Ye,ge.forEach((tn,xt)=>{const rl=ga+ha+xt*fe;b.fillText(tn,Y/2+ct,rl)}),F.subtitleAnimation==="scale"&&b.restore(),b.restore()},[hn]),An=K.useCallback(()=>{const b=i.current;if(!b)return;const F=b.getContext("2d");F&&(F.clearRect(0,0,b.width,b.height),St.current&&St.current.readyState>=2&&F.drawImage(St.current,0,0,b.width,b.height),Un(F),ai(F),Qe.current=requestAnimationFrame(An))},[Un,ai]),je=K.useCallback(async b=>{var ut,Ye;const F=i.current,Y=a.current;if(!F||!Y)throw new Error("Video canvas or audio player not found.");if(_t("Initializing video recorder..."),F.classList.remove("hidden"),ni.current={title:$.trim(),showSubtitles:ee,currentSubtitle:{text:"",speaker:"",startTime:0,duration:250},subtitleFontSize:Se,subtitleStyles:{man:{text:yt},woman:{text:In}},subtitleAnimation:Di},!jt.current)try{jt.current=new(window.AudioContext||window.webkitAudioContext),ii.current=jt.current.createMediaElementSource(Y),oi.current=jt.current.createMediaStreamDestination(),ii.current.connect(oi.current),ii.current.connect(jt.current.destination)}catch(Fe){throw new Error(`Could not initialize audio: ${Fe.message}. Please click the page and try again.`)}const ce=F.captureStream(30),he=new MediaStream([...ce.getTracks(),...((ut=oi.current)==null?void 0:ut.stream.getTracks())||[]]),se=MediaRecorder.isTypeSupported("video/mp4; codecs=avc1.42E01E,mp4a.40.2")?"video/mp4":"video/webm",fe=se.includes("mp4")?"mp4":"webm";if(!MediaRecorder.isTypeSupported(se))throw new Error(`Video format ${se} is not supported by your browser.`);Ct.current=[],it.current=new MediaRecorder(he,{mimeType:se,videoBitsPerSecond:25e5}),it.current.ondataavailable=Fe=>{Fe.data.size>0&&Ct.current.push(Fe.data)},it.current.onerror=Fe=>{throw new Error(`Video recording failed: ${Fe.error.name}`)};const ge=new Promise(Fe=>{it.current&&(it.current.onstop=()=>{const Ce=new Blob(Ct.current,{type:se});la(URL.createObjectURL(Ce)),_t(`${fe.toUpperCase()} ready for download!`),Zo(!1),Fe()})});it.current.start(),Qe.current=requestAnimationFrame(An);for(let Fe=0;Fe<b.length;Fe++){const Ce=b[Fe];_t(`Scene ${Fe+1}/${b.length}: ${Ce.speaker.charAt(0).toUpperCase()+Ce.speaker.slice(1)}`);const et=It.current[Ce.speaker];if(!et)throw new Error(`Video for ${Ce.speaker} is not loaded.`);St.current=et,St.current.currentTime=0,St.current.loop=!0,await St.current.play();let lt=250;ni.current.currentSubtitle={text:Ce.text,speaker:Ce.speaker,startTime:performance.now(),duration:lt},(Ye=Ce.audio)!=null&&Ye.blob?(Y.src=URL.createObjectURL(Ce.audio.blob),await Y.play(),await new Promise(ct=>{Y.onended=()=>{St.current&&(St.current.loop=!1,St.current.pause(),St.current.currentTime=0),ni.current.currentSubtitle={text:"",speaker:"",startTime:0,duration:250},setTimeout(ct,200)}})):(await new Promise(ct=>{var ft;return setTimeout(ct,(ft=Ce.audio)!=null&&ft.duration?Ce.audio.duration*1e3:2e3)}),St.current&&(St.current.loop=!1,St.current.pause(),St.current.currentTime=0),ni.current.currentSubtitle={text:"",speaker:"",startTime:0,duration:250})}return it.current&&it.current.state==="recording"&&it.current.stop(),Qe.current&&(cancelAnimationFrame(Qe.current),Qe.current=null),St.current=null,ge},[$,ee,Se,yt,In,Di,An,v]),Pi=K.useCallback(async()=>{if("wakeLock"in navigator)try{Ft.current=await navigator.wakeLock.request("screen"),_t("Screen wake lock active. Keep tab visible."),Ft.current.addEventListener("release",()=>{console.log("Screen Wake Lock was released")}),console.log("Screen Wake Lock is active")}catch(b){console.warn(`Wake Lock failed: ${b.name}, ${b.message}`)}else console.warn("Wake Lock API not supported.")},[]),Oi=K.useCallback(()=>{Ft.current!==null&&(Ft.current.release(),Ft.current=null)},[]),en=K.useCallback(()=>{var b,F,Y;ro(""),la(null),Zo(!0),_t("Starting..."),(b=n.current)==null||b.classList.add("hidden"),(F=o.current)==null||F.classList.add("hidden"),(Y=i.current)==null||Y.classList.add("hidden"),Qe.current&&(cancelAnimationFrame(Qe.current),Qe.current=null)},[]),Jt=K.useCallback(b=>{Oi(),b&&(ro(`Error: ${b.message}`),console.error("Generation failed:",b)),Zo(!1),_t(b?`Error: ${b.message}`:"Generation complete!")},[Oi]),Xs=K.useCallback(async()=>{if(!I||!v||!It.current.man||!It.current.woman){alert("Please provide a Script Topic, TTS API Key, and upload/select both Man's and Woman's Videos.");return}en();try{await Pi(),ot(),_t("Loading video files..."),await new Promise((Y,ce)=>{const he=It.current.man,se=It.current.woman;if(!he||!se){ce(new Error("One or both video elements are missing."));return}const fe=(ge,ut)=>new Promise((Ye,Fe)=>{if(ge.readyState>=3){Ye();return}const Ce=()=>{lt(),Ye()},et=ct=>{lt();const ft=ct.target;let Ut="unknown error";if(ft.error)switch(ft.error.code){case MediaError.MEDIA_ERR_ABORTED:Ut="Playback aborted.";break;case MediaError.MEDIA_ERR_NETWORK:Ut="Network error during download.";break;case MediaError.MEDIA_ERR_DECODE:Ut="Media decoding error.";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:Ut="Media source not supported.";break;default:Ut=`Media error (code: ${ft.error.code})`}Fe(new Error(`Failed to load ${ut}'s video: ${Ut}`))},lt=()=>{ge.removeEventListener("canplaythrough",Ce),ge.removeEventListener("error",et)};ge.addEventListener("canplaythrough",Ce),ge.addEventListener("error",et)});Promise.all([fe(he,"man"),fe(se,"woman")]).then(()=>Y()).catch(ge=>ce(ge))}),_t("Generating AI script...");const b=await nl(U,X);ti(b);const F=b.split(`
`).filter(Y=>Y.trim()!==""&&(Y.startsWith("Man:")||Y.startsWith("Woman:"))).map(Y=>{const[ce,...he]=Y.split(":"),se=he.join(":").trim().replace(/[`*]/g,"");return{speaker:ce.trim().toLowerCase(),text:se,audio:null}});if(F.length===0)throw new Error("AI failed to generate a valid script.");_t("Generating all audio...");for(let Y of F)_t(`Generating audio for "${Y.speaker}"...`),Y.audio=await Cn(Y.text,v,Y.speaker);_t("All assets generated. Preparing video..."),await je(F)}catch(b){Jt(b)}finally{Jt(null)}},[I,v,U,X,Pi,ot,nl,Cn,je,en,Jt]),da=K.useCallback(async()=>{if(!Vi||!v||!It.current.man||!It.current.woman){alert("Please ensure a script is generated/written, TTS API Key is provided, and both videos are loaded.");return}en();try{await Pi(),ot(),_t("Loading video files..."),await new Promise((F,Y)=>{const ce=It.current.man,he=It.current.woman;if(!ce||!he){Y(new Error("One or both video elements are missing."));return}const se=(fe,ge)=>new Promise((ut,Ye)=>{if(fe.readyState>=3){ut();return}const Fe=()=>{et(),ut()},Ce=lt=>{et();const ct=lt.target;let ft="unknown error";if(ct.error)switch(ct.error.code){case MediaError.MEDIA_ERR_ABORTED:ft="Playback aborted.";break;case MediaError.MEDIA_ERR_NETWORK:ft="Network error during download.";break;case MediaError.MEDIA_ERR_DECODE:ft="Media decoding error.";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:ft="Media source not supported.";break;default:ft=`Media error (code: ${ct.error.code})`}Ye(new Error(`Failed to load ${ge}'s video: ${ft}`))},et=()=>{fe.removeEventListener("canplaythrough",Fe),fe.removeEventListener("error",Ce)};fe.addEventListener("canplaythrough",Fe),fe.addEventListener("error",Ce)});Promise.all([se(ce,"man"),se(he,"woman")]).then(()=>F()).catch(fe=>Y(fe))});const b=Vi.split(`
`).filter(F=>F.trim()!==""&&(F.startsWith("Man:")||F.startsWith("Woman:"))).map(F=>{const[Y,...ce]=F.split(":"),he=ce.join(":").trim().replace(/[`*]/g,"");return{speaker:Y.trim().toLowerCase(),text:he,audio:null}});if(b.length===0)throw new Error("The custom script does not contain any valid 'Man:' or 'Woman:' dialogue lines.");_t("Generating audio from custom script...");for(let F of b)_t(`Generating audio for "${F.speaker}"...`),F.audio=await Cn(F.text,v,F.speaker);_t("All assets generated. Preparing video..."),await je(b)}catch(b){Jt(b)}finally{Jt(null)}},[Vi,v,Pi,ot,Cn,je,en,Jt]);K.useEffect(()=>{fa(),ot();const{manOptions:b,womanOptions:F}=We(ne);b.length>0&&M(b[0].value),F.length>0&&W(F[0].value)},[fa,ot,We,ne]),K.useEffect(()=>()=>{it.current&&it.current.state!=="inactive"&&it.current.stop(),Qe.current&&cancelAnimationFrame(Qe.current),Oi(),jt.current&&jt.current.close()},[Oi]);const pa=_n(),{manOptions:ma,womanOptions:ki}=We(ne);return G.jsxs("div",{className:"w-full max-w-7xl mx-auto bg-white rounded-2xl shadow-2xl p-8 space-y-8 my-8",children:[G.jsx("h1",{className:"text-4xl font-extrabold text-center text-gray-900 mb-6",children:"Gemini 3 Dialogue Director: AI Video Storyteller"}),G.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Craft dynamic video conversations with Gemini AI, featuring custom actors, voices, and real-time subtitles."}),G.jsxs("div",{className:"flex flex-col space-y-4",children:[G.jsxs("div",{id:"output_container",className:`w-full bg-gray-900 rounded-lg flex items-center justify-center relative overflow-hidden border-2 border-gray-300 aspect-[${xe.replace(":","/")}]`,children:[He&&G.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-900 bg-opacity-75 z-20",children:[G.jsx("div",{className:"loader mb-4"}),G.jsx("p",{className:"text-gray-200 text-lg font-medium text-center px-4",children:Nt})]}),!He&&!Gi&&!ei&&(!It.current.man||!It.current.woman)&&G.jsx("div",{className:"text-gray-400 px-4 text-center z-10",children:"Upload both videos and open the Script Editor to begin."}),Gi&&!He&&G.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-red-900 bg-opacity-75 z-20 p-4",children:[G.jsx("p",{className:"text-red-100 text-lg font-semibold mb-2",children:"Generation Failed!"}),G.jsx("p",{className:"text-red-200 text-sm text-center max-w-md",children:Gi})]}),G.jsx("video",{ref:n,className:"absolute top-0 left-0 w-full h-full object-cover hidden",muted:!0,playsInline:!0,"aria-label":"Man's video playback"}),G.jsx("video",{ref:o,className:"absolute top-0 left-0 w-full h-full object-cover hidden",muted:!0,playsInline:!0,"aria-label":"Woman's video playback"}),G.jsx("canvas",{ref:i,className:"absolute top-0 left-0 w-full h-full object-cover hidden","aria-label":"Combined video output"}),G.jsx("audio",{ref:a,className:"hidden",crossOrigin:"anonymous","aria-label":"Dialogue audio playback"})]}),!He&&!Gi&&G.jsx("div",{className:"text-center text-sm text-gray-600 h-5","aria-live":"polite",children:Nt})]}),G.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[G.jsxs("div",{className:"space-y-6",children:[G.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2",children:"Actors & Videos"}),G.jsxs("div",{className:"space-y-4",children:[G.jsx("p",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Upload Custom Talking Heads"}),G.jsxs("div",{children:[G.jsx("label",{htmlFor:"man_video_input",className:"block text-sm font-medium text-gray-700",children:"Man's Video (Talking)"}),G.jsx("input",{type:"file",id:"man_video_input",accept:"video/mp4,video/webm",onChange:b=>Dn(b.target.files?b.target.files[0]:null,"man"),disabled:He,className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100","aria-label":"Upload man's video"})]}),G.jsxs("div",{children:[G.jsx("label",{htmlFor:"woman_video_input",className:"block text-sm font-medium text-gray-700",children:"Woman's Video (Talking)"}),G.jsx("input",{type:"file",id:"woman_video_input",accept:"video/mp4,video/webm",onChange:b=>Dn(b.target.files?b.target.files[0]:null,"woman"),disabled:He,className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-pink-50 file:text-pink-700 hover:file:bg-pink-100","aria-label":"Upload woman's video"})]})]}),G.jsxs("div",{className:"bg-gray-50 border border-dashed border-gray-300 rounded-xl p-4",children:[G.jsx("p",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Built-in Talking Head Library"}),G.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[G.jsx(fn,{id:"man_video_select",label:"Select Man Actor",value:jn,onChange:b=>mn(b.target.value,"man"),options:[{value:"",label:Bt.length===0?"Loading...":"Select a built-in man clip"},...Bt.map(b=>({value:JSON.stringify(b),label:b.label}))],disabled:He||Bt.length===0}),G.jsx(fn,{id:"woman_video_select",label:"Select Woman Actor",value:wn,onChange:b=>mn(b.target.value,"woman"),options:[{value:"",label:xn.length===0?"Loading...":"Select a built-in woman clip"},...xn.map(b=>({value:JSON.stringify(b),label:b.label}))],disabled:He||xn.length===0})]}),G.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["These clips are loaded from ",G.jsx("span",{className:"font-semibold",children:"local video assets"}),"."]}),G.jsxs("div",{className:"mt-6 space-y-4",children:[G.jsxs("div",{children:[G.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Men"}),G.jsx("div",{id:"man_gallery",className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3",children:Bt.length===0?G.jsx("p",{className:"text-sm text-gray-500 col-span-full",children:"Loading man actors..."}):Bt.map((b,F)=>G.jsxs("div",{className:`gallery-item rounded-lg overflow-hidden border border-gray-200 bg-white shadow-sm hover:shadow-md transition-all cursor-pointer ${jn===JSON.stringify(b)?"ring-2 ring-indigo-500":""}`,onClick:()=>mn(JSON.stringify(b),"man"),role:"button",tabIndex:0,"aria-pressed":jn===JSON.stringify(b),"aria-label":`Select man actor ${b.label}`,children:[G.jsx("img",{src:b.thumbnail||`https://via.placeholder.com/150/f0f2f5/4f46e5?text=${b.label.charAt(0)}`,alt:b.label,className:"w-full h-auto object-cover aspect-square"}),G.jsx("div",{className:"p-2 text-center text-xs font-medium text-gray-600",children:b.label})]},`man-${F}`))})]}),G.jsxs("div",{children:[G.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Women"}),G.jsx("div",{id:"woman_gallery",className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3",children:xn.length===0?G.jsx("p",{className:"text-sm text-gray-500 col-span-full",children:"Loading woman actors..."}):xn.map((b,F)=>G.jsxs("div",{className:`gallery-item rounded-lg overflow-hidden border border-gray-200 bg-white shadow-sm hover:shadow-md transition-all cursor-pointer ${wn===JSON.stringify(b)?"ring-2 ring-pink-500":""}`,onClick:()=>mn(JSON.stringify(b),"woman"),role:"button",tabIndex:0,"aria-pressed":wn===JSON.stringify(b),"aria-label":`Select woman actor ${b.label}`,children:[G.jsx("img",{src:b.thumbnail||`https://via.placeholder.com/150/f0f2f5/4f46e5?text=${b.label.charAt(0)}`,alt:b.label,className:"w-full h-auto object-cover aspect-square"}),G.jsx("div",{className:"p-2 text-center text-xs font-medium text-gray-600",children:b.label})]},`woman-${F}`))})]})]})]})]}),G.jsxs("div",{className:"space-y-6",children:[G.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2",children:"Video & Audio Settings"}),G.jsxs("div",{className:"space-y-4",children:[G.jsx(Yo,{id:"video_title_input",label:"Video Title (optional)",value:$,onChange:el,placeholder:"e.g., AI Interview Practice Session",disabled:He}),G.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[G.jsx(fn,{id:"aspect_ratio_select",label:"Aspect Ratio",value:xe,onChange:Hi,options:[{value:"9:16",label:"9:16 (Portrait)"},{value:"16:9",label:"16:9 (Landscape)"}],disabled:He}),G.jsx(eg,{id:"speaking_rate_slider",label:"Speaking Speed",min:.5,max:1.5,value:H,step:.1,onChange:Ys,unit:"x",disabled:He})]}),G.jsx(fn,{id:"language_select",label:"Voice Language",value:ne,onChange:aa,options:Object.keys(ea).sort((b,F)=>ea[b].description.localeCompare(ea[F].description)).map(b=>({value:b,label:ea[b].description})),disabled:He}),G.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[G.jsx(fn,{id:"man_voice_select",label:"Man's Voice",value:we,onChange:Wo,options:ma,disabled:He||ma.length===0||!we}),G.jsx(fn,{id:"woman_voice_select",label:"Woman's Voice",value:O,onChange:qi,options:ki,disabled:He||ki.length===0||!O})]})]}),G.jsxs("div",{className:"pt-4 border-t space-y-4",children:[G.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Subtitle Styling"}),G.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[G.jsx("input",{type:"checkbox",id:"show_subtitles_toggle",checked:ee,onChange:Ks,disabled:He,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),"Show subtitles inside the video"]}),G.jsx(eg,{id:"subtitle_font_slider",label:"Subtitle Font Size",min:16,max:44,value:Se,step:1,onChange:sa,unit:"px",disabled:He||!ee}),G.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[G.jsxs("div",{children:[G.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Man's Subtitles"}),G.jsx(tg,{id:"man_subtitle_text_color",label:"Text Color",value:yt,onChange:ra,disabled:He||!ee})]}),G.jsxs("div",{children:[G.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Woman's Subtitles"}),G.jsx(tg,{id:"woman_subtitle_text_color",label:"Text Color",value:In,onChange:ua,disabled:He||!ee})]})]}),G.jsx(fn,{id:"subtitle_animation_select",label:"Subtitle Animation",value:Di,onChange:jo,options:[{value:"none",label:"None"},{value:"fade",label:"Fade In"},{value:"slide-up",label:"Slide Up"},{value:"slide-down",label:"Slide Down"},{value:"slide-left",label:"Slide from Left"},{value:"slide-right",label:"Slide from Right"},{value:"scale",label:"Scale In (Pop)"}],disabled:He||!ee})]}),G.jsxs("div",{className:"pt-4 border-t space-y-4",children:[G.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Advanced Options"}),G.jsx("button",{onClick:()=>f(!0),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:He,"aria-label":"Open credentials settings",children:"Manage Credentials"}),G.jsx("button",{onClick:()=>g(!0),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:He,"aria-label":"Open script editor and AI prompt settings",children:"Open Script Editor"})]})]})]}),G.jsxs("div",{className:"space-y-4 pt-8 border-t-2 border-gray-200",children:[$o?G.jsx("button",{onClick:da,disabled:He||!Vi||!v||!jn||!wn,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Generate video from custom script",children:He?"Generating Custom Video...":"Generate From Custom Script"}):G.jsx("button",{onClick:Xs,disabled:He||!I||!v||!jn||!wn,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Generate video",children:He?"Generating Video...":"Generate Video"}),ei&&G.jsx("a",{href:ei,download:`Gemini3_Dialogue_Video_${xe.replace(":","_")}.mp4`,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500","aria-label":"Download generated video",children:"Download Video"})]}),G.jsx(wR,{isOpen:r,onClose:()=>f(!1),isLoading:He,projectId:y,setProjectId:h,ttsApiKey:v,setTtsApiKey:T,vertexAccessToken:E,setVertexAccessToken:A,fillDefaultCredentials:ca}),G.jsx(DR,{isOpen:p,onClose:()=>g(!1),isLoading:He,scriptPrompt:I,setScriptPrompt:V,modelId:X,setModelId:z,videoLength:ae,setVideoLength:Q,scriptLanguage:te,setScriptLanguage:oe,scriptCategory:pe,setScriptCategory:Ne,dialoguePace:Ie,setDialoguePace:Je,fullPrompt:U,setFullPrompt:B,isInteractiveMode:$o,setIsInteractiveMode:Js,generatedScript:Vi,setGeneratedScript:ti,handleScriptGenerationFunction:nl,scriptLanguageOptions:pa})]})};f0.createRoot(document.getElementById("root")).render(G.jsx(i0.StrictMode,{children:G.jsx(UR,{})}));
